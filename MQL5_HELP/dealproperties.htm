<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" />
  <title>Deal Properties</title>
  <meta name="keywords" content="DEAL_COMMENT,DEAL_COMMISSION,DEAL_ENTRY,DEAL_ENTRY_IN,DEAL_ENTRY_INOUT,DEAL_ENTRY_OUT,DEAL_ENTRY_STATE,DEAL_MAGIC,DEAL_ORDER,DEAL_POSITION_ID,DEAL_PRICE,DEAL_PROFIT,DEAL_SWAP,DEAL_SYMBOL,DEAL_TICKET,DEAL_TIME,DEAL_TIME_MSC,DEAL_TYPE,DEAL_TYPE_BALANCE,DEAL_TYPE_BONUS,DEAL_TYPE_BUY,DEAL_TYPE_BUY_CANCELED,DEAL_TYPE_CHARGE,DEAL_TYPE_COMMISSION,DEAL_TYPE_COMMISSION_AGENT_DAILY,DEAL_TYPE_COMMISSION_AGENT_MONTHLY,DEAL_TYPE_COMMISSION_DAILY,DEAL_TYPE_COMMISSION_MONTHLY,DEAL_TYPE_CORRECTION,DEAL_TYPE_CREDIT,DEAL_TYPE_INTEREST,DEAL_TYPE_SELL,DEAL_TYPE_SELL_CANCELED,DEAL_VOLUME,ENUM_DEAL_ENTRY,ENUM_DEAL_PROPERTY_DOUBLE,ENUM_DEAL_PROPERTY_INTEGER,ENUM_DEAL_PROPERTY_STRING,ENUM_DEAL_TYPE" />
  <link type="text/css" href="default.css" rel="stylesheet" />
  <link type="text/css" href="screenshot.css" rel="stylesheet" />
  

   
   
   


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Reference </a> / <a class="h_m" href="constants.htm"> Constants, Enumerations and Structures </a> / <a class="h_m" href="tradingconstants.htm"> Trade Constants </a>/ Deal Properties
          </td>
          <td width="70" align="right">
          <a href="positionproperties.htm"><img style="vertical-align:middle;" src="previous.png" alt="Previous" width="27" height="27" border=0></a>&nbsp;
          <a href="enum_trade_request_actions.htm"><img style="vertical-align:middle;" src="next.png" alt="Next" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H1"><span class="f_H1">Deal Properties</span></p>
<p class="p_Text"><span class="f_Text">A deal is the reflection of the fact of a <a href="enum_trade_request_actions.htm" class="topiclink">trade operation</a> execution based on an <a href="orderproperties.htm" class="topiclink">order</a> that contains a trade request. Each trade is described by properties that allow to obtain information about it. In order to read values of properties, functions of the </span><span class="f_Text" style="color: #0000ff;">HistoryDealGet...()</span><span class="f_Text"> type are used, that return values from corresponding enumerations.</span></p>
<p class="p_Text"><span class="f_Text">For the function <a href="historydealgetinteger.htm" class="topiclink">HistoryDealGetInteger()</a></span></p>
<p class="p_Text"><a name="enum_deal_property_integer" class="hmanchor"></a><span class="f_Text" style="font-weight: bold;">ENUM_DEAL_PROPERTY_INTEGER</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="EnumTable" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:225px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Identifier</span></p>
</th>
<th class="EnumTable" style="width:231px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Description</span></p>
</th>
<th class="EnumTable" style="width:260px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Type</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TICKET</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal ticket. Unique number assigned to each deal</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">long</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_ORDER</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal <a href="historyordergetticket.htm" class="topiclink">order number</a></span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">long</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TIME</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal time</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">datetime</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:223px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TIME_MSC</span></p>
</td>
<td class="EnumTable" style="width:389px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The time of a deal execution in milliseconds since 01.01.1970</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">long</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal type</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType"><a href="dealproperties.htm#enum_deal_type" class="topiclink">ENUM_DEAL_TYPE</a></span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_ENTRY</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal entry - entry in, entry out, reverse</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType"><a href="dealproperties.htm#enum_deal_entry" class="topiclink">ENUM_DEAL_ENTRY</a></span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_MAGIC</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal magic number (see <a href="orderproperties.htm" class="topiclink">ORDER_MAGIC</a>)</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">long</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The reason or source for deal execution</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType"><a href="dealproperties.htm#enum_deal_reason" class="topiclink">ENUM_DEAL_REASON</a></span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_POSITION_ID</span></p>
</td>
<td class="EnumTable" style="width:231px;"><p class="p_EnumDesc"><span class="f_EnumDesc"><a href="positionproperties.htm#enum_position_property_integer" class="topiclink">Identifier of a position</a>, in the opening, modification or closing of which this deal took part. Each position has a unique identifier that is assigned to all deals executed for the symbol during the entire lifetime of the position.</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">long</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">For the function <a href="historydealgetdouble.htm" class="topiclink">HistoryDealGetDouble()</a></span></p>
<p class="p_Text"><a name="enum_deal_property_double" class="hmanchor"></a><span class="f_Text" style="font-weight: bold;">ENUM_DEAL_PROPERTY_DOUBLE</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="EnumTable" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:224px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Identifier</span></p>
</th>
<th class="EnumTable" style="width:232px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Description</span></p>
</th>
<th class="EnumTable" style="width:260px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Type</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_VOLUME</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal volume</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_PRICE</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal price</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_COMMISSION</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal commission</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_SWAP</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Cumulative swap on close</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_PROFIT</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal profit</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_FEE</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Fee for making a deal charged immediately after performing a deal</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_SL</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Stop Loss level</span></p>
<ul style="list-style-type:disc">
<li class="p_EnumDesc"><span class="f_FunctionRemLI">Entry and reversal deals use the Stop Loss values from the original order based on which the position was opened or reversed</span></li>
<li class="p_EnumDesc"><span class="f_FunctionRemLI">Exit deals use the Stop Loss of a position as at the time of position closing</span></li>
</ul>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TP</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Take Profit level</span></p>
<ul style="list-style-type:disc">
<li class="p_EnumDesc"><span class="f_FunctionRemLI">Entry and reversal deals use the </span><span class="f_EnumDesc">Take Profit</span><span class="f_FunctionRemLI"> values from the original order based on which the position was opened or reversed</span></li>
<li class="p_EnumDesc"><span class="f_FunctionRemLI">Exit deals use the </span><span class="f_EnumDesc">Take Profit</span><span class="f_FunctionRemLI"> value of a position as at the time of position closing</span></li>
</ul>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">double</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">For the function <a href="historydealgetstring.htm" class="topiclink">HistoryDealGetString()</a></span></p>
<p class="p_Text"><a name="enum_deal_property_string" class="hmanchor"></a><span class="f_Text" style="font-weight: bold;">ENUM_DEAL_PROPERTY_STRING</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="EnumTable" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:224px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Identifier</span></p>
</th>
<th class="EnumTable" style="width:232px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Description</span></p>
</th>
<th class="EnumTable" style="width:260px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Type</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_SYMBOL</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal symbol</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">string</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_COMMENT</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal comment</span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">string</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:224px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_EXTERNAL_ID</span></p>
</td>
<td class="EnumTable" style="width:232px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Deal identifier in an external trading system (on the Exchange) </span></p>
</td>
<td class="EnumTable" style="width:260px;"><p class="p_EnumType"><span class="f_EnumType">string</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Text"><span class="f_Text">Each deal is characterized by a type, allowed values are enumerated in ENUM_DEAL_TYPE. In order to obtain information about the deal type, use the <a href="historydealgetinteger.htm" class="topiclink">HistoryDealGetInteger()</a> function with the DEAL_TYPE modifier.</span></p>
<p class="p_Text"><a name="enum_deal_type" class="hmanchor"></a><span class="f_Text" style="font-weight: bold;">ENUM_DEAL_TYPE</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="EnumTable" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:226px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Identifier</span></p>
</th>
<th class="EnumTable" style="width:502px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_BUY </span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Buy</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_SELL</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Sell</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_BALANCE</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Balance</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_CREDIT</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Credit</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_CHARGE</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Additional charge</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_CORRECTION</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Correction</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_BONUS</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Bonus</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_COMMISSION</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Additional commission</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_COMMISSION_DAILY</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Daily commission</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_COMMISSION_MONTHLY</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Monthly commission</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_COMMISSION_AGENT_DAILY</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Daily agent commission</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_COMMISSION_AGENT_MONTHLY</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Monthly agent commission</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_INTEREST</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Interest rate</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_BUY_CANCELED</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Canceled buy deal. </span><span class="f_Normal" style="font-family: 'Trebuchet MS',sans-serif; color: #565656; background-color: transparent;">There can be a situation when a previously executed buy deal is canceled. In this case, the type of the previously executed deal (</span><span class="f_EnumID">DEAL_TYPE_BUY)</span><span class="f_Normal" style="font-family: 'Trebuchet MS',sans-serif; color: #565656; background-color: transparent;"> is changed to </span><span class="f_EnumID">DEAL_TYPE_BUY_CANCELED</span><span class="f_Normal" style="font-family: 'Trebuchet MS',sans-serif; color: #565656; background-color: transparent;">, and its profit/loss is zeroized. Previously obtained profit/loss is charged/withdrawn using a separated balance operation</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TYPE_SELL_CANCELED</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Canceled sell deal. </span><span class="f_Normal" style="font-family: 'Trebuchet MS',sans-serif; color: #565656; background-color: transparent;">There can be a situation when a previously executed sell deal is canceled. In this case, the type of the previously executed deal (</span><span class="f_EnumID">DEAL_TYPE_SELL)</span><span class="f_Normal" style="font-family: 'Trebuchet MS',sans-serif; color: #565656; background-color: transparent;"> is changed to </span><span class="f_EnumID">DEAL_TYPE_SELL_CANCELED</span><span class="f_Normal" style="font-family: 'Trebuchet MS',sans-serif; color: #565656; background-color: transparent;">, and its profit/loss is zeroized. Previously obtained profit/loss is charged/withdrawn using a separated balance operation</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_DIVIDEND</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Dividend operations</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_DIVIDEND_FRANKED</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Franked (non-taxable) dividend operations</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:226px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_TAX</span></p>
</td>
<td class="EnumTable" style="width:502px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Tax charges</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Text"><span class="f_Text">Deals differ not only in their types set in ENUM_DEAL_TYPE, but also in the way they change positions. This can be a simple position opening, or accumulation of a previously opened position (market entering), position closing by an opposite deal of a corresponding volume (market exiting), or position reversing, if the opposite-direction deal covers the volume of the previously opened position. </span></p>
<p class="p_Text"><span class="f_Text">All these situations are described by values from the ENUM_DEAL_ENTRY enumeration. In order to receive this information about a deal, use the <a href="historydealgetinteger.htm" class="topiclink">HistoryDealGetInteger()</a> function with the DEAL_ENTRY modifier.</span></p>
<p class="p_Text"><a name="enum_deal_entry" class="hmanchor"></a><span class="f_Text" style="font-weight: bold;">ENUM_DEAL_ENTRY</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="EnumTable" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:225px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Identifier</span></p>
</th>
<th class="EnumTable" style="width:503px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_ENTRY_IN</span></p>
</td>
<td class="EnumTable" style="width:503px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Entry in</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_ENTRY_OUT</span></p>
</td>
<td class="EnumTable" style="width:503px;"><p class="p_EnumDesc"><span class="f_EnumDesc">Entry out</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_ENTRY_INOUT</span></p>
</td>
<td class="EnumTable" style="width:503px;"><p class="p_Normal"><span class="f_EnumDesc"> Reverse</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:225px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_ENTRY_OUT_BY</span></p>
</td>
<td class="EnumTable" style="width:503px;"><p class="p_Normal"><span class="f_EnumDesc">Close a position by an opposite one</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Text"><span class="f_Text">The reason for deal execution is contained in the DEAL_REASON property. A deal can be executed as a result of triggering of an order placed from a mobile application or an MQL5 program, as well as as a result of the StopOut event, variation margin calculation, etc. Possible values of DEAL_REASON are described in the ENUM_DEAL_REASON enumeration. For non-trading deals resulting from balance, credit, commission and other operations, DEAL_REASON_CLIENT is indicated as the reason.</span></p>
<p class="p_Text"><a name="enum_deal_reason" class="hmanchor"></a><span class="f_Text" style="font-weight: bold;">ENUM_DEAL_REASON</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="EnumTable" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:221px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Identifier</span></p>
</th>
<th class="EnumTable" style="width:663px;"><p class="p_EnumHeader"><span class="f_EnumHeader">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_CLIENT</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of activation of an order placed from a desktop terminal</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_MOBILE</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of activation of an order placed from a mobile application</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_WEB</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of activation of an order placed from the web platform</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_EXPERT</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of activation of an order placed from an MQL5 program, i.e. an Expert Advisor or a script</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_SL</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of Stop Loss activation</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_TP</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of Take Profit activation</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_SO</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of the Stop Out event</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_ROLLOVER</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed due to a rollover</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_VMARGIN</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed after charging the variation margin</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_SPLIT</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed after the split (price reduction) of an instrument, which had an open position during split announcement</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:221px;"><p class="p_EnumID"><span class="f_EnumID">DEAL_REASON_CORPORATE_ACTION</span></p>
</td>
<td class="EnumTable" style="width:663px;"><p class="p_EnumDesc"><span class="f_EnumDesc">The deal was executed as a result of a corporate action: merging or renaming a security, transferring a client to another account, etc.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>

</div>

</body>
</html>
