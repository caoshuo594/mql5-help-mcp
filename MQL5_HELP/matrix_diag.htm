<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" />
  <title>Diag</title>
  <meta name="keywords" content="Diag" />
  <link type="text/css" href="default.css" rel="stylesheet" />
  <link type="text/css" href="screenshot.css" rel="stylesheet" />
  

   
   
   


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Reference </a> / <a class="h_m" href="matrix.htm"> Matrix and Vector Methods </a> / <a class="h_m" href="matrix_manipulations.htm"> Manipulations </a>/ Diag
          </td>
          <td width="70" align="right">
          <a href="matrix_triu.htm"><img style="vertical-align:middle;" src="previous.png" alt="Previous" width="27" height="27" border=0></a>&nbsp;
          <a href="matrix_row.htm"><img style="vertical-align:middle;" src="next.png" alt="Next" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H1"><span class="f_H1">Diag</span></p>
<p class="p_Function"><span class="f_Function">Extract a diagonal or construct a diagonal matrix.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_Keywords">vector&nbsp;matrix::</span><span class="f_Functions">Diag</span><span class="f_CodeExample">(</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_Keywords">const&nbsp;int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">ndiag=0</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;number&nbsp;of&nbsp;diagonal</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;);</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_Keywords">void&nbsp;matrix::</span><span class="f_Functions">Diag</span><span class="f_CodeExample">(</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_Keywords">const&nbsp;vector</span><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_Param">v</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;diagonal&nbsp;vector</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_Keywords">const&nbsp;int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">ndiag=0</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;number&nbsp;of&nbsp;diagonal</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;);</span></p>
</td>
</tr>
</table>
</div>
<p class="p_BoldTitles"><span class="f_BoldTitles">Parameters</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">v</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] A vector whose elements will be contained in the corresponding diagonal (ndiag=0 is the main diagonal).</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">ndiag=0</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp;Diagonal in question. The default is 0. Use ndiag&gt;0 for diagonals above the main diagonal, and ndiag&lt;0 for diagonals below the main diagonal.</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">&nbsp;</span></p>
<p class="p_BoldTitles"><span class="f_BoldTitles">Note</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">A diagonal can be set for unallocated matrices (which do not have dimensions). In this case, a zero matrix of the size will be created with the size corresponding to the size of the diagonal vector, after which the vector values will be populated in the corresponding diagonal. If the diagonal is set to an already existing matrix, the matrix dimensions do not change and the values of the matrix elements outside the diagonal vector do not change.</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">&nbsp;</span></p>
<p class="p_Text"><span class="f_Text" style="font-weight: bold;">Example</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">vector</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">v1</span><span class="f_CodeExample">={</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">3</span><span class="f_CodeExample">};</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">matrix</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m1</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m1</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Diag</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">v1</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;m1\n&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">m1</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">matrix</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m2</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m2</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Diag</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">v1</span><span class="f_CodeExample">,-</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;m2\n&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">m2</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">matrix</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m3</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m3</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Diag</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">v1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;m3\n&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">m3</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">matrix</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m4</span><span class="f_CodeExample">=</span><span class="f_CodeExample" style="color: #0000ff;">matrix</span><span class="f_CodeExample">::</span><span class="f_CodeExample" style="color: #333333;">Full</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">4</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">5</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m4</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Diag</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">v1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;m4\n&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">m4</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;diag&nbsp;-1&nbsp;-&nbsp;&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">m4</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Diag</span><span class="f_CodeExample">(-</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;diag&nbsp;0&nbsp;-&nbsp;&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">m4</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Diag</span><span class="f_CodeExample">());</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;diag&nbsp;1&nbsp;-&nbsp;&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">m4</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Diag</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;/*</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m1</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[[</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">3</span><span class="f_CodeExample">]]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m2</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">3</span><span class="f_CodeExample">]]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m3</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">3</span><span class="f_CodeExample">]]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m4</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[[</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">3</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">]]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">diag</span><span class="f_CodeExample">&nbsp;-</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">&nbsp;-&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">diag</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">&nbsp;-&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">diag</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">&nbsp;-&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">3</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #333333;">9</span><span class="f_CodeExample">]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;*/</span></p>
</td>
</tr>
</table>
</div>

</div>

</body>
</html>
