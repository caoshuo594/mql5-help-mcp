<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" />
  <title>CPIECHART</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />
  <link type="text/css" href="screenshot.css" rel="stylesheet" />
  

   
   
   


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Reference </a> / <a class="h_m" href="standardlibrary.htm"> Standard Library </a> / <a class="h_m" href="canvasgraphics.htm"> Custom Graphics </a>/ CPieChart
          </td>
          <td width="70" align="right">
          <a href="clinechartcalcarea.htm"><img style="vertical-align:middle;" src="previous.png" alt="Previous" width="27" height="27" border=0></a>&nbsp;
          <a href="cpiechartcreate.htm"><img style="vertical-align:middle;" src="next.png" alt="Next" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H1"><span class="f_H1">CPieChart</span></p>
<p class="p_Text"><span class="f_Text">Class for plotting pie charts.</span></p>
<p class="p_Text" style="text-align: center;"><img class="help" alt="ccanvas_piechart" width="600" height="450" style="margin:0 auto 0 auto;width:600px;height:450px;border:none" src="ccanvas_piechart.png"/></p>
<p class="p_Text"><span class="f_Text">The code of the above figure is provided <a href="cpiechart.htm#sample" class="topiclink">below</a>. </span></p>
<p class="p_H3"><span class="f_H3">Description</span></p>
<p class="p_Text"><span class="f_Text">The methods included in this class are designed for full-scale operation with pie charts, from the creating a graphical resource to designing labels to segments.</span></p>
<p class="p_H3"><span class="f_H3">Declaration</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">class</span><span class="f_CodeExample">&nbsp;CPieChart&nbsp;:&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">public</span><span class="f_CodeExample">&nbsp;CChartCanvas</span></p>
</td>
</tr>
</table>
</div>
<p class="p_H3"><span class="f_H3">Title</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">#include</span><span class="f_CodeExample">&nbsp;&lt;Canvas\Charts\PieChart.mqh&gt;</span></p>
</td>
</tr>
</table>
</div>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="hierarchy" cellspacing="0" cellpadding="0" border="0">
<tr class="hierarchy">
<td class="hierarchy"><p class="p_H3"><span class="f_H3">Inheritance hierarchy</span></p>
<p class="p_hierarchy"><span class="f_hierarchy"> &nbsp; <a href="ccanvas.htm" class="topiclink">CCanvas</a></span></p>
<p class="p_hierarchy"><span class="f_hierarchy"> &nbsp; &nbsp; &nbsp; <a href="cchartcanvas.htm" class="topiclink">CChartCanvas</a></span></p>
<p class="p_hierarchy"><span class="f_hierarchy"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CPieChart</span></p>
</td>
</tr>
</table>
</div>
<p class="p_H3"><span class="f_H3">Class methods</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 8px 17px 7px 17px;"><table class="EnumTable" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:249px;"><p class="p_fortable"><span class="f_fortable" style="font-weight: bold;">Method</span></p>
</th>
<th class="EnumTable"><p class="p_fortable"><span class="f_fortable" style="font-weight: bold;">Action</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartcreate.htm" class="topiclink">Create</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Virtual method that creates a graphical resource. &nbsp;</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartseriesset.htm" class="topiclink">SeriesSet</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Sets a series of values that will be shows on the pie chart.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartvalueadd.htm" class="topiclink">ValueAdd</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Adds a new value to the pie chart (to the end).</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartvalueinsert.htm" class="topiclink">ValueInsert</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Inserts a new value to the pie chart (at the specified position).</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartvalueupdate.htm" class="topiclink">ValueUpdate</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Updates the value on the pie chart (at the specified position).</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartvaluedelete.htm" class="topiclink">ValueDelete</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Removes a value from the pie chart (at the specified position).</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartdrawchart.htm" class="topiclink">DrawChart</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Virtual method which draws a pie chart and all its elements.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartdrawpie.htm" class="topiclink">DrawPie</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Draws a segment of the pie chart, which corresponds to a specified value. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:300px;"><p class="p_fortable"><span class="f_fortable"><a href="cpiechartlabelmake.htm" class="topiclink">LabelMake</a></span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Generates a segment label based on its value and the original label.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="hierarchy" cellspacing="0" cellpadding="0" border="0">
<thead>
<tr class="hierarchy">
<th class="hierarchy"><p class="p_BoldTitles"><span class="f_BoldTitles">Methods inherited from class CCanvas</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption"><a href="ccanvascreatebitmap.htm" class="topiclink">CreateBitmap</a>, <a href="ccanvascreatebitmap.htm" class="topiclink">CreateBitmap</a>, <a href="ccanvascreatebitmaplabel.htm" class="topiclink">CreateBitmapLabel</a>, <a href="ccanvascreatebitmaplabel.htm" class="topiclink">CreateBitmapLabel</a>, <a href="ccanvasattach.htm" class="topiclink">Attach</a>, <a href="ccanvasattach.htm" class="topiclink">Attach</a>, <a href="ccanvasdestroy.htm" class="topiclink">Destroy</a>, <a href="ccanvaschartobjectname.htm" class="topiclink">ChartObjectName</a>, <a href="ccanvasresourcename.htm" class="topiclink">ResourceName</a>, <a href="ccanvaswidth.htm" class="topiclink">Width</a>, <a href="ccanvasheight.htm" class="topiclink">Height</a>, <a href="ccanvasupdate.htm" class="topiclink">Update</a>, <a href="ccanvasresize.htm" class="topiclink">Resize</a>, <a href="ccanvaserase.htm" class="topiclink">Erase</a>, <a href="ccanvaspixelget.htm" class="topiclink">PixelGet</a>, <a href="ccanvaspixelset.htm" class="topiclink">PixelSet</a>, <a href="ccanvaslinevertical.htm" class="topiclink">LineVertical</a>, <a href="ccanvaslinehorizontal.htm" class="topiclink">LineHorizontal</a>, <a href="ccanvasline.htm" class="topiclink">Line</a>, <a href="ccanvaspolyline.htm" class="topiclink">Polyline</a>, <a href="ccanvaspolygon.htm" class="topiclink">Polygon</a>, <a href="ccanvasrectangle.htm" class="topiclink">Rectangle</a>, <a href="ccanvastriangle.htm" class="topiclink">Triangle</a>, <a href="ccanvascircle.htm" class="topiclink">Circle</a>, <a href="ccanvasellipse.htm" class="topiclink">Ellipse</a>, <a href="ccanvasarc.htm" class="topiclink">Arc</a>, <a href="ccanvasarc.htm" class="topiclink">Arc</a>, <a href="ccanvasarc.htm" class="topiclink">Arc</a>, <a href="ccanvaspie.htm" class="topiclink">Pie</a>, <a href="ccanvaspie.htm" class="topiclink">Pie</a>, <a href="ccanvasfillrectangle.htm" class="topiclink">FillRectangle</a>, <a href="ccanvasfilltriangle.htm" class="topiclink">FillTriangle</a>, <a href="ccanvasfillpolygon.htm" class="topiclink">FillPolygon</a>, <a href="ccanvasfillcircle.htm" class="topiclink">FillCircle</a>, <a href="ccanvasfillellipse.htm" class="topiclink">FillEllipse</a>, <a href="ccanvasfill.htm" class="topiclink">Fill</a>, <a href="ccanvasfill.htm" class="topiclink">Fill</a>, <a href="ccanvaspixelsetaa.htm" class="topiclink">PixelSetAA</a>, <a href="ccanvaslineaa.htm" class="topiclink">LineAA</a>, <a href="ccanvaspolylineaa.htm" class="topiclink">PolylineAA</a>, <a href="ccanvaspolygonaa.htm" class="topiclink">PolygonAA</a>, <a href="ccanvastriangleaa.htm" class="topiclink">TriangleAA</a>, <a href="ccanvascircleaa.htm" class="topiclink">CircleAA</a>, <a href="ccanvasellipseaa.htm" class="topiclink">EllipseAA</a>, <a href="ccanvaslinewu.htm" class="topiclink">LineWu</a>, <a href="ccanvaspolylinewu.htm" class="topiclink">PolylineWu</a>, <a href="ccanvaspolygonwu.htm" class="topiclink">PolygonWu</a>, <a href="ccanvastrianglewu.htm" class="topiclink">TriangleWu</a>, <a href="ccanvascirclewu.htm" class="topiclink">CircleWu</a>, <a href="ccanvasellipsewu.htm" class="topiclink">EllipseWu</a>, <a href="ccanvaslinethickvertical.htm" class="topiclink">LineThickVertical</a>, <a href="ccanvaslinethickhorizontal.htm" class="topiclink">LineThickHorizontal</a>, <a href="ccanvaslinethick.htm" class="topiclink">LineThick</a>, <a href="ccanvaspolylinethick.htm" class="topiclink">PolylineThick</a>, <a href="ccanvaspolygonthick.htm" class="topiclink">PolygonThick</a>, <a href="ccanvaspolylinesmooth.htm" class="topiclink">PolylineSmooth</a>, <a href="ccanvaspolygonsmooth.htm" class="topiclink">PolygonSmooth</a>, <a href="ccanvasfontset.htm" class="topiclink">FontSet</a>, <a href="ccanvasfontnameset.htm" class="topiclink">FontNameSet</a>, <a href="ccanvasfontsizeset.htm" class="topiclink">FontSizeSet</a>, <a href="ccanvasfontflagsset.htm" class="topiclink">FontFlagsSet</a>, <a href="ccanvasfontangleset.htm" class="topiclink">FontAngleSet</a>, <a href="ccanvasfontget.htm" class="topiclink">FontGet</a>, <a href="ccanvasfontnameget.htm" class="topiclink">FontNameGet</a>, <a href="ccanvasfontsizeget.htm" class="topiclink">FontSizeGet</a>, <a href="ccanvasfontflagsget.htm" class="topiclink">FontFlagsGet</a>, <a href="ccanvasfontangleget.htm" class="topiclink">FontAngleGet</a>, <a href="ccanvastextout.htm" class="topiclink">TextOut</a>, <a href="ccanvastextwidth.htm" class="topiclink">TextWidth</a>, <a href="ccanvastextheight.htm" class="topiclink">TextHeight</a>, <a href="ccanvastextsize.htm" class="topiclink">TextSize</a>, <a href="ccanvasgetdefaultcolor.htm" class="topiclink">GetDefaultColor</a>, <a href="ccanvastransparentlevelset.htm" class="topiclink">TransparentLevelSet</a>, <a href="ccanvasloadfromfile.htm" class="topiclink">LoadFromFile</a>, LineStyleGet, <a href="ccanvaslinestyleset.htm" class="topiclink">LineStyleSet</a></span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="hierarchy">
<td class="hierarchy"><p class="p_BoldTitles"><span class="f_BoldTitles">Methods inherited from class CChartCanvas</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption"><a href="cchartcanvascolorbackground.htm" class="topiclink">ColorBackground</a>, <a href="cchartcanvascolorbackground.htm" class="topiclink">ColorBackground</a>, <a href="cchartcanvascolorborder.htm" class="topiclink">ColorBorder</a>, <a href="cchartcanvascolorborder.htm" class="topiclink">ColorBorder</a>, <a href="cchartcanvascolortext.htm" class="topiclink">ColorText</a>, <a href="cchartcanvascolortext.htm" class="topiclink">ColorText</a>, <a href="cchartcanvascolorgrid.htm" class="topiclink">ColorGrid</a>, <a href="cchartcanvascolorgrid.htm" class="topiclink">ColorGrid</a>, <a href="cchartcanvasmaxdata.htm" class="topiclink">MaxData</a>, <a href="cchartcanvasmaxdata.htm" class="topiclink">MaxData</a>, <a href="cchartcanvasmaxdescrlen.htm" class="topiclink">MaxDescrLen</a>, <a href="cchartcanvasmaxdescrlen.htm" class="topiclink">MaxDescrLen</a>, <a href="cchartcanvasallowedshowflags.htm" class="topiclink">AllowedShowFlags</a>, <a href="cchartcanvasshowflags.htm" class="topiclink">ShowFlags</a>, <a href="cchartcanvasshowflags.htm" class="topiclink">ShowFlags</a>, <a href="cchartcanvasisshowlegend.htm" class="topiclink">IsShowLegend</a>, <a href="cchartcanvasisshowscaleleft.htm" class="topiclink">IsShowScaleLeft</a>, <a href="cchartcanvasisshowscaleright.htm" class="topiclink">IsShowScaleRight</a>, <a href="cchartcanvasisshowscaletop.htm" class="topiclink">IsShowScaleTop</a>, <a href="cchartcanvasisshowscalebottom.htm" class="topiclink">IsShowScaleBottom</a>, <a href="cchartcanvasisshowgrid.htm" class="topiclink">IsShowGrid</a>, <a href="cchartcanvasisshowdescriptors.htm" class="topiclink">IsShowDescriptors</a>, <a href="cchartcanvasisshowpercent.htm" class="topiclink">IsShowPercent</a>, <a href="cchartcanvasshowlegend.htm" class="topiclink">ShowLegend</a>, <a href="cchartcanvasshowscaleleft.htm" class="topiclink">ShowScaleLeft</a>, <a href="cchartcanvasshowscaleright.htm" class="topiclink">ShowScaleRight</a>, <a href="cchartcanvasshowscaletop.htm" class="topiclink">ShowScaleTop</a>, <a href="cchartcanvasshowscalebottom.htm" class="topiclink">ShowScaleBottom</a>, <a href="cchartcanvasshowgrid.htm" class="topiclink">ShowGrid</a>, <a href="cchartcanvasshowdescriptors.htm" class="topiclink">ShowDescriptors</a>, <a href="cchartcanvasshowvalue.htm" class="topiclink">ShowValue</a>, <a href="cchartcanvasshowpercent.htm" class="topiclink">ShowPercent</a>, <a href="cchartcanvaslegendalignment.htm" class="topiclink">LegendAlignment</a>, <a href="cchartcanvasaccumulative.htm" class="topiclink">Accumulative</a>, <a href="cchartcanvasvscalemin.htm" class="topiclink">VScaleMin</a>, <a href="cchartcanvasvscalemin.htm" class="topiclink">VScaleMin</a>, <a href="cchartcanvasvscalemax.htm" class="topiclink">VScaleMax</a>, <a href="cchartcanvasvscalemax.htm" class="topiclink">VScaleMax</a>, <a href="cchartcanvasnumgrid.htm" class="topiclink">NumGrid</a>, <a href="cchartcanvasnumgrid.htm" class="topiclink">NumGrid</a>, <a href="cchartcanvasvscaleparams.htm" class="topiclink">VScaleParams</a>, <a href="cchartcanvasdataoffset.htm" class="topiclink">DataOffset</a>, <a href="cchartcanvasdataoffset.htm" class="topiclink">DataOffset</a>, <a href="cchartcanvasdatatotal.htm" class="topiclink">DataTotal</a>, <a href="cchartcanvasdescriptorupdate.htm" class="topiclink">DescriptorUpdate</a>, <a href="cchartcanvascolorupdate.htm" class="topiclink">ColorUpdate</a></span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Noindent"><span class="f_Noindent">&nbsp;</span></p>
<p class="p_Text"><a name="sample" class="hmanchor"></a><span class="f_Text" style="font-weight: bold;">Example</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PieChartSample.mq5&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2009-2017,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp.&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.mql5.com&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">copyright</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;2009-2017,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp.&quot;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">link</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;http://www.mql5.com&quot;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;Example&nbsp;of&nbsp;using&nbsp;pie&nbsp;chart&quot;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---</span>
<br><span class="f_CodeExample" style="color: #0000ff;">#include</span><span class="f_CodeExample">&nbsp;&lt;Canvas\Charts\PieChart.mqh&gt;</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;inputs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Width=600;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Height=450;</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;check</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(Width&lt;=0&nbsp;||&nbsp;Height&lt;=0)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;Too&nbsp;simple.&quot;</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">(-1);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;create&nbsp;chart</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;CPieChart&nbsp;pie_chart;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!pie_chart.CreateBitmapLabel(</span><span class="f_CodeExample" style="color: #008080;">&quot;PieChart&quot;</span><span class="f_CodeExample">,10,10,Width,Height))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;Error&nbsp;creating&nbsp;pie&nbsp;chart:&nbsp;&quot;</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #0000ff;">GetLastError</span><span class="f_CodeExample">());</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">(-1);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowPercent();</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;draw</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">for</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;i=0;i&lt;30;i++)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pie_chart.ValueAdd(100*(i+1),</span><span class="f_CodeExample" style="color: #008080;">&quot;Item&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">IntegerToString</span><span class="f_CodeExample">(i));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(10);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;disable&nbsp;legend</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.LegendAlignment(ALIGNMENT_LEFT);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;disable&nbsp;legend</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.LegendAlignment(ALIGNMENT_RIGHT);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;disable&nbsp;legend</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.LegendAlignment(ALIGNMENT_TOP);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;disable&nbsp;legend</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowLegend(false);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;disable&nbsp;percentage</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowPercent(false);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;disable&nbsp;descriptors</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowDescriptors(false);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;enable&nbsp;all</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowLegend();</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowValue();</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowDescriptors();</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(2000);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;or&nbsp;like&nbsp;this</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.ShowFlags(FLAG_SHOW_LEGEND|FLAG_SHOW_DESCRIPTORS|FLAG_SHOW_PERCENT);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;total=pie_chart.DataTotal();</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;play&nbsp;with&nbsp;values</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">for</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;i=0;i&lt;total&nbsp;&amp;&amp;&nbsp;!</span><span class="f_CodeExample" style="color: #0000ff;">IsStopped</span><span class="f_CodeExample">();i++)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pie_chart.ValueUpdate(i,100*(</span><span class="f_CodeExample" style="color: #0000ff;">rand</span><span class="f_CodeExample">()%10+1));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(1000);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;play&nbsp;with&nbsp;colors</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">for</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;i=0;i&lt;total&nbsp;&amp;&amp;&nbsp;!</span><span class="f_CodeExample" style="color: #0000ff;">IsStopped</span><span class="f_CodeExample">();i++)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pie_chart.ColorUpdate(i%total,RandomRGB());</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(1000);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;rotate</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">while</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #0000ff;">IsStopped</span><span class="f_CodeExample">())</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pie_chart.DataOffset(pie_chart.DataOffset()+1);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Sleep</span><span class="f_CodeExample">(200);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;finish</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pie_chart.Destroy();</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">(0);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Random&nbsp;RGB&nbsp;color&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;RandomRGB(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">(XRGB(</span><span class="f_CodeExample" style="color: #0000ff;">rand</span><span class="f_CodeExample">()%255,</span><span class="f_CodeExample" style="color: #0000ff;">rand</span><span class="f_CodeExample">()%255,</span><span class="f_CodeExample" style="color: #0000ff;">rand</span><span class="f_CodeExample">()%255));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span></p>
</td>
</tr>
</table>
</div>

</div>

</body>
</html>
