<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" />
  <title>CopyTicksRange</title>
  <meta name="keywords" content="CopyTicksRange" />
  <link type="text/css" href="default.css" rel="stylesheet" />
  <link type="text/css" href="screenshot.css" rel="stylesheet" />
  

   
   
   


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Reference </a> / <a class="h_m" href="series.htm"> Timeseries and Indicators Access </a>/ CopyTicksRange
          </td>
          <td width="70" align="right">
          <a href="copyticks.htm"><img style="vertical-align:middle;" src="previous.png" alt="Previous" width="27" height="27" border=0></a>&nbsp;
          <a href="ibars.htm"><img style="vertical-align:middle;" src="next.png" alt="Next" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H1"><span class="f_H1">CopyTicksRange</span></p>
<p class="p_Function"><span class="f_Function">The function receives ticks in the </span><span class="f_ParameterDesrciption"><a href="mqltick.htm" class="topiclink">MqlTick</a> format within the specified date range to ticks_array. </span><span class="f_Function">Indexing goes from the past to the present meaning that a tick with the index 0 is the oldest one in the array. For tick analysis, check the </span><span class="f_Function" style="font-style: italic;">flags</span><span class="f_Function"> field, which shows what exactly has changed.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_Keywords">int&nbsp;&nbsp;</span><span class="f_Functions">CopyTicksRange</span><span class="f_CodeExample">(</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">const&nbsp;string</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">symbol_name</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;symbol&nbsp;name</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">MqlTick&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">ticks_array[]</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;tick&nbsp;receiving&nbsp;array</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">uint</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">flags=COPY_TICKS_ALL</span><span class="f_CodeExample">,&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;flag&nbsp;that&nbsp;defines&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;ticks&nbsp;that&nbsp;are&nbsp;received</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">from_msc=0</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;date,&nbsp;starting&nbsp;from&nbsp;which&nbsp;ticks&nbsp;are&nbsp;requested</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">to_msc=0</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;date,&nbsp;up&nbsp;to&nbsp;which&nbsp;ticks&nbsp;are&nbsp;requested</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;);</span></p>
</td>
</tr>
</table>
</div>
<p class="p_BoldTitles"><span class="f_BoldTitles">Parameters</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">symbol_name</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp;Symbol.</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">ticks_array</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[out]  <a href="mqltick.htm" class="topiclink">MqlTick</a> static or dynamic array for receiving ticks. If the static array cannot hold all the ticks from the requested time interval, the maximum possible amount of ticks is received. In this case, the function generates the error <a href="errorcodes.htm" class="topiclink">ERR_HISTORY_SMALL_BUFFER</a> (4407) .</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">flags</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp;A flag to define the type of the requested ticks. </span><span class="f_ParameterDesrciption" style="color: #0000ff;">COPY_TICKS_INFO</span><span class="f_ParameterDesrciption"> – ticks with Bid and/or Ask changes, </span><span class="f_ParameterDesrciption" style="color: #0000ff;">COPY_TICKS_TRADE</span><span class="f_ParameterDesrciption"> – ticks with changes in Last and Volume, </span><span class="f_ParameterDesrciption" style="color: #0000ff;">COPY_TICKS_ALL</span><span class="f_ParameterDesrciption"> – all ticks. For any type of request, the values of the previous tick are added to the remaining fields of the MqlTick structure. </span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">from_msc</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp; The date, from which you want to request ticks. In milliseconds since 1970.01.01. If the </span><span class="f_ParameterDesrciption" style="font-style: italic;">from_msc</span><span class="f_ParameterDesrciption"> parameter is not specified, ticks from the beginning of the history are sent. Ticks with the time &gt;= from_msc are sent.</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">to_msc</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp; The date, up to which you want to request ticks. In milliseconds since 01.01.1970. Ticks with the time &lt;= to_msc are sent. If the </span><span class="f_ParameterDesrciption" style="font-style: italic;">to_msc</span><span class="f_ParameterDesrciption"> parameter is not specified, all ticks up to the end of the history are sent.</span></p>
<p class="p_BoldTitles"><span class="f_BoldTitles">Return Value</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">The number of copied tick or -1 in case of an error. <a href="getlasterror.htm" class="topiclink">GetLastError()</a> is able to return the following errors:</span></p>
<ul style="list-style-type:disc">
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">ERR_HISTORY_TIMEOUT – ticks synchronization waiting time is up, the function has sent all it had.</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">ERR_HISTORY_SMALL_BUFFER – static buffer is too small. Only the amount the array can store has been sent.</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">ERR_NOT_ENOUGH_MEMORY – insufficient memory for receiving a history from the specified range to the dynamic tick array. Failed to allocate enough memory for the tick array.</span></li>
</ul>
<p class="p_BoldTitles"><span class="f_BoldTitles">Note</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">The CopyTicksRange() function is used for requesting ticks strictly from a specified range, for example, from a certain day in history. At the same time, CopyTicks() </span><span class="f_FunctionRemark">allows specifying only a start date, for example – receive all ticks from the beginning of the month till the current moment.</span></p>
<p class="p_BoldTitles"><span class="f_BoldTitles">See also</span></p>
<p class="p_SeeAlso"><span class="f_SeeAlso"><a href="symbolinfotick.htm" class="topiclink">SymbolInfoTick</a>, <a href="mqltick.htm" class="topiclink">Structure for Current Prices</a>, <a href="ontick.htm" class="topiclink">OnTick</a>, <a href="copyticks.htm" class="topiclink">CopyTicks</a></span></p>

</div>

</body>
</html>
