<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" />
  <title>StringToCharArray</title>
  <meta name="keywords" content="StringToCharArray" />
  <link type="text/css" href="default.css" rel="stylesheet" />
  <link type="text/css" href="screenshot.css" rel="stylesheet" />
  

   
   
   


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Reference </a> / <a class="h_m" href="convert.htm"> Conversion Functions </a>/ StringToCharArray
          </td>
          <td width="70" align="right">
          <a href="normalizedouble.htm"><img style="vertical-align:middle;" src="previous.png" alt="Previous" width="27" height="27" border=0></a>&nbsp;
          <a href="stringtocolor.htm"><img style="vertical-align:middle;" src="next.png" alt="Next" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H1"><span class="f_H1">StringToCharArray</span></p>
<p class="p_Function"><span class="f_Function">Symbol-wise copies </span><span class="f_fortable">a string converted from Unicode to ANSI, to a selected place of array of uchar type. It returns the number of copied elements</span><span class="f_Function">.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_Keywords">int&nbsp;&nbsp;</span><span class="f_Functions">StringToCharArray</span><span class="f_CodeExample">(</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">string</span><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_Param">text_string</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;source&nbsp;string</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">uchar&amp;</span><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_Param">array[]</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;array</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">start=0</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;starting&nbsp;position&nbsp;in&nbsp;the&nbsp;array</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">count=-1</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;number&nbsp;of&nbsp;symbols</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Keywords">uint</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">codepage=CP_ACP</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;code&nbsp;page</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;);</span></p>
</td>
</tr>
</table>
</div>
<p class="p_BoldTitles"><span class="f_BoldTitles">Parameters</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">text_string</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp;String to copy.</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">array[]</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[out] &nbsp;Array of uchar type.</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">start=0</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp;Position from which copying starts. Default - 0.</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">count=-1</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp;Number of array elements to copy. Defines length of a resulting string. Default value is -1, which means copying up to the array end, or till terminal 0. Terminal 0 will also be copied to the recipient array, in this case the size of a dynamic array can be increased if necessary to the size of the string. If the size of the dynamic array exceeds the length of the string, the size of the array will not be reduced.</span></p>
<p class="p_FunctionParameter"><span class="f_FunctionParameter">codepage=CP_ACP</span></p>
<p class="p_ParameterDesrciption"><span class="f_ParameterDesrciption">[in] &nbsp;The value of the code page. For the most-used <a href="codepageusage.htm" class="topiclink">code pages</a> provide appropriate constants.</span></p>
<p class="p_BoldTitles"><span class="f_BoldTitles">Return Value</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">Number of copied elements.</span></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Text"><span class="f_Text" style="font-weight: bold;">Example:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;string&nbsp;to&nbsp;convert</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">text</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;This&nbsp;is&nbsp;a&nbsp;test&nbsp;of&nbsp;the&nbsp;StringToCharArray()&nbsp;function&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;convert&nbsp;the&nbsp;input&nbsp;string&nbsp;into&nbsp;a&nbsp;uchar&nbsp;array&nbsp;in&nbsp;accordance&nbsp;with&nbsp;the&nbsp;set&nbsp;code&nbsp;page</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">uchar</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">char_array</span><span class="f_CodeExample">[];</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">copied</span><span class="f_CodeExample">=</span><span class="f_CodeExample" style="color: #0000ff;">StringToCharArray</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">text</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">char_array</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PrintFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;String&nbsp;length:&nbsp;%u\nNumber&nbsp;of&nbsp;characters&nbsp;copied&nbsp;(with&nbsp;terminal&nbsp;0):&nbsp;%d\nArray&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;string&nbsp;'%s':&quot;</span><span class="f_CodeExample">,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">StringLen</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">text</span><span class="f_CodeExample">),&nbsp;</span><span class="f_CodeExample" style="color: #333333;">copied</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">text</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;print&nbsp;the&nbsp;resulting&nbsp;array&nbsp;to&nbsp;the&nbsp;journal</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ArrayPrint</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">char_array</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;&nbsp;|&nbsp;&quot;</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;/*</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;result:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">String</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">length</span><span class="f_CodeExample">:&nbsp;</span><span class="f_CodeExample" style="color: #333333;">50</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Number</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">of</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">characters</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">copied</span><span class="f_CodeExample">&nbsp;(</span><span class="f_CodeExample" style="color: #333333;">with</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">terminal</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">):&nbsp;</span><span class="f_CodeExample" style="color: #333333;">51</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Array</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">of</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">characters</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">for</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">the</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;'</span><span class="f_CodeExample" style="color: #0000ff;">This</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">is</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">a</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">test</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">of</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">the</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">StringToCharArray</span><span class="f_CodeExample">()&nbsp;</span><span class="f_CodeExample" style="color: #333333;">function</span><span class="f_CodeExample">':</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;[&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">]&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">84</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">104</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">105</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">115</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">32</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">105</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">115</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">32</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">97</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">32</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">116</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">101</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">115</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">116</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">32</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">111</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">102</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">17</span><span class="f_CodeExample">]&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">32</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">116</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">104</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">101</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">32</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">83</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">116</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">114</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">105</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">110</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">103</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">84</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">111</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">67</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">104</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">97</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">114</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">34</span><span class="f_CodeExample">]&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">65</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">114</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">114</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">97</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">121</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">40</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">41</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">32</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">102</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">117</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">110</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">99</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">116</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">105</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">111</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">110</span><span class="f_CodeExample">&nbsp;|&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;*/</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_BoldTitles"><span class="f_BoldTitles">See also</span></p>
<p class="p_SeeAlso"><span class="f_SeeAlso"><a href="chararraytostring.htm" class="topiclink">CharArrayToString</a>,<a href="shortarraytostring.htm" class="topiclink"> </a><a href="stringtoshortarray.htm" class="topiclink">StringToShortArray</a>, <a href="codepageusage.htm" class="topiclink">Use of a Codepage</a></span></p>

</div>

</body>
</html>
