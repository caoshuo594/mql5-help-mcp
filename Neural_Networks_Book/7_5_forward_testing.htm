<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>7.5 Testing the model on new data</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          Neural Networks for Algorithmic Trading with MQL5 </a> / <a class="h_m" href="7_trade_check.htm"> 7. Testing trading capabilities of the model </a>/ 7.5 Testing the model on new data
          </td>
          <td width="70" align="right">
          <a href="7_4_set_ea_settiongs.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="conclusion.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H2"><span class="f_H2">7.5 Testing the model on new data</span></p>
<p class="p_Text"><span class="f_Text">In the previous section, we optimized the parameters of our Expert Advisor on the training dataset and determined the optimal set of parameters. Now we need to test the performance of our model on new data. We are creating a model to potentially earn money in the financial market, aren’t we? So far, we have only trained the model and optimized the EA parameters using historical data for the period from 2015 to 2020 inclusive. We have identified the optimal set of parameters that allow us to make a profit on historical data. While we cannot travel back in time and make money on historical data, we can run our Expert Advisor on a trading account and hope for a comparable return in the future. To confirm or refute the possibility of future profitability, let's test our Expert Advisor with the trained model and optimized parameters on historical data outside the training set using data for 2021. Thus, we will test the profitability of the model on new data.</span></p>
<p class="p_Text"><span class="f_Text">As in the case of parameter optimization, we go to the </span><span class="f_Text" style="font-style: italic;">MetaTrader 5</span><span class="f_Text"> strategy tester and in the </span><span class="f_Text" style="font-style: italic;">Settings</span><span class="f_Text"> tab, specify the testing period 2021, select the type of modeling based on real ticks and disable parameter optimization. Also, do not forget to specify the correct financial instrument and timeframe.</span></p>
<p class="p_Text"><span class="f_Text">After that, we will go to the EA parameters tab and specify the values of the parameters that we defined in the previous section. Start the testing process with the </span><span class="f_Text" style="font-style: italic;">Start</span><span class="f_Text"> button.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:573px"><img class="help" alt="Forward testing of the model" title="Forward testing of the model" width="573" height="255" style="width:573px;height:255px;border:none" src="forward_testing1.png"/><p style="text-align:center"><span class="f_ImageCaption">Forward testing of the model</span></p></div></div>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:570px"><img class="help" alt="Forward testing of the model" title="Forward testing of the model" width="570" height="230" style="width:570px;height:230px;border:none" src="forward_testing2.png"/><p style="text-align:center"><span class="f_ImageCaption">Forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">During the testing period, the Expert Advisor made a profit over a long time interval. In general, the year was closed with a positive result. It should be noted that for testing the model, we use a rather simplified Expert Advisor algorithm without the use of money management and position tracking features. But even in this version, the EA shows profit. This is indicative of the overall profitability of the trading signals generated by the model. Potentially, adding money management and position tracking features will increase the profitability of Expert Advisor performance.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:557px"><img class="help" alt="Results of forward testing of the model" title="Results of forward testing of the model" width="557" height="126" style="width:557px;height:126px;border:none" src="forward_testing3.png"/><p style="text-align:center"><span class="f_ImageCaption">Results of forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">The balance change chart shows sideways movement in the first half of the year, but from May, there is a clear trend of capital growth.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:565px"><img class="help" alt="Results of forward testing of the model" title="Results of forward testing of the model" width="565" height="329" style="width:565px;height:329px;border:none" src="forward_testing4.png"/><p style="text-align:center"><span class="f_ImageCaption">Results of forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">Analysis of the Expert Advisor performance on new data showed that on some variables it even surpasses the values obtained on the training set. For instance, the profit factor on the new data was 1.48, whereas, during the parameter optimization on the training set, this indicator was at 1.22. The margin level in this case is not indicative, as all trades were made with a minimal volume, which greatly inflated this indicator.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:558px"><img class="help" alt="Results of forward testing of the model" title="Results of forward testing of the model" width="558" height="89" style="width:558px;height:89px;border:none" src="forward_testing5.png"/><p style="text-align:center"><span class="f_ImageCaption">Results of forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">In total, for the whole of 2021, the EA opened 36 positions, 21 of which were closed with a profit. This accounted for 58.33% of the total number of positions. The obtained value is very close to the 60% expected return from the model's signals. Let me remind you that the threshold level for conducting trading operations is a 60% probability of the price moving in the predicted direction (parameter </span><span class="f_Text" style="font-style: italic;">TradeLevel=0.6</span><span class="f_Text">).</span></p>
<p class="p_Text"><span class="f_Text">The maximum number of consecutive losing trades is three, while the maximum number of profitable trades is six.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:558px"><img class="help" alt="Results of forward testing of the model" title="Results of forward testing of the model" width="558" height="149" style="width:558px;height:149px;border:none" src="forward_testing6.png"/><p style="text-align:center"><span class="f_ImageCaption">Results of forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">We did not integrate time-based transaction filtering into our Expert Advisor, nor did we provide time benchmarks for the training model. As a result, we see that the Expert Advisor opens positions more or less evenly throughout all trading sessions. </span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:593px"><img class="help" alt="Results of forward testing of the model" title="Results of forward testing of the model" width="593" height="178" style="width:593px;height:178px;border:none" src="forward_testing7.png"/><p style="text-align:center"><span class="f_ImageCaption">Results of forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">However, throughout the week, we see a significant advantage in opening positions on Wednesday (about 30%). Friday and Monday follow next. The fewest positions are opened on Tuesday and Thursday.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:579px"><img class="help" alt="Results of forward testing of the model" title="Results of forward testing of the model" width="579" height="173" style="width:579px;height:173px;border:none" src="forward_testing8.png"/><p style="text-align:center"><span class="f_ImageCaption">Results of forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">The Expert Advisor achieves the highest profitability on Wednesday and Monday. At the same time, the profit-to-loss ratio is better on Monday. On Friday, the profit and loss are balanced around the break-even point. However, on Tuesday and Thursday, the losses exceed the profits obtained. Such analysis potentially allows us to increase the profitability of the Expert Advisor by excluding inherently unprofitable trades. For instance, if we add a filter for opening positions based on the days of the week, we can increase the overall profitability of the Expert Advisor by making trades only on Monday and Wednesday.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0 auto 0 auto;width:587px"><img class="help" alt="Results of forward testing of the model" title="Results of forward testing of the model" width="587" height="176" style="width:587px;height:176px;border:none" src="forward_testing9.png"/><p style="text-align:center"><span class="f_ImageCaption">Results of forward testing of the model</span></p></div></div>
<p class="p_Text"><span class="f_Text">In general, the result of the Expert Advisor profitability on new data allows for the following conclusions:</span></p>
<ol style="list-style-type:decimal">
<li value="1" class="p_li"><span class="f_li">During technical analysis, it's possible to identify certain patterns that can generate quite stable signals for executing trades with profitability of at least 60%.</span></li>
<li value="2" class="p_li"><span class="f_li">The use of neural network models makes it possible to identify such patterns.</span></li>
<li value="3" class="p_li"><span class="f_li">Building an Expert Advisor based on neural networks allows for stable profitability over an extended period of time.</span></li>
</ol>
<p class="p_li"><span class="f_li">&nbsp;</span></p>

</div>

</body>
</html>
