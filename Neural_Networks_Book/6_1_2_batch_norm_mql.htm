<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>6.1.2 Building a batch normalization class in MQL5</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          Neural Networks for Algorithmic Trading with MQL5 </a> / <a class="h_m" href="6_improvement_realization.htm"> 6. Architectural solutions for improving model convergence </a> / <a class="h_m" href="6_1_batch_norm.htm"> 6.1 Batch normalization </a>/ 6.1.2 Building a batch normalization class in MQL5
          </td>
          <td width="70" align="right">
          <a href="6_1_1_batch_norm_description.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="6_1_2_1_batch_norm_feedforward.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">6.1.2 Building a batch normalization class in MQL5</span></p>
<p class="p_Text"><span class="f_Text">After considering the theoretical aspects of the normalization method, we will move on to its practical implementation within our library. To do this, we will create a new </span><span class="f_Text" style="font-style: italic;">CNeuronBatchNorm</span><span class="f_Text"> class derived from the </span><span class="f_Text" style="font-style: italic;">CNeuronBase</span><span class="f_Text"> base class of the fully connected neural layer.</span></p>
<p class="p_Text"><span class="f_Text">To ensure the full functionality of our class, we need to add a few things. We will add just one buffer for recording normalization parameters for each element of the sequence and a variable to store the batch size for normalization. For the rest, we will use base class buffers with minor amendments. We will talk about them during the implementation of the methods.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">class</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CNeuronBatchNorm</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">public</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CNeuronBase</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #0000ff;">protected</span><span class="f_CodeExample">:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CBufferType</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m_cBatchOptions</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m_iBatchSize</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;batch&nbsp;size</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">public</span><span class="f_CodeExample">:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CNeuronBatchNorm</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</span><span class="f_CodeExample" style="color: #333333;">CNeuronBatchNorm</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Init</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CLayerDescription</span><span class="f_CodeExample">*&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">SetOpenCL</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">CMyOpenCL</span><span class="f_CodeExample">&nbsp;*</span><span class="f_CodeExample" style="color: #333333;">opencl</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">FeedForward</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">CNeuronBase</span><span class="f_CodeExample">*&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prevLayer</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CalcHiddenGradient</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">CNeuronBase</span><span class="f_CodeExample">*&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prevLayer</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CalcDeltaWeights</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">CNeuronBase</span><span class="f_CodeExample">*&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prevLayer</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">read</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;methods&nbsp;for&nbsp;working&nbsp;with&nbsp;files</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Save</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">file_handle</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Load</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">file_handle</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;object&nbsp;identification&nbsp;method</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">virtual</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Type</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">override</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;{&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">(</span><span class="f_Definition">defNeuronBatchNorm</span><span class="f_CodeExample">);&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;};</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">We'll be redefining the same set of basic methods:</span></p>
<ul style="list-style-type:disc">
<li class="p_li"><span class="f_li" style="font-style: italic;">Init</span><span class="f_li"> – method for initializing a class instance</span></li>
<li class="p_li"><span class="f_li" style="font-style: italic;">FeedForward</span><span class="f_li"> – feed-forward method</span></li>
<li class="p_li"><span class="f_li" style="font-style: italic;">CalchiddenGradient</span><span class="f_li"> – method of distributing error gradients through a hidden layer</span></li>
<li class="p_li"><span class="f_li" style="font-style: italic;">CalcDeltaWeights</span><span class="f_li"> – method for distributing error gradients to the weight matrix</span></li>
<li class="p_li"><span class="f_li" style="font-style: italic;">Save</span><span class="f_li"> – method for saving neural layer parameters</span></li>
<li class="p_li"><span class="f_li" style="font-style: italic;">Load</span><span class="f_li"> – method for restoring the neural layer performance from the saved data</span></li>
</ul>
<p class="p_Text"><span class="f_Text">Let's start working on the class with its constructor. In this method, we only set an initial value for the normalization batch size. The class destructor remains empty.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #333333;">CNeuronBatchNorm</span><span class="f_CodeExample">::</span><span class="f_CodeExample" style="color: #333333;">CNeuronBatchNorm</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;&nbsp;:&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m_iBatchSize</span><span class="f_CodeExample">(</span><span class="f_Normal" style="font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: transparent;">1</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">After that, we move on to working on the class initialization method. But before we start implementing this method, let's pay attention to the nuances of our implementation.</span></p>
<p class="p_Text"><span class="f_Text">First of all, the normalization method does not involve changing the number of elements. The output of the neural layer will have the same number of neurons as the input. Therefore, the size of the source data window should be equal to the number of neurons in the layer being created. Of course, we can ignore the source data window size parameter and only use the number of neurons in the layer. However, in this case, we would lose additional control during the neural layer initialization stage and would have to constantly check whether the number of neurons matches during each feed-forward and backpropagation pass.</span></p>
<p class="p_Text"><span class="f_Text">The second point is related to the lack of a matrix of weights in our usual form. Let's look at mathematical formulas again.</span></p>
<p class="p_Text" style="text-align: center;"><span style="display:inline-block;width:100px;height:47px;padding:0 0;overflow:visible"><svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%;overflow:visible" viewBox="0 0 400 188"><path d="M17 80 C17 78,17 77,16 75 C16 73,16 71,15 70 C15 68,14 67,14 66 C14 66,14 66,13 65 C13 65,13 65,12 65 C12 65,11 65,11 65 C10 66,10 66,9 67 C9 67,8 68,7 69 L5 67 C7 65,8 64,9 63 C11 62,13 61,14 61 C15 61,16 61,16 61 C17 62,18 62,18 62 C18 63,19 63,19 64 C20 64,20 65,20 66 C21 67,21 68,21 70 C21 71,22 73,22 74 L22 74 C25 71,26 68,27 67 C29 65,30 64,31 63 C31 62,32 62,33 62 C34 61,35 61,36 61 C37 61,38 61,39 62 L37 69 L35 69 C35 68,34 67,34 67 C33 67,33 67,33 67 C33 67,32 67,32 68 C32 68,31 68,30 69 C30 70,29 71,28 72 C27 73,26 74,25 75 L23 78 C23 81,24 83,24 84 C25 86,25 88,25 89 C26 90,26 91,26 92 C26 92,27 93,27 93 C27 94,27 94,28 94 C28 94,28 94,29 94 C29 94,30 94,30 93 C31 93,32 92,33 90 L36 92 C34 94,32 96,31 97 C30 98,28 98,26 98 C25 98,24 98,23 97 C23 97,22 96,21 96 C21 95,20 93,20 92 C19 88,19 86,19 84 L18 84 C16 88,14 91,12 92 C11 94,10 95,9 96 C9 97,8 97,7 98 C6 98,5 98,4 98 C3 98,2 98,1 98 L3 90 L5 90 C5 91,6 92,6 92 C7 92,7 92,8 92 C8 92,8 91,9 90 C10 90,11 89,12 87 C13 86,15 83,17 80 L17 80 Z" fill="#212121"/><path d="M27 44 L35 56 L32 58 L25 49 L25 49 L16 58 L14 56 L22 44 L27 44 Z" fill="#212121"/><path d="M68 71 L68 66 L114 66 L114 71 L68 71 Z M68 86 L68 81 L114 81 L114 86 L68 86 Z" fill="#212121"/><path d="M173 19 C173 17,173 16,172 14 C172 12,172 10,171 9 C171 7,170 6,170 5 C170 5,170 5,169 4 C169 4,169 4,168 4 C168 4,167 4,167 4 C166 5,166 5,165 6 C165 6,164 7,163 8 L161 6 C163 4,164 3,165 2 C167 1,169 0,170 0 C171 0,172 0,172 0 C173 1,174 1,174 1 C174 2,175 2,175 3 C176 3,176 4,176 5 C177 6,177 7,177 9 C177 10,178 12,178 13 L178 13 C181 10,182 7,183 6 C185 4,186 3,187 2 C187 1,188 1,189 1 C190 0,191 0,192 0 C193 0,194 0,195 1 L193 8 L191 8 C191 7,190 6,190 6 C189 6,189 6,189 6 C189 6,188 6,188 7 C188 7,187 7,186 8 C186 9,185 10,184 11 C183 12,182 13,181 14 L179 17 C179 20,180 22,180 23 C181 25,181 27,181 28 C182 29,182 30,182 31 C182 31,183 32,183 32 C183 33,183 33,184 33 C184 33,184 33,185 33 C185 33,186 33,186 32 C187 32,188 31,189 29 L192 31 C190 33,188 35,187 36 C186 37,184 37,182 37 C181 37,180 37,179 36 C179 36,178 35,177 35 C177 34,176 32,176 31 C175 27,175 25,175 23 L174 23 C172 27,170 30,168 31 C167 33,166 34,165 35 C165 36,164 36,163 37 C162 37,161 37,160 37 C159 37,158 37,157 37 L159 29 L161 29 C161 30,162 31,162 31 C163 31,163 31,164 31 C164 31,164 30,165 29 C166 29,167 28,168 26 C169 25,171 22,173 19 L173 19 Z" fill="#212121"/><path d="M207 24 L205 30 L200 30 L201 24 L207 24 Z M200 52 C200 53,200 54,200 55 C200 55,200 56,200 56 C200 57,200 57,200 58 C200 58,201 58,201 58 C202 58,202 58,202 58 C203 58,203 58,203 57 C204 57,204 57,204 56 C205 56,205 55,206 55 L208 57 C207 58,206 59,205 59 C204 60,204 60,203 61 C202 61,202 62,201 62 C200 62,200 62,199 62 C198 62,198 62,197 62 C197 62,196 61,196 61 C195 60,195 60,195 59 C195 59,194 58,194 57 C194 57,195 56,195 55 C195 54,195 53,195 52 C196 51,196 50,196 49 C196 48,197 47,197 46 C197 45,197 44,197 43 C198 42,198 41,198 40 C198 40,198 40,198 39 C198 39,198 39,198 39 C198 38,198 38,197 38 C197 37,196 37,195 37 L195 35 L203 35 L204 35 L200 52 Z" fill="#212121"/><path d="M234 17 L234 12 L280 12 L280 17 L234 17 Z" fill="#212121"/><path d="M328 26 C326 30,324 32,322 34 C320 35,318 36,316 36 C315 36,314 36,313 36 C312 35,312 35,311 34 C310 35,310 37,310 40 C310 42,310 45,310 47 C310 48,310 48,310 49 L309 51 L304 51 L303 49 C304 45,305 41,306 36 L313 1 L320 1 L315 21 C315 22,314 24,314 25 C314 26,314 27,314 28 C314 30,314 30,315 31 C316 32,317 32,318 32 C319 32,321 31,322 30 C324 28,326 26,327 24 C328 22,329 20,330 18 L333 1 L340 1 L334 25 C334 27,334 29,334 30 C334 31,334 32,334 32 C334 33,335 33,336 33 C336 33,337 33,338 32 C338 32,339 31,340 30 L342 32 C341 33,340 34,339 35 C338 36,337 36,336 37 C335 37,334 37,333 37 C331 37,330 37,329 36 C328 35,328 34,328 32 C328 31,328 29,329 27 L328 26 Z" fill="#212121"/><path d="M345 61 C346 61,346 61,346 61 C347 61,347 60,347 60 C348 60,348 59,348 58 C348 58,349 57,349 55 L353 36 C354 35,354 34,354 34 C354 33,354 33,354 32 C354 32,354 31,353 31 C353 30,352 30,351 30 L351 28 L365 28 C368 28,369 28,371 29 C372 29,374 29,374 30 C375 31,376 31,376 32 C377 33,377 34,377 35 C377 40,374 43,369 44 C369 45,369 45,369 45 C369 45,369 45,369 45 C370 46,372 47,373 48 C373 49,374 50,374 52 C374 54,374 55,373 57 C372 58,371 59,370 60 C369 61,367 62,365 62 C363 63,360 63,357 63 L345 63 L345 61 Z M361 43 C363 43,365 43,366 43 C367 42,368 42,369 41 C370 40,371 40,371 39 C371 38,372 37,372 36 C372 35,371 34,371 34 C371 33,371 33,370 32 C369 32,369 32,368 31 C367 31,366 31,364 31 C363 31,363 31,362 31 C361 31,360 31,360 31 L357 43 L361 43 Z M353 60 C354 60,354 60,355 60 C355 60,356 60,357 60 C359 60,361 60,362 60 C364 59,365 59,366 58 C367 57,367 56,368 55 C368 54,368 53,368 51 C368 50,368 50,368 49 C368 48,367 48,367 47 C366 47,365 47,364 46 C364 46,362 46,361 46 L356 46 L353 60 Z" fill="#212121"/><path d="M153 148 L166 176 L188 93 L198 93 L198 98 L191 98 L167 186 L164 186 L149 154 L142 156 L141 154 L153 148 Z" fill="#212121"/><path d="M238 133 L226 133 L226 133 C228 135,229 137,229 138 C230 140,230 142,230 144 C230 148,229 151,228 154 C226 157,224 160,221 161 C218 163,215 164,212 164 C208 164,205 163,202 161 C200 159,199 156,199 151 C199 149,200 146,201 144 C201 141,203 139,204 137 C206 135,208 133,210 132 C212 131,214 130,217 129 C220 128,223 128,228 128 L239 128 L238 133 Z M222 133 C219 133,216 134,213 136 C211 138,209 140,207 143 C206 146,205 150,205 153 C205 155,205 157,206 158 C207 159,207 160,208 160 C209 161,210 161,211 161 C214 161,216 160,218 159 C220 157,221 155,222 151 C223 148,224 145,224 142 C224 138,223 135,222 133 L222 133 Z" fill="#212121"/><path d="M260 136 C260 136,261 136,262 136 C262 136,262 136,263 136 C263 135,263 135,264 135 C264 134,264 134,264 133 L267 133 C267 134,267 135,267 137 C267 138,267 139,266 140 L244 140 L244 139 C244 138,245 137,245 136 C246 135,246 134,247 133 C248 132,249 131,250 130 C250 129,251 128,253 127 C254 125,256 124,257 123 C258 121,259 120,259 119 C260 118,260 118,260 117 C261 116,261 115,261 114 C261 113,261 113,260 112 C260 111,260 110,259 110 C259 109,258 109,257 109 C257 108,256 108,255 108 C253 108,252 109,251 109 C250 110,249 111,248 113 L245 113 L245 108 C247 107,249 106,251 106 C253 105,255 105,256 105 C258 105,260 105,261 106 C262 106,263 107,264 107 C265 108,265 109,266 110 C266 111,266 112,266 113 C266 114,266 115,266 115 C266 116,266 117,266 117 C265 118,265 118,265 119 C264 120,264 120,263 121 C263 122,262 122,262 123 C261 124,260 125,259 125 C258 126,257 127,257 128 C256 129,255 130,254 131 C253 132,252 133,251 134 C251 135,250 135,250 136 L260 136 Z" fill="#212121"/><path d="M237 184 C238 184,238 184,238 184 C239 184,239 183,239 183 C240 183,240 182,240 181 C240 181,241 180,241 178 L245 159 C246 158,246 157,246 157 C246 156,246 156,246 155 C246 155,246 154,245 154 C245 153,244 153,243 153 L243 151 L257 151 C260 151,261 151,263 152 C264 152,266 152,266 153 C267 154,268 154,268 155 C269 156,269 157,269 158 C269 163,266 166,261 167 C261 168,261 168,261 168 C261 168,261 168,261 168 C262 169,264 170,265 171 C265 172,266 173,266 175 C266 177,266 178,265 180 C264 181,263 182,262 183 C261 184,259 185,257 185 C255 186,252 186,249 186 L237 186 L237 184 Z M253 166 C255 166,257 166,258 166 C259 165,260 165,261 164 C262 163,263 163,263 162 C263 161,264 160,264 159 C264 158,263 157,263 157 C263 156,263 156,262 155 C261 155,261 155,260 154 C259 154,258 154,256 154 C255 154,255 154,254 154 C253 154,252 154,252 154 L249 166 L253 166 Z M245 183 C246 183,246 183,247 183 C247 183,248 183,249 183 C251 183,253 183,254 183 C256 182,257 182,258 181 C259 180,259 179,260 178 C260 177,260 176,260 174 C260 173,260 173,260 172 C260 171,259 171,259 170 C258 170,257 170,256 169 C256 169,254 169,253 169 L248 169 L245 183 Z" fill="#212121"/><path d="M321 144 L321 165 L315 165 L315 144 L295 144 L295 139 L315 139 L315 118 L321 118 L321 139 L341 139 L341 144 L321 144 Z" fill="#212121"/><path d="M395 136 L391 136 C391 132,389 130,385 130 C383 130,381 131,379 132 C378 133,377 135,377 138 C377 139,378 141,379 142 C380 143,382 143,384 143 L389 143 L389 147 L385 147 C383 147,382 147,380 147 C379 148,378 148,377 149 C376 149,375 150,375 150 C374 151,373 152,373 152 C373 153,373 154,373 155 C373 157,373 158,374 159 C376 160,377 160,380 160 C381 160,383 160,385 159 C387 159,389 158,391 156 L393 159 C391 161,388 162,386 163 C383 164,381 164,378 164 C375 164,373 164,372 163 C370 162,368 161,368 160 C367 158,366 157,366 155 C366 153,367 151,369 149 C371 147,374 146,378 145 L378 145 C373 143,371 141,371 137 C371 135,372 134,373 132 C374 131,375 130,377 129 C380 128,382 127,385 127 C389 127,392 128,396 129 L395 136 Z" fill="#212121"/><rect x="196" y="93" width="201" height="5" fill="#212121"/><rect x="140" y="73" width="257" height="5" fill="#212121"/></svg></span></p>
<p class="p_Text" style="text-align: center;"><span style="display:inline-block;width:195px;height:23px;padding:0 0;overflow:visible"><svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%;overflow:visible" viewBox="0 0 780 92"><path d="M18 53 C17 49,16 44,15 38 C14 31,13 27,12 25 C12 23,11 22,11 22 C11 21,10 21,10 21 C9 21,8 21,7 22 C7 23,6 24,5 25 L2 23 C4 21,6 20,7 19 C9 18,10 17,12 17 C13 17,14 17,15 17 C15 18,16 18,16 19 C17 19,17 20,17 20 C18 21,18 22,18 23 C19 24,19 26,19 28 C20 31,21 34,21 38 C22 41,22 45,22 48 C25 44,27 41,29 38 C30 34,31 32,32 29 C33 27,33 25,33 23 C33 22,33 21,32 21 C32 20,31 20,30 20 L30 18 L40 18 L41 20 C39 25,37 30,33 36 C30 42,27 48,23 53 C19 58,16 62,13 65 C11 66,9 68,8 68 C7 69,5 69,4 69 C3 69,3 69,2 69 C1 69,1 69,0 69 L2 62 L5 62 C5 63,5 64,6 64 C8 64,9 63,11 61 C13 60,15 57,18 53 L18 53 Z" fill="#212121"/><path d="M47 43 L45 49 L40 49 L41 43 L47 43 Z M40 71 C40 72,40 73,40 74 C40 74,40 75,40 75 C40 76,40 76,40 77 C40 77,41 77,41 77 C42 77,42 77,42 77 C43 77,43 77,43 76 C44 76,44 76,44 75 C45 75,45 74,46 74 L48 76 C47 77,46 78,45 78 C44 79,44 79,43 80 C42 80,42 81,41 81 C40 81,40 81,39 81 C38 81,38 81,37 81 C37 81,36 80,36 80 C35 79,35 79,35 78 C35 78,34 77,34 76 C34 76,35 75,35 74 C35 73,35 72,35 71 C36 70,36 69,36 68 C36 67,37 66,37 65 C37 64,37 63,37 62 C38 61,38 60,38 59 C38 59,38 59,38 58 C38 58,38 58,38 58 C38 57,38 57,37 57 C37 56,36 56,35 56 L35 54 L43 54 L44 54 L40 71 Z" fill="#212121"/><path d="M78 27 L78 22 L124 22 L124 27 L78 27 Z M78 42 L78 37 L124 37 L124 42 L78 42 Z" fill="#212121"/><path d="M188 20 C186 23,183 28,178 34 C173 41,169 48,165 54 C164 59,163 64,162 68 L157 68 L156 66 C157 62,158 58,161 53 C161 49,161 44,161 39 C161 35,161 32,161 29 C161 27,161 25,160 24 C160 23,159 22,159 22 C159 21,158 21,157 21 C156 21,154 22,153 24 L151 22 C152 21,153 20,153 20 C154 19,155 19,155 18 C156 18,157 18,157 17 C158 17,159 17,160 17 C162 17,164 18,165 20 C166 22,167 25,167 29 C167 34,167 40,166 46 L166 46 C172 36,177 27,181 18 L189 18 L188 20 Z" fill="#212121"/><path d="M206 36 C206 34,206 33,205 31 C205 29,205 27,204 26 C204 24,203 23,203 22 C203 22,203 22,202 21 C202 21,202 21,201 21 C201 21,200 21,200 21 C199 22,199 22,198 23 C198 23,197 24,196 25 L194 23 C196 21,197 20,198 19 C200 18,202 17,203 17 C204 17,205 17,205 17 C206 18,207 18,207 18 C207 19,208 19,208 20 C209 20,209 21,209 22 C210 23,210 24,210 26 C210 27,211 29,211 30 L211 30 C214 27,215 24,216 23 C218 21,219 20,220 19 C220 18,221 18,222 18 C223 17,224 17,225 17 C226 17,227 17,228 18 L226 25 L224 25 C224 24,223 23,223 23 C222 23,222 23,222 23 C222 23,221 23,221 24 C221 24,220 24,219 25 C219 26,218 27,217 28 C216 29,215 30,214 31 L212 34 C212 37,213 39,213 40 C214 42,214 44,214 45 C215 46,215 47,215 48 C215 48,216 49,216 49 C216 50,216 50,217 50 C217 50,217 50,218 50 C218 50,219 50,219 49 C220 49,221 48,222 46 L225 48 C223 50,221 52,220 53 C219 54,217 54,215 54 C214 54,213 54,212 53 C212 53,211 52,210 52 C210 51,209 49,209 48 C208 44,208 42,208 40 L207 40 C205 44,203 47,201 48 C200 50,199 51,198 52 C198 53,197 53,196 54 C195 54,194 54,193 54 C192 54,191 54,190 54 L192 46 L194 46 C194 47,195 48,195 48 C196 48,196 48,197 48 C197 48,197 47,198 46 C199 46,200 45,201 43 C202 42,204 39,206 36 L206 36 Z" fill="#212121"/><path d="M240 41 L238 47 L233 47 L234 41 L240 41 Z M233 69 C233 70,233 71,233 72 C233 72,233 73,233 73 C233 74,233 74,233 75 C233 75,234 75,234 75 C235 75,235 75,235 75 C236 75,236 75,236 74 C237 74,237 74,237 73 C238 73,238 72,239 72 L241 74 C240 75,239 76,238 76 C237 77,237 77,236 78 C235 78,235 79,234 79 C233 79,233 79,232 79 C231 79,231 79,230 79 C230 79,229 78,229 78 C228 77,228 77,228 76 C228 76,227 75,227 74 C227 74,228 73,228 72 C228 71,228 70,228 69 C229 68,229 67,229 66 C229 65,230 64,230 63 C230 62,230 61,230 60 C231 59,231 58,231 57 C231 57,231 57,231 56 C231 56,231 56,231 56 C231 55,231 55,230 55 C230 54,229 54,228 54 L228 52 L236 52 L237 52 L233 69 Z" fill="#212121"/><path d="M216 0 L224 12 L221 14 L214 5 L214 5 L205 14 L203 12 L211 0 L216 0 Z" fill="#212121"/><path d="M293 34 L293 55 L287 55 L287 34 L267 34 L267 29 L287 29 L287 8 L293 8 L293 29 L313 29 L313 34 L293 34 Z" fill="#212121"/><path d="M363 26 C369 28,372 32,372 38 C372 41,371 43,370 46 C369 48,367 50,364 52 C362 53,359 54,356 54 C354 54,352 54,350 54 C349 53,347 53,345 52 L342 69 L336 69 L346 21 C347 16,349 13,350 10 C352 7,354 5,357 3 C359 2,362 1,365 1 C369 1,372 2,374 4 C376 5,377 8,377 11 C377 12,377 13,377 15 C376 16,376 18,375 19 C374 20,372 22,370 23 C368 24,366 25,363 26 L363 26 Z M357 25 C360 25,362 24,364 23 C366 22,368 20,369 18 C370 15,371 13,371 10 C371 8,371 7,370 6 C369 5,367 4,365 4 C362 4,359 6,357 9 C355 12,353 16,352 22 L347 45 C347 46,347 46,347 46 C347 47,347 48,347 48 C348 49,348 49,349 49 C349 50,350 50,351 51 C352 51,353 51,355 51 C357 51,359 50,360 49 C362 48,363 46,364 44 C365 42,365 39,365 36 C365 34,365 31,363 30 C362 28,359 27,357 27 L357 25 Z" fill="#212121"/><path d="M408 34 L408 29 L454 29 L454 34 L408 34 Z M408 49 L408 44 L454 44 L454 49 L408 49 Z M408 19 L408 14 L454 14 L454 19 L408 19 Z" fill="#212121"/><path d="M513 28 C516 29,517 30,519 32 C520 33,520 35,520 37 C520 41,520 43,518 46 C517 48,514 50,511 51 C508 52,504 53,498 53 L482 53 L482 51 C483 51,484 51,485 51 C485 50,485 50,486 49 C486 49,486 48,487 47 C487 46,487 45,488 42 L494 14 C495 12,495 10,495 8 C495 7,495 6,494 6 C494 5,493 5,491 5 L492 3 L510 3 C513 3,516 4,519 4 C521 5,523 6,524 8 C525 9,525 11,525 13 C525 17,524 20,522 22 C520 24,517 26,513 27 L513 28 Z M503 26 C506 26,508 26,510 25 C512 25,513 24,515 23 C516 22,517 20,517 19 C518 17,518 15,518 13 C518 12,518 11,518 10 C517 10,517 9,516 8 C515 7,514 7,513 7 C512 6,510 6,508 6 C506 6,504 6,502 6 L498 26 L503 26 Z M493 50 C494 50,496 50,498 50 C502 50,505 50,507 49 C508 48,510 47,511 44 C513 42,513 40,513 36 C513 34,513 32,511 31 C509 30,507 29,504 29 L497 29 L493 50 Z" fill="#212121"/><path d="M582 3 L581 5 C581 5,580 6,579 6 C579 6,579 6,578 7 C578 7,578 8,577 9 C577 10,577 12,576 14 L567 53 L563 53 L552 21 C551 18,549 14,548 10 L548 10 C548 11,547 14,547 17 C546 21,545 24,545 28 L541 42 C541 45,541 46,541 48 C541 49,541 50,541 50 C542 51,543 51,544 51 L544 53 L531 53 L531 51 C532 51,533 51,534 50 C534 50,534 50,535 49 C535 48,535 48,536 47 C536 46,536 44,537 42 L543 14 C543 13,543 12,544 11 C544 10,544 9,544 8 C544 7,544 6,543 6 C542 5,541 5,540 5 L541 3 L552 3 L562 32 C563 36,564 39,565 42 L566 42 C566 41,566 38,567 35 C568 31,568 28,569 26 L571 14 C572 12,572 10,572 8 C572 7,572 6,571 6 C571 5,570 5,569 5 L569 3 L582 3 Z" fill="#212121"/><path d="M609 55 C609 56,608 56,607 57 C607 59,606 60,605 61 C604 63,602 64,601 66 C600 67,599 69,598 71 C597 73,595 74,594 76 C593 78,592 79,591 80 C591 82,590 84,590 86 C590 88,589 89,589 91 L584 91 C584 91,584 91,584 90 C584 90,584 90,583 90 C584 88,584 87,585 85 C586 84,586 82,587 80 C587 79,587 77,587 75 C587 73,587 71,587 69 C587 68,587 66,587 65 C587 63,587 62,587 61 C587 60,587 60,586 59 C586 59,586 58,586 58 C586 58,585 57,585 57 C585 57,585 57,584 57 C584 57,583 57,582 58 C582 58,581 59,580 59 C580 59,580 59,580 59 C579 58,579 58,579 58 C580 57,580 56,581 55 C582 55,582 54,583 54 C584 54,584 53,585 53 C585 53,586 53,586 53 C587 53,588 53,589 54 C590 54,590 55,591 55 C591 56,592 57,592 59 C592 60,592 62,592 64 C592 66,592 67,592 69 C592 71,592 72,592 74 L592 74 C593 73,594 71,595 69 C596 67,597 65,598 63 C599 62,600 60,601 58 C602 56,603 55,603 53 L610 53 L609 55 Z" fill="#212121"/><path d="M635 59 C638 60,639 62,640 63 C641 64,642 66,642 68 C642 70,642 71,641 73 C640 74,639 76,638 77 C637 78,636 79,634 79 C633 80,631 80,629 80 C628 80,626 80,625 80 C624 80,622 79,621 78 L618 92 L613 92 L621 56 C622 51,624 47,627 45 C629 42,632 41,636 41 C638 41,639 41,640 42 C641 42,642 42,643 43 C644 44,645 44,645 45 C646 46,646 47,646 48 C646 50,646 51,645 52 C645 53,644 54,643 55 C643 56,642 56,640 57 C639 58,637 59,635 59 L635 59 Z M630 58 C631 58,633 58,634 57 C636 57,637 56,638 55 C639 54,639 53,640 52 C640 51,641 50,641 49 C641 47,640 46,639 45 C639 44,638 44,636 44 C634 44,632 45,630 47 C628 49,627 52,626 56 L622 73 C622 73,622 73,622 73 C622 74,622 74,622 74 C622 75,623 76,624 76 C625 77,626 77,628 77 C630 77,631 77,632 76 C633 76,634 75,634 74 C635 74,636 72,636 71 C636 70,636 68,636 67 C636 65,636 63,635 62 C633 61,632 60,629 60 L630 58 Z" fill="#212121"/><path d="M663 35 C663 43,664 51,667 56 C670 62,674 65,680 67 L679 70 C672 68,666 64,663 58 C659 52,657 44,657 35 C657 26,659 19,663 12 C666 6,672 2,679 0 L680 3 C674 5,670 9,667 14 C664 20,663 26,663 35 L663 35 Z" fill="#212121"/><path d="M698 36 C698 34,698 33,697 31 C697 29,697 27,696 26 C696 24,695 23,695 22 C695 22,695 22,694 21 C694 21,694 21,693 21 C693 21,692 21,692 21 C691 22,691 22,690 23 C690 23,689 24,688 25 L686 23 C688 21,689 20,690 19 C692 18,694 17,695 17 C696 17,697 17,697 17 C698 18,699 18,699 18 C699 19,700 19,700 20 C701 20,701 21,701 22 C702 23,702 24,702 26 C702 27,703 29,703 30 L703 30 C706 27,707 24,708 23 C710 21,711 20,712 19 C712 18,713 18,714 18 C715 17,716 17,717 17 C718 17,719 17,720 18 L718 25 L716 25 C716 24,715 23,715 23 C714 23,714 23,714 23 C714 23,713 23,713 24 C713 24,712 24,711 25 C711 26,710 27,709 28 C708 29,707 30,706 31 L704 34 C704 37,705 39,705 40 C706 42,706 44,706 45 C707 46,707 47,707 48 C707 48,708 49,708 49 C708 50,708 50,709 50 C709 50,709 50,710 50 C710 50,711 50,711 49 C712 49,713 48,714 46 L717 48 C715 50,713 52,712 53 C711 54,709 54,707 54 C706 54,705 54,704 53 C704 53,703 52,702 52 C702 51,701 49,701 48 C700 44,700 42,700 40 L699 40 C697 44,695 47,693 48 C692 50,691 51,690 52 C690 53,689 53,688 54 C687 54,686 54,685 54 C684 54,683 54,682 54 L684 46 L686 46 C686 47,687 48,687 48 C688 48,688 48,689 48 C689 48,689 47,690 46 C691 46,692 45,693 43 C694 42,696 39,698 36 L698 36 Z" fill="#212121"/><path d="M732 41 L730 47 L725 47 L726 41 L732 41 Z M725 69 C725 70,725 71,725 72 C725 72,725 73,725 73 C725 74,725 74,725 75 C725 75,726 75,726 75 C727 75,727 75,727 75 C728 75,728 75,728 74 C729 74,729 74,729 73 C730 73,730 72,731 72 L733 74 C732 75,731 76,730 76 C729 77,729 77,728 78 C727 78,727 79,726 79 C725 79,725 79,724 79 C723 79,723 79,722 79 C722 79,721 78,721 78 C720 77,720 77,720 76 C720 76,719 75,719 74 C719 74,720 73,720 72 C720 71,720 70,720 69 C721 68,721 67,721 66 C721 65,722 64,722 63 C722 62,722 61,722 60 C723 59,723 58,723 57 C723 57,723 57,723 56 C723 56,723 56,723 56 C723 55,723 55,722 55 C722 54,721 54,720 54 L720 52 L728 52 L729 52 L725 69 Z" fill="#212121"/><path d="M755 35 C755 26,754 20,751 14 C748 9,744 5,738 3 L739 0 C746 2,752 6,755 12 C759 19,761 26,761 35 C761 44,759 52,755 58 C752 64,746 68,739 70 L738 67 C744 65,748 62,751 56 C754 51,755 43,755 35 L755 35 Z" fill="#212121"/></svg></span></p>
<p class="p_Text"><span class="f_Text">To calculate the normalized value, we use only the mean and standard deviation, which are calculated for the dataset and do not have adjustable parameters. We have only two configurable parameters when we shift and scale the values of </span><span class="f_Text" style="font-style: italic;">&#947;</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">&#946;</span><span class="f_Text">. Both parameters are selected individually for each value from the source data tensor.</span></p>
<p class="p_Text"><span class="f_Text">Now let's remember the mathematical formula for a displaced neuron.</span></p>
<p class="p_Text" style="text-align: center;"><span style="display:inline-block;width:179px;height:47px;padding:0 0;overflow:visible"><svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%;overflow:visible" viewBox="0 0 716 188"><path d="M31 66 C36 66,39 68,42 70 C45 73,46 77,46 82 C46 86,45 91,44 95 C43 100,41 104,38 108 C36 111,33 114,30 116 C27 117,23 118,20 118 C15 118,11 117,9 114 C6 111,5 107,5 102 C5 98,6 94,7 89 C8 85,10 81,12 77 C15 73,17 71,21 69 C24 67,27 66,31 66 L31 66 Z M39 81 C39 73,36 69,31 69 C28 69,26 70,23 72 C21 74,19 77,17 80 C16 84,14 88,13 92 C12 96,12 100,12 103 C12 111,15 115,20 115 C23 115,27 114,29 110 C32 107,34 103,36 97 C38 91,39 86,39 81 L39 81 Z" fill="#212121"/><path d="M84 106 C84 108,83 110,83 111 C83 112,83 113,84 113 C84 114,85 114,85 114 C86 114,87 114,88 113 C88 113,90 112,91 110 L93 112 C91 114,89 116,88 117 C86 118,84 118,83 118 C81 118,80 118,79 117 C78 116,78 114,78 113 C78 112,78 110,78 109 L78 108 C76 112,73 114,71 116 C69 117,67 118,64 118 C62 118,60 117,59 116 C58 115,57 113,57 110 C57 109,58 107,58 104 L61 94 C61 91,62 89,62 88 C62 87,62 86,61 86 C61 85,61 85,60 85 C59 85,58 85,57 86 C57 87,55 88,54 89 L52 87 C54 85,56 84,57 83 C58 82,59 82,60 82 C61 81,62 81,63 81 C64 81,66 82,67 83 C67 84,68 85,68 87 C68 89,68 92,67 95 L65 101 C65 103,64 104,64 105 C64 106,64 107,64 107 C64 108,64 109,64 109 C64 111,64 112,65 113 C65 114,66 114,67 114 C68 114,69 114,71 113 C72 112,73 111,74 109 C76 107,77 106,78 104 C78 103,79 101,80 98 L83 82 L89 82 L84 106 Z" fill="#212121"/><path d="M119 110 C117 113,115 115,113 116 C111 117,109 118,107 118 C102 118,100 116,100 110 C100 109,100 107,100 105 L104 86 L98 86 L99 84 C100 84,101 84,102 84 C103 84,103 83,104 83 C104 83,105 82,105 81 C106 81,106 80,107 79 C107 78,108 76,108 73 L113 73 L111 82 L122 82 L122 86 L111 86 L107 100 C107 103,106 105,106 107 C106 108,106 109,106 109 C106 113,107 114,110 114 C111 114,112 114,113 113 C114 112,116 110,117 108 L119 110 Z" fill="#212121"/><path d="M134 94 C135 91,135 89,135 88 C135 87,135 86,134 86 C134 85,134 85,133 85 C132 85,131 85,130 86 C130 87,128 88,127 89 L125 87 C127 85,129 83,130 82 C132 82,134 81,136 81 C137 81,138 82,139 83 C140 84,140 85,140 86 C140 88,140 89,140 91 L140 91 C145 84,149 81,154 81 C156 81,158 82,160 84 C161 86,162 89,162 93 C162 97,161 101,160 105 C158 109,156 112,153 115 C150 117,147 118,143 118 C140 118,137 117,135 116 L133 124 C133 126,133 127,133 128 C133 129,133 130,134 130 C134 131,135 131,137 131 L137 133 L125 133 L134 94 Z M138 104 C137 106,137 107,137 107 C137 108,137 109,137 109 C137 111,138 113,138 114 C139 115,141 115,143 115 C144 115,145 115,146 114 C147 114,148 113,149 112 C150 111,151 110,152 109 C152 107,153 106,154 104 C154 102,155 100,155 98 C155 96,155 95,155 93 C155 90,155 88,154 87 C154 86,153 85,151 85 C150 85,149 86,147 86 C146 87,145 89,143 91 C142 93,141 94,140 96 C139 98,139 100,138 103 L138 104 Z" fill="#212121"/><path d="M199 106 C199 108,198 110,198 111 C198 112,198 113,199 113 C199 114,200 114,200 114 C201 114,202 114,203 113 C203 113,205 112,206 110 L208 112 C206 114,204 116,203 117 C201 118,199 118,198 118 C196 118,195 118,194 117 C193 116,193 114,193 113 C193 112,193 110,193 109 L193 108 C191 112,188 114,186 116 C184 117,182 118,179 118 C177 118,175 117,174 116 C173 115,172 113,172 110 C172 109,173 107,173 104 L176 94 C176 91,177 89,177 88 C177 87,177 86,176 86 C176 85,176 85,175 85 C174 85,173 85,172 86 C172 87,170 88,169 89 L167 87 C169 85,171 84,172 83 C173 82,174 82,175 82 C176 81,177 81,178 81 C179 81,181 82,182 83 C182 84,183 85,183 87 C183 89,183 92,182 95 L180 101 C180 103,179 104,179 105 C179 106,179 107,179 107 C179 108,179 109,179 109 C179 111,179 112,180 113 C180 114,181 114,182 114 C183 114,184 114,186 113 C187 112,188 111,189 109 C191 107,192 106,193 104 C193 103,194 101,195 98 L198 82 L204 82 L199 106 Z" fill="#212121"/><path d="M234 110 C232 113,230 115,228 116 C226 117,224 118,222 118 C217 118,215 116,215 110 C215 109,215 107,215 105 L219 86 L213 86 L214 84 C215 84,216 84,217 84 C218 84,218 83,219 83 C219 83,220 82,220 81 C221 81,221 80,222 79 C222 78,223 76,223 73 L228 73 L226 82 L237 82 L237 86 L226 86 L222 100 C222 103,221 105,221 107 C221 108,221 109,221 109 C221 113,222 114,225 114 C226 114,227 114,228 113 C229 112,231 110,232 108 L234 110 Z" fill="#212121"/><path d="M267 91 L267 86 L313 86 L313 91 L267 91 Z M267 106 L267 101 L313 101 L313 106 L267 106 Z" fill="#212121"/><path d="M372 57 L396 92 L396 95 L369 131 L402 131 C405 131,407 130,408 128 C410 127,411 124,411 120 L415 120 L414 138 L359 138 L359 136 L389 96 L361 55 L361 53 L415 53 L415 70 L411 70 C410 66,409 63,407 61 C405 58,402 57,398 57 L372 57 Z" fill="#212121"/><path d="M392 27 C392 26,392 24,393 23 C393 21,393 20,394 18 C394 17,394 15,395 14 C395 13,395 11,396 10 C396 9,396 8,396 7 C396 6,396 5,396 4 C396 4,396 3,396 3 C395 2,395 2,394 2 L394 0 L404 0 L404 2 C403 2,402 2,402 3 C402 3,401 3,401 3 C401 4,401 4,400 5 C400 6,400 7,400 8 L394 35 L390 35 C389 33,388 30,387 28 C386 25,385 23,384 20 C383 18,382 15,381 13 C380 10,379 8,379 6 L378 6 C378 6,378 7,378 8 C378 8,378 9,377 10 C377 11,377 12,377 13 C377 13,377 14,376 15 C376 16,376 17,376 18 C376 18,375 19,375 20 C375 21,375 23,375 24 C374 25,374 26,374 27 C374 28,374 28,373 29 C373 30,373 31,373 31 C373 32,373 32,374 33 C374 33,375 33,376 33 L376 35 L366 35 L366 33 C367 33,367 33,367 33 C368 33,368 32,368 32 C369 32,369 31,369 30 C369 30,370 29,370 27 L374 8 C375 7,375 7,375 6 C375 5,375 5,375 4 C375 3,375 3,374 3 C374 2,373 2,372 2 L372 0 L382 0 C383 2,383 5,384 7 C385 9,386 11,387 14 C388 16,389 18,389 20 C390 23,391 25,392 27 L392 27 Z" fill="#212121"/><path d="M356 145 L354 151 L349 151 L350 145 L356 145 Z M349 173 C349 174,349 175,349 176 C349 176,349 177,349 177 C349 178,349 178,349 179 C349 179,350 179,350 179 C351 179,351 179,351 179 C352 179,352 179,352 178 C353 178,353 178,353 177 C354 177,354 176,355 176 L357 178 C356 179,355 180,354 180 C353 181,353 181,352 182 C351 182,351 183,350 183 C349 183,349 183,348 183 C347 183,347 183,346 183 C346 183,345 182,345 182 C344 181,344 181,344 180 C344 180,343 179,343 178 C343 178,344 177,344 176 C344 175,344 174,344 173 C345 172,345 171,345 170 C345 169,346 168,346 167 C346 166,346 165,346 164 C347 163,347 162,347 161 C347 161,347 161,347 160 C347 160,347 160,347 160 C347 159,347 159,346 159 C346 158,345 158,344 158 L344 156 L352 156 L353 156 L349 173 Z" fill="#212121"/><path d="M365 163 L365 159 L395 159 L395 163 L365 163 Z M365 175 L365 171 L395 171 L395 175 L365 175 Z" fill="#212121"/><path d="M420 176 C420 177,420 177,420 178 C420 178,420 179,420 179 C420 179,420 179,420 180 C420 180,421 180,421 180 C421 180,421 180,422 181 C422 181,422 181,423 181 C423 181,424 181,425 181 C426 181,427 181,428 181 L428 183 L406 183 L406 181 C407 181,408 181,409 181 C410 181,410 181,411 181 C411 181,412 181,412 181 C413 180,413 180,413 180 C413 180,414 180,414 180 C414 180,414 179,414 179 C414 179,414 178,414 178 C414 178,414 177,414 176 L414 157 C414 157,414 156,414 156 C414 156,413 155,413 155 C412 155,412 156,410 156 C409 157,408 158,406 159 C406 158,406 158,406 158 C405 157,405 157,405 156 C407 155,409 154,412 153 C414 152,416 150,418 149 L420 149 C420 150,420 151,420 152 C420 153,420 153,420 154 C420 155,420 155,420 156 L420 176 Z" fill="#212121"/><path d="M480 111 C484 106,487 101,489 97 C491 93,492 90,492 87 C492 86,492 85,491 85 C491 84,490 84,489 84 L489 82 L498 82 L499 84 C499 86,498 88,497 89 C497 90,496 92,495 93 C494 95,494 97,493 98 C492 100,491 102,489 104 C488 106,487 108,485 110 C484 113,482 115,480 118 L475 118 L474 102 C474 101,474 100,473 98 C473 96,473 94,473 93 L473 93 C471 96,470 100,467 104 C465 108,462 113,459 118 L454 118 L451 90 C451 89,451 88,451 87 C450 86,450 85,450 85 C449 85,448 84,447 84 L447 82 L457 82 L459 111 C463 106,465 101,467 98 C468 95,469 93,470 91 C471 89,471 86,472 84 L472 82 L477 82 L480 111 Z" fill="#212121"/><path d="M507 105 L505 111 L500 111 L501 105 L507 105 Z M500 133 C500 134,500 135,500 136 C500 136,500 137,500 137 C500 138,500 138,500 139 C500 139,501 139,501 139 C502 139,502 139,502 139 C503 139,503 139,503 138 C504 138,504 138,504 137 C505 137,505 136,506 136 L508 138 C507 139,506 140,505 140 C504 141,504 141,503 142 C502 142,502 143,501 143 C500 143,500 143,499 143 C498 143,498 143,497 143 C497 143,496 142,496 142 C495 141,495 141,495 140 C495 140,494 139,494 138 C494 138,495 137,495 136 C495 135,495 134,495 133 C496 132,496 131,496 130 C496 129,497 128,497 127 C497 126,497 125,497 124 C498 123,498 122,498 121 C498 121,498 121,498 120 C498 120,498 120,498 120 C498 119,498 119,497 119 C497 118,496 118,495 118 L495 116 L503 116 L504 116 L500 133 Z" fill="#212121"/><path d="M529 100 C529 98,529 97,528 95 C528 93,528 91,527 90 C527 88,526 87,526 86 C526 86,526 86,525 85 C525 85,525 85,524 85 C524 85,523 85,523 85 C522 86,522 86,521 87 C521 87,520 88,519 89 L517 87 C519 85,520 84,521 83 C523 82,525 81,526 81 C527 81,528 81,528 81 C529 82,530 82,530 82 C530 83,531 83,531 84 C532 84,532 85,532 86 C533 87,533 88,533 90 C533 91,534 93,534 94 L534 94 C537 91,538 88,539 87 C541 85,542 84,543 83 C543 82,544 82,545 82 C546 81,547 81,548 81 C549 81,550 81,551 82 L549 89 L547 89 C547 88,546 87,546 87 C545 87,545 87,545 87 C545 87,544 87,544 88 C544 88,543 88,542 89 C542 90,541 91,540 92 C539 93,538 94,537 95 L535 98 C535 101,536 103,536 104 C537 106,537 108,537 109 C538 110,538 111,538 112 C538 112,539 113,539 113 C539 114,539 114,540 114 C540 114,540 114,541 114 C541 114,542 114,542 113 C543 113,544 112,545 110 L548 112 C546 114,544 116,543 117 C542 118,540 118,538 118 C537 118,536 118,535 117 C535 117,534 116,533 116 C533 115,532 113,532 112 C531 108,531 106,531 104 L530 104 C528 108,526 111,524 112 C523 114,522 115,521 116 C521 117,520 117,519 118 C518 118,517 118,516 118 C515 118,514 118,513 118 L515 110 L517 110 C517 111,518 112,518 112 C519 112,519 112,520 112 C520 112,520 111,521 110 C522 110,523 109,524 107 C525 106,527 103,529 100 L529 100 Z" fill="#212121"/><path d="M563 105 L561 111 L556 111 L557 105 L563 105 Z M556 133 C556 134,556 135,556 136 C556 136,556 137,556 137 C556 138,556 138,556 139 C556 139,557 139,557 139 C558 139,558 139,558 139 C559 139,559 139,559 138 C560 138,560 138,560 137 C561 137,561 136,562 136 L564 138 C563 139,562 140,561 140 C560 141,560 141,559 142 C558 142,558 143,557 143 C556 143,556 143,555 143 C554 143,554 143,553 143 C553 143,552 142,552 142 C551 141,551 141,551 140 C551 140,550 139,550 138 C550 138,551 137,551 136 C551 135,551 134,551 133 C552 132,552 131,552 130 C552 129,553 128,553 127 C553 126,553 125,553 124 C554 123,554 122,554 121 C554 121,554 121,554 120 C554 120,554 120,554 120 C554 119,554 119,553 119 C553 118,552 118,551 118 L551 116 L559 116 L560 116 L556 133 Z" fill="#212121"/><path d="M616 98 L616 119 L610 119 L610 98 L590 98 L590 93 L610 93 L610 72 L616 72 L616 93 L636 93 L636 98 L616 98 Z" fill="#212121"/><path d="M686 90 C692 92,695 96,695 102 C695 105,694 107,693 110 C692 112,690 114,687 116 C685 117,682 118,679 118 C677 118,675 118,673 118 C672 117,670 117,668 116 L665 133 L659 133 L669 85 C670 80,672 77,673 74 C675 71,677 69,680 67 C682 66,685 65,688 65 C692 65,695 66,697 68 C699 69,700 72,700 75 C700 76,700 77,700 79 C699 80,699 82,698 83 C697 84,695 86,693 87 C691 88,689 89,686 90 L686 90 Z M680 89 C683 89,685 88,687 87 C689 86,691 84,692 82 C693 79,694 77,694 74 C694 72,694 71,693 70 C692 69,690 68,688 68 C685 68,682 70,680 73 C678 76,676 80,675 86 L670 109 C670 110,670 110,670 110 C670 111,670 112,670 112 C671 113,671 113,672 113 C672 114,673 114,674 115 C675 115,676 115,678 115 C680 115,682 114,683 113 C685 112,686 110,687 108 C688 106,688 103,688 100 C688 98,688 95,686 94 C685 92,682 91,680 91 L680 89 Z" fill="#212121"/></svg></span></p>
<p class="p_Text"><span class="f_Text">Don't you think that when </span><span class="f_Text" style="font-style: italic;">N</span><span class="f_Text"> = 1, the formulas will look identical? We will use this similarity.</span></p>
<p class="p_Text" style="text-align: center;"><span style="display:inline-block;width:323px;height:23px;padding:0 0;overflow:visible"><svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%;overflow:visible" viewBox="0 0 1292 92"><path d="M31 2 C36 2,39 4,42 6 C45 9,46 13,46 18 C46 22,45 27,44 31 C43 36,41 40,38 44 C36 47,33 50,30 52 C27 53,23 54,20 54 C15 54,11 53,9 50 C6 47,5 43,5 38 C5 34,6 30,7 25 C8 21,10 17,12 13 C15 9,17 7,21 5 C24 3,27 2,31 2 L31 2 Z M39 17 C39 9,36 5,31 5 C28 5,26 6,23 8 C21 10,19 13,17 16 C16 20,14 24,13 28 C12 32,12 36,12 39 C12 47,15 51,20 51 C23 51,27 50,29 46 C32 43,34 39,36 33 C38 27,39 22,39 17 L39 17 Z" fill="#212121"/><path d="M84 42 C84 44,83 46,83 47 C83 48,83 49,84 49 C84 50,85 50,85 50 C86 50,87 50,88 49 C88 49,90 48,91 46 L93 48 C91 50,89 52,88 53 C86 54,84 54,83 54 C81 54,80 54,79 53 C78 52,78 50,78 49 C78 48,78 46,78 45 L78 44 C76 48,73 50,71 52 C69 53,67 54,64 54 C62 54,60 53,59 52 C58 51,57 49,57 46 C57 45,58 43,58 40 L61 30 C61 27,62 25,62 24 C62 23,62 22,61 22 C61 21,61 21,60 21 C59 21,58 21,57 22 C57 23,55 24,54 25 L52 23 C54 21,56 20,57 19 C58 18,59 18,60 18 C61 17,62 17,63 17 C64 17,66 18,67 19 C67 20,68 21,68 23 C68 25,68 28,67 31 L65 37 C65 39,64 40,64 41 C64 42,64 43,64 43 C64 44,64 45,64 45 C64 47,64 48,65 49 C65 50,66 50,67 50 C68 50,69 50,71 49 C72 48,73 47,74 45 C76 43,77 42,78 40 C78 39,79 37,80 34 L83 18 L89 18 L84 42 Z" fill="#212121"/><path d="M119 46 C117 49,115 51,113 52 C111 53,109 54,107 54 C102 54,100 52,100 46 C100 45,100 43,100 41 L104 22 L98 22 L99 20 C100 20,101 20,102 20 C103 20,103 19,104 19 C104 19,105 18,105 17 C106 17,106 16,107 15 C107 14,108 12,108 9 L113 9 L111 18 L122 18 L122 22 L111 22 L107 36 C107 39,106 41,106 43 C106 44,106 45,106 45 C106 49,107 50,110 50 C111 50,112 50,113 49 C114 48,116 46,117 44 L119 46 Z" fill="#212121"/><path d="M134 30 C135 27,135 25,135 24 C135 23,135 22,134 22 C134 21,134 21,133 21 C132 21,131 21,130 22 C130 23,128 24,127 25 L125 23 C127 21,129 19,130 18 C132 18,134 17,136 17 C137 17,138 18,139 19 C140 20,140 21,140 22 C140 24,140 25,140 27 L140 27 C145 20,149 17,154 17 C156 17,158 18,160 20 C161 22,162 25,162 29 C162 33,161 37,160 41 C158 45,156 48,153 51 C150 53,147 54,143 54 C140 54,137 53,135 52 L133 60 C133 62,133 63,133 64 C133 65,133 66,134 66 C134 67,135 67,137 67 L137 69 L125 69 L134 30 Z M138 40 C137 42,137 43,137 43 C137 44,137 45,137 45 C137 47,138 49,138 50 C139 51,141 51,143 51 C144 51,145 51,146 50 C147 50,148 49,149 48 C150 47,151 46,152 45 C152 43,153 42,154 40 C154 38,155 36,155 34 C155 32,155 31,155 29 C155 26,155 24,154 23 C154 22,153 21,151 21 C150 21,149 22,147 22 C146 23,145 25,143 27 C142 29,141 30,140 32 C139 34,139 36,138 39 L138 40 Z" fill="#212121"/><path d="M199 42 C199 44,198 46,198 47 C198 48,198 49,199 49 C199 50,200 50,200 50 C201 50,202 50,203 49 C203 49,205 48,206 46 L208 48 C206 50,204 52,203 53 C201 54,199 54,198 54 C196 54,195 54,194 53 C193 52,193 50,193 49 C193 48,193 46,193 45 L193 44 C191 48,188 50,186 52 C184 53,182 54,179 54 C177 54,175 53,174 52 C173 51,172 49,172 46 C172 45,173 43,173 40 L176 30 C176 27,177 25,177 24 C177 23,177 22,176 22 C176 21,176 21,175 21 C174 21,173 21,172 22 C172 23,170 24,169 25 L167 23 C169 21,171 20,172 19 C173 18,174 18,175 18 C176 17,177 17,178 17 C179 17,181 18,182 19 C182 20,183 21,183 23 C183 25,183 28,182 31 L180 37 C180 39,179 40,179 41 C179 42,179 43,179 43 C179 44,179 45,179 45 C179 47,179 48,180 49 C180 50,181 50,182 50 C183 50,184 50,186 49 C187 48,188 47,189 45 C191 43,192 42,193 40 C193 39,194 37,195 34 L198 18 L204 18 L199 42 Z" fill="#212121"/><path d="M234 46 C232 49,230 51,228 52 C226 53,224 54,222 54 C217 54,215 52,215 46 C215 45,215 43,215 41 L219 22 L213 22 L214 20 C215 20,216 20,217 20 C218 20,218 19,219 19 C219 19,220 18,220 17 C221 17,221 16,222 15 C222 14,223 12,223 9 L228 9 L226 18 L237 18 L237 22 L226 22 L222 36 C222 39,221 41,221 43 C221 44,221 45,221 45 C221 49,222 50,225 50 C226 50,227 50,228 49 C229 48,231 46,232 44 L234 46 Z" fill="#212121"/><path d="M267 27 L267 22 L313 22 L313 27 L267 27 Z M267 42 L267 37 L313 37 L313 42 L267 42 Z" fill="#212121"/><path d="M374 47 C378 42,381 37,383 33 C385 29,386 26,386 23 C386 22,386 21,385 21 C385 20,384 20,383 20 L383 18 L392 18 L393 20 C393 22,392 24,391 25 C391 26,390 28,389 29 C388 31,388 33,387 34 C386 36,385 38,383 40 C382 42,381 44,379 46 C378 49,376 51,374 54 L369 54 L368 38 C368 37,368 36,367 34 C367 32,367 30,367 29 L367 29 C365 32,364 36,361 40 C359 44,356 49,353 54 L348 54 L345 26 C345 25,345 24,345 23 C344 22,344 21,344 21 C343 21,342 20,341 20 L341 18 L351 18 L353 47 C357 42,359 37,361 34 C362 31,363 29,364 27 C365 25,365 22,366 20 L366 18 L371 18 L374 47 Z" fill="#212121"/><path d="M411 36 C411 34,411 33,410 31 C410 29,410 27,409 26 C409 24,408 23,408 22 C408 22,408 22,407 21 C407 21,407 21,406 21 C406 21,405 21,405 21 C404 22,404 22,403 23 C403 23,402 24,401 25 L399 23 C401 21,402 20,403 19 C405 18,407 17,408 17 C409 17,410 17,410 17 C411 18,412 18,412 18 C412 19,413 19,413 20 C414 20,414 21,414 22 C415 23,415 24,415 26 C415 27,416 29,416 30 L416 30 C419 27,420 24,421 23 C423 21,424 20,425 19 C425 18,426 18,427 18 C428 17,429 17,430 17 C431 17,432 17,433 18 L431 25 L429 25 C429 24,428 23,428 23 C427 23,427 23,427 23 C427 23,426 23,426 24 C426 24,425 24,424 25 C424 26,423 27,422 28 C421 29,420 30,419 31 L417 34 C417 37,418 39,418 40 C419 42,419 44,419 45 C420 46,420 47,420 48 C420 48,421 49,421 49 C421 50,421 50,422 50 C422 50,422 50,423 50 C423 50,424 50,424 49 C425 49,426 48,427 46 L430 48 C428 50,426 52,425 53 C424 54,422 54,420 54 C419 54,418 54,417 53 C417 53,416 52,415 52 C415 51,414 49,414 48 C413 44,413 42,413 40 L412 40 C410 44,408 47,406 48 C405 50,404 51,403 52 C403 53,402 53,401 54 C400 54,399 54,398 54 C397 54,396 54,395 54 L397 46 L399 46 C399 47,400 48,400 48 C401 48,401 48,402 48 C402 48,402 47,403 46 C404 46,405 45,406 43 C407 42,409 39,411 36 L411 36 Z" fill="#212121"/><path d="M484 34 L484 55 L478 55 L478 34 L458 34 L458 29 L478 29 L478 8 L484 8 L484 29 L504 29 L504 34 L484 34 Z" fill="#212121"/><path d="M554 26 C560 28,563 32,563 38 C563 41,562 43,561 46 C560 48,558 50,555 52 C553 53,550 54,547 54 C545 54,543 54,541 54 C540 53,538 53,536 52 L533 69 L527 69 L537 21 C538 16,540 13,541 10 C543 7,545 5,548 3 C550 2,553 1,556 1 C560 1,563 2,565 4 C567 5,568 8,568 11 C568 12,568 13,568 15 C567 16,567 18,566 19 C565 20,563 22,561 23 C559 24,557 25,554 26 L554 26 Z M548 25 C551 25,553 24,555 23 C557 22,559 20,560 18 C561 15,562 13,562 10 C562 8,562 7,561 6 C560 5,558 4,556 4 C553 4,550 6,548 9 C546 12,544 16,543 22 L538 45 C538 46,538 46,538 46 C538 47,538 48,538 48 C539 49,539 49,540 49 C540 50,541 50,542 51 C543 51,544 51,546 51 C548 51,550 50,551 49 C553 48,554 46,555 44 C556 42,556 39,556 36 C556 34,556 31,554 30 C553 28,550 27,548 27 L548 25 Z" fill="#212121"/><path d="M615 44 L613 46 L598 32 L598 30 L613 16 L615 18 L606 29 L651 29 L642 18 L644 16 L659 30 L659 32 L644 46 L642 44 L651 34 L606 34 L615 44 Z" fill="#212121"/><path d="M722 20 C720 23,717 28,712 34 C707 41,703 48,699 54 C698 59,697 64,696 68 L691 68 L690 66 C691 62,692 58,695 53 C695 49,695 44,695 39 C695 35,695 32,695 29 C695 27,695 25,694 24 C694 23,693 22,693 22 C693 21,692 21,691 21 C690 21,688 22,687 24 L685 22 C686 21,687 20,687 20 C688 19,689 19,689 18 C690 18,691 18,691 17 C692 17,693 17,694 17 C696 17,698 18,699 20 C700 22,701 25,701 29 C701 34,701 40,700 46 L700 46 C706 36,711 27,715 18 L723 18 L722 20 Z" fill="#212121"/><path d="M740 36 C740 34,740 33,739 31 C739 29,739 27,738 26 C738 24,737 23,737 22 C737 22,737 22,736 21 C736 21,736 21,735 21 C735 21,734 21,734 21 C733 22,733 22,732 23 C732 23,731 24,730 25 L728 23 C730 21,731 20,732 19 C734 18,736 17,737 17 C738 17,739 17,739 17 C740 18,741 18,741 18 C741 19,742 19,742 20 C743 20,743 21,743 22 C744 23,744 24,744 26 C744 27,745 29,745 30 L745 30 C748 27,749 24,750 23 C752 21,753 20,754 19 C754 18,755 18,756 18 C757 17,758 17,759 17 C760 17,761 17,762 18 L760 25 L758 25 C758 24,757 23,757 23 C756 23,756 23,756 23 C756 23,755 23,755 24 C755 24,754 24,753 25 C753 26,752 27,751 28 C750 29,749 30,748 31 L746 34 C746 37,747 39,747 40 C748 42,748 44,748 45 C749 46,749 47,749 48 C749 48,750 49,750 49 C750 50,750 50,751 50 C751 50,751 50,752 50 C752 50,753 50,753 49 C754 49,755 48,756 46 L759 48 C757 50,755 52,754 53 C753 54,751 54,749 54 C748 54,747 54,746 53 C746 53,745 52,744 52 C744 51,743 49,743 48 C742 44,742 42,742 40 L741 40 C739 44,737 47,735 48 C734 50,733 51,732 52 C732 53,731 53,730 54 C729 54,728 54,727 54 C726 54,725 54,724 54 L726 46 L728 46 C728 47,729 48,729 48 C730 48,730 48,731 48 C731 48,731 47,732 46 C733 46,734 45,735 43 C736 42,738 39,740 36 L740 36 Z" fill="#212121"/><path d="M750 0 L758 12 L755 14 L748 5 L748 5 L739 14 L737 12 L745 0 L750 0 Z" fill="#212121"/><path d="M813 34 L813 55 L807 55 L807 34 L787 34 L787 29 L807 29 L807 8 L813 8 L813 29 L833 29 L833 34 L813 34 Z" fill="#212121"/><path d="M883 26 C889 28,892 32,892 38 C892 41,891 43,890 46 C889 48,887 50,884 52 C882 53,879 54,876 54 C874 54,872 54,870 54 C869 53,867 53,865 52 L862 69 L856 69 L866 21 C867 16,869 13,870 10 C872 7,874 5,877 3 C879 2,882 1,885 1 C889 1,892 2,894 4 C896 5,897 8,897 11 C897 12,897 13,897 15 C896 16,896 18,895 19 C894 20,892 22,890 23 C888 24,886 25,883 26 L883 26 Z M877 25 C880 25,882 24,884 23 C886 22,888 20,889 18 C890 15,891 13,891 10 C891 8,891 7,890 6 C889 5,887 4,885 4 C882 4,879 6,877 9 C875 12,873 16,872 22 L867 45 C867 46,867 46,867 46 C867 47,867 48,867 48 C868 49,868 49,869 49 C869 50,870 50,871 51 C872 51,873 51,875 51 C877 51,879 50,880 49 C882 48,883 46,884 44 C885 42,885 39,885 36 C885 34,885 31,883 30 C882 28,879 27,877 27 L877 25 Z" fill="#212121"/><path d="M928 27 L928 22 L974 22 L974 27 L928 27 Z M928 42 L928 37 L974 37 L974 42 L928 42 Z" fill="#212121"/><path d="M1033 28 C1036 29,1037 30,1039 32 C1040 33,1040 35,1040 37 C1040 41,1040 43,1038 46 C1037 48,1034 50,1031 51 C1028 52,1024 53,1018 53 L1002 53 L1002 51 C1003 51,1004 51,1005 51 C1005 50,1005 50,1006 49 C1006 49,1006 48,1007 47 C1007 46,1007 45,1008 42 L1014 14 C1015 12,1015 10,1015 8 C1015 7,1015 6,1014 6 C1014 5,1013 5,1011 5 L1012 3 L1030 3 C1033 3,1036 4,1039 4 C1041 5,1043 6,1044 8 C1045 9,1045 11,1045 13 C1045 17,1044 20,1042 22 C1040 24,1037 26,1033 27 L1033 28 Z M1023 26 C1026 26,1028 26,1030 25 C1032 25,1033 24,1035 23 C1036 22,1037 20,1037 19 C1038 17,1038 15,1038 13 C1038 12,1038 11,1038 10 C1037 10,1037 9,1036 8 C1035 7,1034 7,1033 7 C1032 6,1030 6,1028 6 C1026 6,1024 6,1022 6 L1018 26 L1023 26 Z M1013 50 C1014 50,1016 50,1018 50 C1022 50,1025 50,1027 49 C1028 48,1030 47,1031 44 C1033 42,1033 40,1033 36 C1033 34,1033 32,1031 31 C1029 30,1027 29,1024 29 L1017 29 L1013 50 Z" fill="#212121"/><path d="M1102 3 L1101 5 C1101 5,1100 6,1099 6 C1099 6,1099 6,1098 7 C1098 7,1098 8,1097 9 C1097 10,1097 12,1096 14 L1087 53 L1083 53 L1072 21 C1071 18,1069 14,1068 10 L1068 10 C1068 11,1067 14,1067 17 C1066 21,1065 24,1065 28 L1061 42 C1061 45,1061 46,1061 48 C1061 49,1061 50,1061 50 C1062 51,1063 51,1064 51 L1064 53 L1051 53 L1051 51 C1052 51,1053 51,1054 50 C1054 50,1054 50,1055 49 C1055 48,1055 48,1056 47 C1056 46,1056 44,1057 42 L1063 14 C1063 13,1063 12,1064 11 C1064 10,1064 9,1064 8 C1064 7,1064 6,1063 6 C1062 5,1061 5,1060 5 L1061 3 L1072 3 L1082 32 C1083 36,1084 39,1085 42 L1086 42 C1086 41,1086 38,1087 35 C1088 31,1088 28,1089 26 L1091 14 C1092 12,1092 10,1092 8 C1092 7,1092 6,1091 6 C1091 5,1090 5,1089 5 L1089 3 L1102 3 Z" fill="#212121"/><path d="M1129 55 C1129 56,1128 56,1127 57 C1127 59,1126 60,1125 61 C1124 63,1122 64,1121 66 C1120 67,1119 69,1118 71 C1117 73,1115 74,1114 76 C1113 78,1112 79,1111 80 C1111 82,1110 84,1110 86 C1110 88,1109 89,1109 91 L1104 91 C1104 91,1104 91,1104 90 C1104 90,1104 90,1103 90 C1104 88,1104 87,1105 85 C1106 84,1106 82,1107 80 C1107 79,1107 77,1107 75 C1107 73,1107 71,1107 69 C1107 68,1107 66,1107 65 C1107 63,1107 62,1107 61 C1107 60,1107 60,1106 59 C1106 59,1106 58,1106 58 C1106 58,1105 57,1105 57 C1105 57,1105 57,1104 57 C1104 57,1103 57,1102 58 C1102 58,1101 59,1100 59 C1100 59,1100 59,1100 59 C1099 58,1099 58,1099 58 C1100 57,1100 56,1101 55 C1102 55,1102 54,1103 54 C1104 54,1104 53,1105 53 C1105 53,1106 53,1106 53 C1107 53,1108 53,1109 54 C1110 54,1110 55,1111 55 C1111 56,1112 57,1112 59 C1112 60,1112 62,1112 64 C1112 66,1112 67,1112 69 C1112 71,1112 72,1112 74 L1112 74 C1113 73,1114 71,1115 69 C1116 67,1117 65,1118 63 C1119 62,1120 60,1121 58 C1122 56,1123 55,1123 53 L1130 53 L1129 55 Z" fill="#212121"/><path d="M1155 59 C1158 60,1159 62,1160 63 C1161 64,1162 66,1162 68 C1162 70,1162 71,1161 73 C1160 74,1159 76,1158 77 C1157 78,1156 79,1154 79 C1153 80,1151 80,1149 80 C1148 80,1146 80,1145 80 C1144 80,1142 79,1141 78 L1138 92 L1133 92 L1141 56 C1142 51,1144 47,1147 45 C1149 42,1152 41,1156 41 C1158 41,1159 41,1160 42 C1161 42,1162 42,1163 43 C1164 44,1165 44,1165 45 C1166 46,1166 47,1166 48 C1166 50,1166 51,1165 52 C1165 53,1164 54,1163 55 C1163 56,1162 56,1160 57 C1159 58,1157 59,1155 59 L1155 59 Z M1150 58 C1151 58,1153 58,1154 57 C1156 57,1157 56,1158 55 C1159 54,1159 53,1160 52 C1160 51,1161 50,1161 49 C1161 47,1160 46,1159 45 C1159 44,1158 44,1156 44 C1154 44,1152 45,1150 47 C1148 49,1147 52,1146 56 L1142 73 C1142 73,1142 73,1142 73 C1142 74,1142 74,1142 74 C1142 75,1143 76,1144 76 C1145 77,1146 77,1148 77 C1150 77,1151 77,1152 76 C1153 76,1154 75,1154 74 C1155 74,1156 72,1156 71 C1156 70,1156 68,1156 67 C1156 65,1156 63,1155 62 C1153 61,1152 60,1149 60 L1150 58 Z" fill="#212121"/><path d="M1183 35 C1183 43,1184 51,1187 56 C1190 62,1194 65,1200 67 L1199 70 C1192 68,1186 64,1183 58 C1179 52,1177 44,1177 35 C1177 26,1179 19,1183 12 C1186 6,1192 2,1199 0 L1200 3 C1194 5,1190 9,1187 14 C1184 20,1183 26,1183 35 L1183 35 Z" fill="#212121"/><path d="M1218 36 C1218 34,1218 33,1217 31 C1217 29,1217 27,1216 26 C1216 24,1215 23,1215 22 C1215 22,1215 22,1214 21 C1214 21,1214 21,1213 21 C1213 21,1212 21,1212 21 C1211 22,1211 22,1210 23 C1210 23,1209 24,1208 25 L1206 23 C1208 21,1209 20,1210 19 C1212 18,1214 17,1215 17 C1216 17,1217 17,1217 17 C1218 18,1219 18,1219 18 C1219 19,1220 19,1220 20 C1221 20,1221 21,1221 22 C1222 23,1222 24,1222 26 C1222 27,1223 29,1223 30 L1223 30 C1226 27,1227 24,1228 23 C1230 21,1231 20,1232 19 C1232 18,1233 18,1234 18 C1235 17,1236 17,1237 17 C1238 17,1239 17,1240 18 L1238 25 L1236 25 C1236 24,1235 23,1235 23 C1234 23,1234 23,1234 23 C1234 23,1233 23,1233 24 C1233 24,1232 24,1231 25 C1231 26,1230 27,1229 28 C1228 29,1227 30,1226 31 L1224 34 C1224 37,1225 39,1225 40 C1226 42,1226 44,1226 45 C1227 46,1227 47,1227 48 C1227 48,1228 49,1228 49 C1228 50,1228 50,1229 50 C1229 50,1229 50,1230 50 C1230 50,1231 50,1231 49 C1232 49,1233 48,1234 46 L1237 48 C1235 50,1233 52,1232 53 C1231 54,1229 54,1227 54 C1226 54,1225 54,1224 53 C1224 53,1223 52,1222 52 C1222 51,1221 49,1221 48 C1220 44,1220 42,1220 40 L1219 40 C1217 44,1215 47,1213 48 C1212 50,1211 51,1210 52 C1210 53,1209 53,1208 54 C1207 54,1206 54,1205 54 C1204 54,1203 54,1202 54 L1204 46 L1206 46 C1206 47,1207 48,1207 48 C1208 48,1208 48,1209 48 C1209 48,1209 47,1210 46 C1211 46,1212 45,1213 43 C1214 42,1216 39,1218 36 L1218 36 Z" fill="#212121"/><path d="M1261 35 C1261 26,1260 20,1257 14 C1254 9,1250 5,1244 3 L1245 0 C1252 2,1258 6,1261 12 C1265 19,1267 26,1267 35 C1267 44,1265 52,1261 58 C1258 64,1252 68,1245 70 L1244 67 C1250 65,1254 62,1257 56 C1260 51,1261 43,1261 35 L1261 35 Z" fill="#212121"/></svg></span></p>
<p class="p_Text"><span class="f_Text">Now let's get back to our method of initializing an object instance. This method is virtual and inherits from the parent class. According to the rules of inheritance, this method stores the return type and the list of method parameters. The parameters of our method contain only one pointer to the object describing the neural layer being created.</span></p>
<p class="p_Text"><span class="f_Text">In the body of the method, we immediately check the received pointer to the description object of the created neural layer, while also simultaneously verifying the correspondence between the size of the input data window and the number of neurons in the created layer. We discussed this point a little earlier.</span></p>
<p class="p_Text"><span class="f_Text">After successfully checking the obtained object, we change the size of the initial data window by one in accordance with the similarity shown above. Now we call the parent class initialization method, remembering to check the results of the operations.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CNeuronBatchNorm</span><span class="f_CodeExample">::</span><span class="f_CodeExample" style="color: #333333;">Init</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CLayerDescription</span><span class="f_CodeExample">&nbsp;*</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">&nbsp;||</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">window</span><span class="f_CodeExample">&nbsp;!=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">false</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CLayerDescription</span><span class="f_CodeExample">&nbsp;*</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">new</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">CLayerDescription</span><span class="f_CodeExample">();</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">&nbsp;||&nbsp;!</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Copy</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">false</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">window</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_Normal" style="font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: transparent;">1</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #333333;">CNeuronBase</span><span class="f_CodeExample">::</span><span class="f_CodeExample" style="color: #333333;">Init</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">false</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">delete</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">;</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">It should be noted here that during the initialization of the parent class, the weight matrix is initialized with random values. However, for batch normalization, the recommended initial values are 1 for the scaling coefficient </span><span class="f_Text" style="font-style: italic;">&#947;</span><span class="f_Text"> and 0 for the offset </span><span class="f_Text" style="font-style: italic;">&#946;</span><span class="f_Text">. As an experiment, we can leave it as it is, or we can fill the weight matrix buffer now.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #808080;">//---&nbsp;initialize&nbsp;the&nbsp;training&nbsp;parameter&nbsp;buffer</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #333333;">m_cWeights</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">m_mMatrix</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Fill</span><span class="f_CodeExample">(</span><span class="f_Normal" style="font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: transparent;">0</span><span class="f_CodeExample">))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">false</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #333333;">m_cWeights</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">m_mMatrix</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Col</span><span class="f_CodeExample">(</span><span class="f_Definition">VECTOR</span><span class="f_CodeExample">::</span><span class="f_CodeExample" style="color: #333333;">Ones</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">),&nbsp;</span><span class="f_Normal" style="font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: transparent;">0</span><span class="f_CodeExample">))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">false</span><span class="f_CodeExample">;</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">After successfully initializing the objects of the parent class, we proceed to create objects and specify initial values for the variables and constants of the new class.</span></p>
<p class="p_li"><span class="f_Text">First, we initialize the normalization parameter buffer. In this buffer, we need three elements for each element in the sequence. There we will save:</span></p>
<ol style="list-style-type:decimal">
<li value="0" class="p_li"><span class="f_li" style="font-style: italic;">&#956;</span><span class="f_li"> – average value from previous iterations of the forward pass.</span></li>
<li value="1" class="p_li"><span class="f_li" style="font-style: italic;">&#963;</span><span class="f_li"> </span><span class="f_li" style="font-size: 7pt; font-style: italic; vertical-align: super;">2</span><span class="f_li"> – dataset variance over previous iterations of the forward pass.</span></li>
<li value="2" class="p_li"><span style="display:inline-block;width:9px;height:11px;padding:0 0;overflow:visible"><svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%;overflow:visible" viewBox="0 0 36 44"><path d="M15 31 C15 29,14 28,14 26 C14 25,13 23,13 22 C13 21,12 20,12 19 C12 19,12 19,11 18 C11 18,11 18,10 18 C10 18,10 18,9 18 C9 19,8 19,8 20 C8 20,7 21,6 22 L4 21 C6 19,7 17,8 16 C9 15,11 14,12 14 C13 14,14 14,14 14 C15 15,15 15,15 15 C16 15,16 16,16 16 C17 17,17 17,17 18 C17 19,18 20,18 21 C18 23,18 24,19 25 L19 25 C21 22,22 20,23 19 C25 18,25 17,26 16 C27 15,28 15,28 14 C29 14,30 14,31 14 C32 14,33 14,33 14 L32 20 L30 20 C30 19,29 19,29 19 C28 19,28 19,28 19 C28 19,28 19,27 20 C27 20,27 20,26 21 C25 21,25 22,24 23 C23 24,22 25,22 26 L20 29 C20 31,20 32,21 34 C21 35,21 37,22 38 C22 39,22 39,22 40 C22 41,23 41,23 41 C23 42,23 42,24 42 C24 42,24 42,24 42 C25 42,26 42,26 41 C27 41,27 40,28 38 L30 39 C29 42,28 44,26 45 C25 46,24 46,22 46 C21 46,21 46,20 46 C19 45,19 45,18 44 C18 43,17 42,17 41 C16 38,16 36,16 34 L16 34 C13 37,12 40,11 41 C10 43,9 44,8 44 C7 45,7 45,6 46 C5 46,4 46,3 46 C2 46,2 46,1 46 L2 40 L4 40 C5 41,5 41,5 41 C6 41,6 41,6 41 C7 41,7 40,8 40 C8 39,9 38,10 37 C11 36,13 34,15 31 L15 31 Z" fill="#212121"/><path d="M23 0 L30 10 L28 12 L21 4 L21 4 L14 12 L12 11 L19 0 L23 0 Z" fill="#212121"/></svg></span><span class="f_li"> – normalized value before scaling and shifting.</span></li>
</ol>
<p class="p_Text"><span class="f_Text">I deliberately numbered the values starting from 0. This is exactly the indexing that values in our data buffer will get. At the initial stage, we initialize the entire buffer with zero values and check the results of the operations.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #808080;">//---&nbsp;initialize&nbsp;the&nbsp;normalization&nbsp;parameter&nbsp;buffer</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #333333;">m_cBatchOptions</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">BufferInit</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">,&nbsp;</span><span class="f_Normal" style="font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: transparent;">3</span><span class="f_CodeExample">,&nbsp;</span><span class="f_Normal" style="font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: transparent;">0</span><span class="f_CodeExample">))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">false</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #333333;">m_cBatchOptions</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">Col</span><span class="f_CodeExample">(</span><span class="f_Definition">VECTOR</span><span class="f_CodeExample">::</span><span class="f_CodeExample" style="color: #333333;">Ones</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">),&nbsp;</span><span class="f_Normal" style="font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: transparent;">1</span><span class="f_CodeExample">))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">false</span><span class="f_CodeExample">;</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">At the end of the initialization method of our class, we save the batch normalization size into a specially created variable. We then exit the method with a positive result.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m_iBatchSize</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">description</span><span class="f_CodeExample">.</span><span class="f_CodeExample" style="color: #333333;">batch</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">true</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">At this point, we conclude our work with the auxiliary initialization methods and move on to building the algorithms for the class. As always, we will begin this work by constructing a method for the feed-forward pass.</span></p>

</div>

</body>
</html>
