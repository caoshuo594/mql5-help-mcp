<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>7.6.3 OOP (MQL5) and SQL integration: ORM concept</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part7.htm"> Part 7. Advanced language tools </a> / <a class="h_m" href="7_6_sqlite.htm"> 7.6 SQLite database </a>/ 7.6.3 OOP (MQL5) and SQL integration: ORM concept
          </td>
          <td width="70" align="right">
          <a href="7_6_2_sqlite_scheme_types.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="7_6_4_sqlite_db_create_open_close.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">7.6.3 OOP (MQL5) and SQL integration: ORM concept</span></p>
<p class="p_Text"><span class="f_Text">The use of a database in an MQL program implies that the algorithm is divided into 2 parts: the control part is written in MQL5, and the execution part is written in SQL. As a result, the source code may start to look like a patchwork and require attention to maintain consistency. To avoid this, object-oriented languages have developed the concept of Object-Relational Mapping (ORM), i.e., mapping of objects to relational table records and vice versa.</span></p>
<p class="p_Text"><span class="f_Text">The essence of the approach is to encapsulate all actions in the SQL language in classes/structures of a special layer. As a result, the application part of the program can be written in a pure OOP language (for example, MQL5), without being distracted by the nuances of SQL.</span></p>
<p class="p_Text"><span class="f_Text">In the presence of a full-fledged ORM implementation (in the form of a &quot;black box&quot; with a set of all commands), an application developer generally has the opportunity not to learn SQL.</span></p>
<p class="p_Text"><span class="f_Text">In addition, ORM allows you to &quot;imperceptibly&quot; change the &quot;engine&quot; of the DBMS if necessary. This is not particularly relevant for MQL5, because only the SQLite database is built into it, but some developers prefer to use full-fledged DBMS and connect them to MetaTrader 5 using import of <a href="7_7_4_libraries_dll.htm" class="topiclink">DLLs</a>.</span></p>
<p class="p_Text"><span class="f_Text">The use of objects with constructors and destructors is very useful when we need to automatically acquire and release resources. We have covered this concept (RAII, Resource Acquisition Is Initialization) in the section <a href="4_5_4_files_handles.htm" class="topiclink">File descriptor management</a>, however, as we will see later, work with the database is also based on the allocation and release of different types of descriptors.</span></p>
<p class="p_Text"><span class="f_Text">The following picture schematically depicts the interaction of different software layers when integrating OOP and SQL in the form of an ORM.</span></p>
<p class="p_ImageCaption"><img class="help" alt="ORM Object-Relational Mapping" title="ORM Object-Relational Mapping" width="600" height="400" style="margin:0 auto 0 auto;width:600px;height:400px;border:none" src="orm.png"/></p>
<p class="p_ImageCaption"><span class="f_ImageCaption">ORM, Object-Relational Mapping</span></p>
<p class="p_Text"><span class="f_Text">As a bonus, an object &quot;wrapper&quot; (not just a database-specific ORM) will automate data preparation and transformation, as well as check for correctness in order to prevent some errors. &nbsp;</span></p>
<p class="p_Text"><span class="f_Text">In the following sections, as we walk through the built-in functions for working with the base, we will implement the examples, gradually building our own simple ORM layer. Due to some specifics of MQL5, our classes will not be able to provide universalism that covers 100% of tasks but will be useful for many projects.</span></p>

</div>

</body>
</html>
