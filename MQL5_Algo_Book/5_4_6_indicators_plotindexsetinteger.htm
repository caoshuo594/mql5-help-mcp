<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>5.4.6 Plot settings: PlotIndexSetInteger</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part5.htm"> Part 5. Creating application programs </a> / <a class="h_m" href="5_4_indicators_make.htm"> 5.4 Creating custom indicators </a>/ 5.4.6 Plot settings: PlotIndexSetInteger
          </td>
          <td width="70" align="right">
          <a href="5_4_5_indicators_setindexbuffer.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="5_4_7_indicators_buffer_to_plot_mapping.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">5.4.6 Plot settings: PlotIndexSetInteger</span></p>
<p class="p_Text"><span class="f_Text">The MQL5 API provides the following functions for configuring plots: </span><span class="f_Text" style="font-style: italic;">PlotIndexSetInteger</span><span class="f_Text">, </span><span class="f_Text" style="font-style: italic;">PlotIndexSetDouble</span><span class="f_Text">, and </span><span class="f_Text" style="font-style: italic;">PlotIndexSetString</span><span class="f_Text">. Integer properties can also be read via </span><span class="f_Text" style="font-style: italic;">PlotIndexGetInteger</span><span class="f_Text">. We are primarily interested in integer properties.</span></p>
<p class="p_Text"><span class="f_Text">The </span><span class="f_Text" style="font-style: italic;">PlotIndexSetInteger</span><span class="f_Text"> function has two forms. We will see their differences a little later.</span></p>
<p class="p_H4"><span class="f_H4">bool PlotIndexSetInteger(int index, ENUM_PLOT_PROPERTY_INTEGER property, int value)</span></p>
<p class="p_H4" style="margin: 0 23px 1px 17px;"><span class="f_H4">bool PlotIndexSetInteger(int index, ENUM_PLOT_PROPERTY_INTEGER property, int modifier,</span><br>
<span class="f_H4"> &nbsp; int value)</span></p>
<p class="p_Text"><span class="f_Text">The function sets the value of the property of a graphical plot at the specified </span><span class="f_Text" style="font-style: italic;">index</span><span class="f_Text">. The value of </span><span class="f_Text" style="font-style: italic;">index</span><span class="f_Text"> must be between 0 and P - 1, where P is the number of plots specified by the directive </span><span class="f_Text" style="font-style: italic;"><a href="5_4_4_indicators_buffers_plots.htm" class="topiclink">#property indicator_plots</a></span><span class="f_Text">. The property itself is identified by the </span><span class="f_Text" style="font-style: italic;">property</span><span class="f_Text"> parameter: allowable values should be taken from the ENUM_PLOT_PROPERTY_INTEGER enumeration (see below). The property value is passed in the </span><span class="f_Text" style="font-style: italic;">value</span><span class="f_Text"> parameter.</span></p>
<p class="p_Text"><span class="f_Text">The second form of the function is used for properties that apply to multiple components (belonging to the same property, though). In particular, for some types of diagrams, it is possible to assign a set of colors rather than one color. In this case, you can use the </span><span class="f_Text" style="font-style: italic;">modifier</span><span class="f_Text"> parameter to change any color in this set.</span></p>
<p class="p_Text"><span class="f_Text">On success, the function returns </span><span class="f_Text" style="font-style: italic;">true</span><span class="f_Text">; otherwise, it returns </span><span class="f_Text" style="font-style: italic;">false</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">The following table provides the available ENUM_PLOT_PROPERTY_INTEGER properties.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:30%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
<th class="table" style="width:25%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Property&nbsp;type</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_ARROW</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Arrow code from Wingdings font for DRAW_ARROW charts</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">uchar</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_ARROW_SHIFT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Vertical arrow offset for DRAW_ARROW charts</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_DRAW_BEGIN</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Index of the first bar (from left to right) where the data starts</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_DRAW_TYPE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Plot (chart) type </span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">ENUM_DRAW_TYPE</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_SHOW_DATA</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Flag for displaying plot values in the </span><span class="f_fortable" style="font-style: italic;">Data window</span><span class="f_fortable"> (</span><span class="f_fortable" style="font-style: italic;">true</span><span class="f_fortable"> – visible, </span><span class="f_fortable" style="font-style: italic;">false</span><span class="f_fortable"> – not visible)</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">bool</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_SHIFT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Shift of the indicator graphics along the time axis in bars (positive shifts to the right, negative to the left)</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_LINE_STYLE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Line drawing style</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">ENUM_LINE_STYLE</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_LINE_WIDTH</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Line thickness in pixels (1 - 5)</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_COLOR_INDEXES</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Number of colors (1 - 64)</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">PLOT_LINE_COLOR</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Rendering color</span></p>
</td>
<td class="table" style="width:25%;"><p class="p_fortable"><span class="f_fortable">color (modifier – color number)</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Gradually we will learn all the properties, but for now, we will focus on the three main ones: PLOT_DRAW_TYPE, PLOT_LINE_STYLE, and PLOT_LINE_COLOR.</span></p>
<p class="p_Text"><span class="f_Text">Indicators in MetaTrader 5 support several predefined plotting types. They determine the visual representation and the required structure of buffers with the initial data for display.</span></p>
<p class="p_Text"><span class="f_Text">There are 10 such basic plots in total, and at the MQL5 level, they are described by identifiers in the ENUM_DRAW_TYPE enumeration. It is the PLOT_DRAW_TYPE property that should be assigned one of the ENUM_DRAW_TYPE values.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:30%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Visualization&nbsp;type,&nbsp;</span><br>
<span class="f_BoldTitlesInTables" style="font-size: 8pt; font-style: italic;">examples</span></p>
</th>
<th class="table" style="width:50%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
<th class="table" style="width:10%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Number&nbsp;of&nbsp;</span><br>
<span class="f_BoldTitlesInTables">buffers</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_NONE</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndDeltaVolume.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Nothing is displayed on the chart, but the values of the corresponding buffer are available in the Data Window</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">1</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_LINE</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndLabelHighLowClose.mq5</span><span class="f_fortable" style="font-size: 8pt;">, </span><span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndWPR.mq5, IndUnityPercent.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Curved line by buffer values (&quot;empty&quot; elements form a gap in the line)</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">1</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_SECTION</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Straight segments forming a polyline between &quot;non-empty&quot; buffer elements (if no gaps, similar to DRAW_LINE)</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">1</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_ARROW</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndReplica3.mq5</span><span class="f_fortable" style="font-size: 8pt;">, </span><span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndFractals.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Characters (labels)</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">1</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_HISTOGRAM</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndDeltaVolume.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Histogram from zero line to buffer values</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">1</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_HISTOGRAM2</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndLabelHighLowClose.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Histogram between the values of paired elements of two indicator buffers</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">2</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_ZIGZAG</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndFractalsZigZag.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Straight segments forming a polyline between successively occurring &quot;non-empty&quot; elements of two buffers (similar to DRAW_SECTION, but unlike it allows vertical segments on one bar)</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">2</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_FILLING</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Color filling of the channel between two lines by paired values in two buffers</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">2</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_BARS</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndSubChartSimple.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Display as bars: four prices per bar are displayed in four adjacent buffers, in the OHLC order</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">4</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:30%;"><p class="p_fortable"><span class="f_fortable">DRAW_CANDLES</span><br>
<span class="f_fortable" style="font-size: 8pt; font-style: italic;">IndSubChartSimple.mq5</span></p>
</td>
<td class="table" style="width:50%;"><p class="p_fortable"><span class="f_fortable">Candlestick display: four prices per bar are shown in four adjacent buffers, in the OHLC order</span></p>
</td>
<td class="table" style="width:10%;"><p class="p_fortable"><span class="f_fortable">4</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">This table does not list all ENUM_DRAW_TYPE elements. There are analogs of the same plots with support for coloring individual elements (bars). We will present them in a separate section <a href="5_4_13_indicators_color.htm" class="topiclink">Element-by-element coloring of diagrams</a>. The MQL5 documentation provides <a href="https://www.mql5.com/en/docs/customind/indicators_examples" target="_blank" class="weblink" title="MQL5 Documentation">examples for all types</a>, and within the scope of this book, there are some exceptions: the presence of demonstration indicators is indicated next to the type names.</span></p>
<p class="p_Text"><span class="f_Text">In all cases, including DRAW_NONE, data from the buffer is available in other programs through the </span><span class="f_Text" style="font-style: italic;"><a href="5_5_4_indicators_copybuffer.htm" class="topiclink">CopyBuffer</a></span><span class="f_Text"> function.</span></p>
<p class="p_Text"><span class="f_Text">An additional feature of the DRAW_NONE type is that the values of such a buffer do not participate in automatic chart scaling, which is enabled by default for indicators displayed in <a href="5_4_3_indicators_window_chart_separate.htm" class="topiclink">subwindows</a>.</span></p>
<p class="p_Text"><span class="f_Text">The style of lines is determined by the PLOT_LINE_STYLE property, which also has an enumeration with valid ENUM_LINE_STYLE values.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:33%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortable"><span class="f_fortable">STYLE_SOLID</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Solid line</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortable"><span class="f_fortable">STYLE_DASH</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Dashed line</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortable"><span class="f_fortable">STYLE_DOT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Dotted line</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortable"><span class="f_fortable">STYLE_DASHDOT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Dot-dash line</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortable"><span class="f_fortable">STYLE_DASHDOTDOT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Dash-two dots</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Finally, the color of the line is set by the PLOT_LINE_COLOR property. In the simplest case, this property contains a single color for the entire chart. For some chart types, in particular DRAW_CANDLES, you can specify multiple colors using a modifier parameter. We will discuss this later (see example </span><span class="f_Text" style="font-style: italic;">IndSubChartSimple.mq5</span><span class="f_Text"> in section <a href="5_4_16_indicators_multisymbol.htm" class="topiclink">Multicurrency and multitimeframe indicators</a>).</span></p>
<p class="p_Text"><span class="f_Text">The above three properties are enough to demonstrate the indicator </span><span class="f_Text" style="font-style: italic;">IndReplica2.mq5</span><span class="f_Text">. Let's add two input parameters </span><span class="f_Text" style="font-style: italic;">DrawType</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">LineStyle</span><span class="f_Text"> of ENUM_DRAW_TYPE and ENUM_LINE_STYLE types respectively, and then call the </span><span class="f_Text" style="font-style: italic;">PlotIndexSetInteger</span><span class="f_Text"> function several times in </span><span class="f_Text" style="font-style: italic;">OnInit</span><span class="f_Text"> to set the rendering properties of the indicator.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">indicator_chart_window</span>
<br><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">indicator_buffers</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">1</span>
<br><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">indicator_plots</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">1</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_DRAW_TYPE</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">DrawType</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">DRAW_LINE</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_LINE_STYLE</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">LineStyle</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">STYLE_SOLID</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">buffer</span><span class="f_CodeExample">[];</span>
<br><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnInit</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;register&nbsp;an&nbsp;array&nbsp;as&nbsp;an&nbsp;indicator&nbsp;buffer</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SetIndexBuffer</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">buffer</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;set&nbsp;the&nbsp;properties&nbsp;of&nbsp;the&nbsp;chart&nbsp;numbered&nbsp;0</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PlotIndexSetInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PLOT_DRAW_TYPE</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">DrawType</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PlotIndexSetInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PLOT_LINE_STYLE</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">LineStyle</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PlotIndexSetInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PLOT_LINE_COLOR</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">clrBlue</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">INIT_SUCCEEDED</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">For the PLOT_LINE_COLOR property, we did not create an input variable, since this and some other properties are directly available from the properties dialog of any indicator, in the </span><span class="f_Text" style="font-style: italic;">Colors</span><span class="f_Text"> tab. By default, that is, immediately after the indicator is launched, the line color will be blue. But the color, as well as the line thickness and style, can be changed in the dialog (on the specified tab). Our </span><span class="f_Text" style="font-style: italic;">LineStyle</span><span class="f_Text"> parameter partly duplicates the corresponding </span><span class="f_Text" style="font-style: italic;">Style</span><span class="f_Text"> cell in the </span><span class="f_Text" style="font-style: italic;">Colors</span><span class="f_Text"> table. However, it provides additional advantages. The standard controls of the dialog do not allow you to select a style when the line width is greater than 1. When using the input variable </span><span class="f_Text" style="font-style: italic;">LineStyle</span><span class="f_Text">, we can get, for example, a dash-dotted line with a given width of 3 pixels.</span></p>
<p class="p_Text"><span class="f_Text">Filling the buffer with data in </span><span class="f_Text" style="font-style: italic;">OnCalculate</span><span class="f_Text"> remains unchanged compared to </span><span class="f_Text" style="font-style: italic;">IndReplica1.mq5</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">After compiling and launching the indicator on the chart, we get the expected picture: a blue line at the closing prices on the chart, and the corresponding closing prices of the bars in the </span><span class="f_Text" style="font-style: italic;">Data window</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">By changing the </span><span class="f_Text" style="font-style: italic;">DrawType</span><span class="f_Text"> input parameter, we can change how the data from the buffer is displayed. In this case, you should only select types that require a single buffer. Any other graphics type (DRAW_HISTOGRAM2, DRAW_ZIGZAG, DRAW_FILLING, DRAW_BARS, DRAW_CANDLES) simply cannot work on a single buffer and will not show anything. It also does not make sense to choose the types of constructions with coloring (beginning with the word &quot;Color&quot;), since they require an additional buffer with color numbers on each bar (as already mentioned, we will get acquainted with this possibility in the section <a href="5_4_13_indicators_color.htm" class="topiclink">Element-by-element coloring of diagrams</a>).</span></p>
<p class="p_Text"><span class="f_Text">The display options DRAW_LINE, DRAW_SECTION, DRAW_HISTOGRAM, and DRAW_ARROW are shown below.</span></p>
<p class="p_Text" style="text-align: center;"><img class="help" alt="Chart types on one buffer" title="Chart types on one buffer" width="600" height="400" style="margin:0 auto 0 auto;width:600px;height:400px;border:none" src="eurusdh1-mix4.png"/></p>
<p class="p_ImageCaption"><span class="f_ImageCaption">One-buffer chart types</span></p>
<p class="p_Text"><span class="f_Text">If it were not for specially chosen different styles, STYLE_SOLID for DRAW_LINE and STYLE_DOT for DRAW_SECTION, these drawing types would be the same, because all elements in our buffer have &quot;non-empty&quot; values. By default, the &quot;empty&quot; value means the special constant EMPTY_VALUE, which we did not use. Sections (segments) in DRAW_SECTION are drawn bypassing &quot;empty&quot; elements, and this becomes noticeable only if there are any. We will talk about the installation of &quot;empty&quot; elements in the section <a href="5_4_10_indicators_empty_value.htm" class="topiclink">Data gap visualization</a>.</span></p>
<p class="p_Text"><span class="f_Text">The histogram from the zero line DRAW_HISTOGRAM is usually used in indicators with its own window, but here it is shown for demonstration purposes. We will create an indicator in a subwindow with this type of rendering in the section <a href="5_4_15_indicators_wait_none.htm" class="topiclink">Waiting for data and managing visibility</a> (see example </span><span class="f_Text" style="font-style: italic;">IndDeltaVolume.mq5</span><span class="f_Text">).</span></p>
<p class="p_Text"><span class="f_Text">For the DRAW_ARROW type, the system defaults to the filled circle character (code 159), but you can change it to something else by calling </span><span class="f_Text" style="font-style: italic;">PlotIndexSetInteger(index, PLOT_ARROW, code)</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">Codes and appearance of <a href="https://www.mql5.com/en/docs/constants/objectconstants/wingdings" target="_blank" class="weblink" title="MQL5 Help">Wingdings</a> font symbols can be found in the MQL5 Help.</span></p>
<p class="p_Text"><span class="f_Text">In another modification of the </span><span class="f_Text" style="font-style: italic;">IndReplica3.mq5</span><span class="f_Text"> indicator, we add input parameters to select the &quot;arrow&quot; symbol (</span><span class="f_Text" style="font-style: italic;">ArrowCode</span><span class="f_Text">), as well as to shift these labels on the chart vertically (</span><span class="f_Text" style="font-style: italic;">Arrow padding</span><span class="f_Text">) and horizontally (</span><span class="f_Text" style="font-style: italic;">TimeShift</span><span class="f_Text">).</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">uchar</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">ArrowCode</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">159</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">ArrowPadding</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">TimeShift</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">;</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The vertical shift along the price scale is specified in pixels (positive values mean shift down, negative values mean shift up). The horizontal shift along the time scale is set in bars (positive values are a shift to the right, to the future, and negative values are to the left, to the past). New input variables are passed to </span><span class="f_Text" style="font-style: italic;">PlotIndexSetInteger</span><span class="f_Text"> calls in </span><span class="f_Text" style="font-style: italic;">OnInit</span><span class="f_Text">.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnInit</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;...</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PlotIndexSetInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PLOT_DRAW_TYPE</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">DRAW_ARROW</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PlotIndexSetInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PLOT_ARROW</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">ArrowCode</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PlotIndexSetInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PLOT_ARROW_SHIFT</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">ArrowPadding</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PlotIndexSetInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PLOT_SHIFT</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">TimeShift</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;...</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The following screenshot shows an example of </span><span class="f_Text" style="font-style: italic;">IndReplica3.mq5</span><span class="f_Text"> on a chart with settings 117 (diamond), -50 (50 points up), 3 (3 bars right/forward).</span></p>
<p class="p_Text" style="text-align: center;"><img class="help" alt="Scatter plot with vertical and horizontal label shifts" title="Scatter plot with vertical and horizontal label shifts" width="600" height="400" style="margin:0 auto 0 auto;width:600px;height:400px;border:none" src="eurusdd1-arrows-shift.png"/></p>
<p class="p_ImageCaption"><span class="f_ImageCaption">Scatter plot with vertical and horizontal label shifts</span></p>
<p class="p_Text"><span class="f_Text">Our default indicator is based on the </span><span class="f_Text" style="font-style: italic;">Close</span><span class="f_Text"> price type (although the user can change this in the properties dialog, in the drop-down </span><span class="f_Text" style="font-style: italic;">Apply to</span><span class="f_Text"> list). If necessary, you can assign a different initial setting using the directive:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">indicator_applied_price</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">PRICE_TYPE</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Here, instead of PRICE_TYPE, you should specify any constant from the <a href="4_1_6_conversions_enums.htm" class="topiclink">ENUM_APPLIED_PRICE</a> enumeration. It also includes PRICE_CLOSE, which corresponds to the default. For example, the following directive added to the source code will cause the indicator to be based on the typical price by default.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">#property</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">indicator_applied_price</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRICE_TYPICAL</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Once again, we note that this setting specifies only the default. The built-in </span><span class="f_Text" style="font-style: italic;"><a href="4_9_18_env_variables.htm" class="topiclink">_AppliedTo</a></span><span class="f_Text"> variable allows you to find out the actual price type on which the indicator is built. If the indicator is built according to the descriptor of another indicator, then it will be possible to find out only this fact, but not the name of a specific indicator that provides the data.</span></p>
<p class="p_Text"><span class="f_Text">To find out the current state of properties from the ENUM_PLOT_PROPERTY_INTEGER enumeration in the source code, use the </span><span class="f_Text" style="font-style: italic;">PlotIndexGetInteger</span><span class="f_Text"> function.</span></p>
<p class="p_H4"><span class="f_H4">int PlotIndexGetInteger(int index, ENUM_PLOT_PROPERTY_INTEGER property)</span></p>
<p class="p_H4" style="margin: 0 23px 1px 17px;"><span class="f_H4">int PlotIndexGetInteger(int index, ENUM_PLOT_PROPERTY_INTEGER property, int modifier)</span></p>
<p class="p_Text"><span class="f_Text">The function is often used along with </span><span class="f_Text" style="font-style: italic;">PlotIndexSetInteger</span><span class="f_Text"> for copying drawing properties from one line to another, or for reading properties from the codes of universal mqh files included in the source code of various indicators.</span></p>
<p class="p_Text"><span class="f_Text">Unfortunately, similar </span><span class="f_Text" style="font-style: italic;">PlotIndexGetDouble</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">PlotIndexGetString</span><span class="f_Text"> functions are not provided.</span></p>

</div>

</body>
</html>
