<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>2.8.7 Function declaration</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part2.htm"> Part 2. Programming fundamentals </a> / <a class="h_m" href="2_8_functions.htm"> 2.8 Functions </a>/ 2.8.7 Function declaration
          </td>
          <td width="70" align="right">
          <a href="2_8_6_functions_return.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="2_8_8_functions_recursive.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">2.8.7 Function declaration</span></p>
<p class="p_Text"><span class="f_Text">Function declaration describes a prototype without specifying a function body. Instead of a block with a body, a semicolon is put.</span></p>
<p class="p_Text"><span class="f_Text">The declaration is necessary for the compiler so that it can check in subsequent code fragments how correctly the function is called by name, passing arguments to it and getting the result.</span></p>
<p class="p_Text"><span class="f_Text">The entire function definition (including the body) is also a declaration, so there is no need to declare a function in addition to the definition.</span></p>
<p class="p_Text"><span class="f_Text">For example, the declaration of the </span><span class="f_Text" style="font-style: italic;">Fibo</span><span class="f_Text"> function above could look like this.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Fibo</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">n</span><span class="f_CodeExample">);</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Separate function declarations and definitions are used when building a program from several files with source text: then the declaration is made in the header file with the extension </span><span class="f_Text" style="font-style: italic;">mqh</span><span class="f_Text"> (see the section about the <a href="2_9_1_preprocessor_include.htm" class="topiclink">#include preprocessor directive </a>), which is included in files where the function is used, and the function definition is implemented in only one of the files. Matching of the function signature in the declaration and definition provides error protection. In other words, a single declaration guarantees the consistency of changes made to the entire source code</span></p>
<p class="p_Text"><span class="f_Text">If we declare a function and call it somewhere in the code, but do not provide a fully appropriate definition for it, the compiler will throw an error: &quot;function 'Name' must have a body&quot;. This often happens when there are typos or inaccuracies either in the declaration or in the definition, as well as in the process of changing the source codes, when some of the corrections have already been made, and the other part has most likely been forgotten.</span></p>
<p class="p_Text"><span class="f_Text">If the function is declared and not used anywhere, the compiler does not require its definition either - such an element is simply &quot;cut out&quot; from the binary program.</span></p>
<p class="p_Text"><span class="f_Text">In the <a href="2_7_2_statements_declaration.htm" class="topiclink">Declaration/definition statements</a> section, we considered an example of the </span><span class="f_Text" style="font-style: italic;">Init</span><span class="f_Text"> function (script </span><span class="f_Text" style="font-style: italic;">StmtDeclaration.mq5</span><span class="f_Text">), which was used to initialize variables. There, in particular, the problem was demonstrated that the global variable </span><span class="f_Text" style="font-style: italic;">k</span><span class="f_Text"> cannot be defined before the </span><span class="f_Text" style="font-style: italic;">Init</span><span class="f_Text"> function, since the initial value </span><span class="f_Text" style="font-style: italic;">k</span><span class="f_Text"> is obtained by calling </span><span class="f_Text" style="font-style: italic;">Init</span><span class="f_Text">. The compiler through the error &quot;'Init' is an unknown identifier&quot;.</span></p>
<p class="p_Text"><span class="f_Text">Now we know that such a problem can be solved with a declaration. In the </span><span class="f_Text" style="font-style: italic;">FuncDeclaration.mq5</span><span class="f_Text"> script, we added the following forward declaration of the </span><span class="f_Text" style="font-style: italic;">Init</span><span class="f_Text"> function before the </span><span class="f_Text" style="font-style: italic;">k</span><span class="f_Text"> variable, and left the  </span><span class="f_Text" style="font-style: italic;">Init </span><span class="f_Text">definition after </span><span class="f_Text" style="font-style: italic;">k</span><span class="f_Text">.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #808080;">//&nbsp;preliminary&nbsp;declaration</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Init</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">v</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample" style="color: #808080;">//&nbsp;before&nbsp;adding&nbsp;preliminary&nbsp;declaration&nbsp;above</span>
<br><span class="f_CodeExample" style="color: #808080;">//&nbsp;here&nbsp;was&nbsp;an&nbsp;error:&nbsp;'Init'&nbsp;is&nbsp;an&nbsp;unknown&nbsp;identifier</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">k</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Init</span><span class="f_CodeExample">(-</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Init</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">v</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;Init:&nbsp;&quot;</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">v</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">v</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Now the script compiles normally. Technically, in this case, we could simply move the function above the variable without a preliminary declaration. We did this to explain the concept. However, there are cases of mutual dependence of language elements on each other (for example, classes), when it is impossible to go without a preliminary declaration within the same file.</span></p>

</div>

</body>
</html>
