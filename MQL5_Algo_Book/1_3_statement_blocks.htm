<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>1.3 Instructions, Code Blocks, and Functions</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part1.htm"> Part 1. Introduction to MQL5 and development environment </a>/ 1.3 Statements, code blocks, and functions
          </td>
          <td width="70" align="right">
          <a href="1_2_mql_wizard.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="1_4_first_program.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H2"><span class="f_H2">1.3 Statements, code blocks, and functions</span></p>
<p class="p_Text"><span class="f_Text">Thus, in the script generated by the Wizard, the </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> function appears as follows:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">It is exactly our first subject matter within the context of programming in MQL5. Here again, we immediately encounter unknown concepts and character sequences. To explain them, we shall make a short digression.</span></p>
<p class="p_Text"><span class="f_Text">A program must usually implement the following typical stages when running:</span></p>
<ul>
<li class="p_li"><span class="f_li">Defining variables, i.e., named cells in the computer memory to store data;</span></li>
<li class="p_li"><span class="f_li">Organizing the source data input;</span></li>
<li class="p_li"><span class="f_li">Processing the data – an applied algorithm; and</span></li>
<li class="p_li"><span class="f_li">Organizing the output of results.</span></li>
</ul>
<p class="p_Text"><span class="f_Text">All these stages are not necessary in terms of maintaining the syntactic correctness of the program. For example, if we create a program that computes the product of &quot;2*2&quot;, it obviously does not need any input data, because numbers necessary for multiplying are integrated in the program text. Moreover, since 2 and 2 are constant values in this expression, no named cells (variables) are required in the program. Since we know it anyway what twice two is, we don't really need to communicate the product number. Such a program would lack any real function, of course. However, it would be absolutely correct from a technical point of view.</span></p>
<p class="p_Text"><span class="f_Text">More interestingly, the program may contain no statements on processing. Our script template specifically represents a sample 'null' program. But what is the above text fragment?</span></p>
<p class="p_Text"><span class="f_Text">In his day, Niklaus Wirth, one of the big names in programming, gave a simple generalized definition of programming as a symbiosis of algorithms and data structures.</span></p>
<p class="p_Text"><span class="f_Text">&quot;Algorithm&quot; shall mean a sequence of statements of a particular programming language. A statement is a kind of sentence, i.e., a completed utterance, articulated in a programming language according to its syntax rules. The name &quot;statement&quot; itself suggests that it is perceived by computers as a guide to operations. In other words, statements describe when and how the required applied data structures shall be processed. This is exactly why the interpenetration of algorithms and data structures allows putting the author's ideas into practice.</span></p>
<p class="p_Text"><span class="f_Text">Unfortunately, in most practical tasks, the number of statements is so large that they must be systematized somehow for the human to recognize and control the program behavior.</span></p>
<p class="p_Text"><span class="f_Text">Here too, the divide-and-conquer algorithm comes to help, which is used practically everywhere in programming and in different guises. We will learn all of them as we continue in this book, now just noting the essence.</span></p>
<p class="p_Text"><span class="f_Text">As known, the algorithm reduces to dividing a large complex task into smaller and simpler ones. Here, we can compare this process with constructing a house or assembling a spacecraft. Both &quot;products&quot; consist of multiple different modules that, in turn, consist of components, and the latter ones of even smaller parts, etc.</span></p>
<p class="p_Text"><span class="f_Text">Extending this similarity to algorithms, we can say that statements are small parts, while the entire program is a house/spacecraft. Therefore, we need structural blocks sized intermediately.</span></p>
<p class="p_Text"><span class="f_Text">This is why it is customary, when implementing algorithms, to combine logically related statements into larger named fragments, the functions. In the required places of the program, we can address the function by its name (call it) and doing so, ask the computer to execute all statements contained inside the function. The entire program is, in fact, the largest external block and therefore, it can also be presented by the function, from which smaller functions are called or statements are executed immediately if they are not many. Now we're approaching the </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> function.</span></p>
<p class="p_Text"><span class="f_Text">Name </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> is reserved in scripts to denote the ultimate function that is called by the terminal itself as a response to the user's actions when the user launches the script using the context menu command or dragging the mouse over the chart. Thus, the preceding fragment of the code defines the function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> that predetermines the behavior of our entire script.</span></p>
<p class="p_Text"><span class="f_Text">Those who know programming in other languages, such as C, C++, Rust, or Kotlin, can notice the similarity of this function with the function </span><span class="f_Text" style="font-style: italic;">main</span><span class="f_Text"> — the core point of entering into the program.</span></p>
<p class="p_Text"><span class="f_Text">Any script must contain the function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text">. Otherwise, the compilation may finish with an error.</span></p>
<p class="p_Text"><span class="f_Text">Empty function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text">, as ours, starts being executed by the terminal (as soon as the script is launched in any manner) and immediately finishes its operation. Strictly speaking, there is no applied algorithm in our script yet, but there is already a stub function to add it.</span></p>
<p class="p_Text"><span class="f_Text">In other types of MQL programs, there are also special functions to be defined by the programmer in their code. We will get into the specific features in the relevant parts of the book.</span></p>
<p class="p_Text"><span class="f_Text">We will consider the function definition syntax in detail in the second part of this book. For a hands-on review of it, it is sufficient to mention the following basic essentials to understand the description of </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">Since functions are usually intended for obtaining an applicable result, the characteristics of the expected value are described in a special manner in their definition: What data types should be obtained and whether the data is even necessary. Some functions can perform actions that do not require returning the value. For example, a function can be intended for changing the settings of the current chart or to send push notifications when the predefined drawdown level is reached on the account. All this can be programmed by the statements in the function, and it does not create any new data (reasonable to be returned to any other parts of the program).</span></p>
<p class="p_Text"><span class="f_Text">In our case, the situation is similar: As the main function of the script, </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> could return its result to the external environment only (directly into the terminal) when completed, but this would not affect the operation of the script itself in any way (because it has already finished off).</span></p>
<p class="p_Text"><span class="f_Text">That is exactly why, before the </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> function name, there is the word </span><span class="f_Text" style="font-style: italic;">void</span><span class="f_Text"> that informs the compiler that the result is not important to us (</span><span class="f_Text" style="font-style: italic;">void</span><span class="f_Text"> means emptiness). </span><span class="f_Text" style="font-style: italic;">void</span><span class="f_Text"> is one of many procedure words reserved in MQL5. The compiler knows the meanings of all reserved words, and it is guided by them in reviewing the source code. Particularly, a programmer may use reserved words to define new terms for the compiler, such as the function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> itself.</span></p>
<p class="p_Text"><span class="f_Text">Parentheses after the name are integral to the description of any function: They may enclose the list of function parameters. For instance, if we were writing a function taking a square of a number, we would have to provide it with one parameter for that number. Then we could call this function from any part of the program, having sent one argument over it, i.e., the specific value for the parameter. We will see later how to describe the list of parameters; it is not in this current example. This requirement is posed on the function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> for it is called by the terminal itself, and it never sends anything to this function as parameters.</span></p>
<p class="p_Text"><span class="f_Text">At last, braces are used to mark the beginning and the end of the block containing statements. Immediately following the function name string, such a block will contain a set of operations performed by this function. It is also named the function body. In this case, there is nothing inside the braces. Therefore, the script template does not do anything.</span></p>
<p class="p_Text"><span class="f_Text">The above sequence of word </span><span class="f_Text" style="font-style: italic;">void</span><span class="f_Text">, name </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text">, an empty list of parameters, and an empty code block defines the least, empty implementation of the function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> for the compiler. Later, adding statements into the function body, we will extend the definition of function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">Having executed the </span><span class="f_Text" style="font-style: italic;">Compile</span><span class="f_Text"> command, we will make sure that the script can be successfully compiled, and that the ready program appears in the </span><span class="f_Text" style="font-style: italic;">Navigator</span><span class="f_Text"> of the terminal in the folder </span><span class="f_Text" style="font-style: italic;">Scripts/MQL5Book/p1</span><span class="f_Text">. This results from the fact that, on the disk in the relevant folder, there is now the file of </span><span class="f_Text" style="font-style: italic;">Hello.ex5</span><span class="f_Text">. It can easily be checked in any file manager.</span></p>
<p class="p_Text"><span class="f_Text">We can run the script on a chart, but the only confirmation of its execution will be the entries in the terminal log (tab </span><span class="f_Text" style="font-style: italic;">Log</span><span class="f_Text"> in the </span><span class="f_Text" style="font-style: italic;">Tools</span><span class="f_Text"> window; not to be mixed with the toolbar):</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">Scripts &nbsp; &nbsp; &nbsp; &nbsp;script&nbsp;Hello&nbsp;(EURUSD,H1)&nbsp;loaded&nbsp;successfully</span>
<br><span class="f_CodeExample">Scripts &nbsp; &nbsp; &nbsp; &nbsp;script&nbsp;Hello&nbsp;(EURUSD,H1)&nbsp;removed</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">That is, the script is loaded, the control is sent to the function </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text">, but immediately returned to the terminal because the function does not do anything, and after that, the terminal unloaded the script from the chart.</span></p>

</div>

</body>
</html>
