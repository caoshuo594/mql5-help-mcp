<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>2.8.2 Function call</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part2.htm"> Part 2. Programming fundamentals </a> / <a class="h_m" href="2_8_functions.htm"> 2.8 Functions </a>/ 2.8.2 Function call
          </td>
          <td width="70" align="right">
          <a href="2_8_1_functions_definition.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="2_8_3_functions_parameters.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">2.8.2 Function call</span></p>
<p class="p_Text"><span class="f_Text">A function is called when its name is mentioned in an expression. After the name, there should be a pair of parentheses, in which the arguments corresponding to the function parameters (if there is a list of parameters in its definition) are indicated, separated by commas.</span></p>
<p class="p_Text"><span class="f_Text">A little later, we will look at the <a href="2_8_10_functions_typedef.htm" class="topiclink">function pointer</a> type, which allows you to create variables that point to a function with specific characteristics, and then call it not by name, but through this variable.</span></p>
<p class="p_Text"><span class="f_Text">Continuing the example with the </span><span class="f_Text" style="font-style: italic;">Fibo</span><span class="f_Text"> function, let's call it from the </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> function. To do this, let's create a variable </span><span class="f_Text" style="font-style: italic;">f</span><span class="f_Text"> to store the resulting number and in its initialization expression we indicate the name of the function </span><span class="f_Text" style="font-style: italic;">Fibo</span><span class="f_Text"> and an integer (for example, 10) as an argument, in parentheses.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">f</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Fibo</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">10</span><span class="f_CodeExample">);&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">f</span><span class="f_CodeExample">);&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;89</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">We are not required to create a variable to receive a value from a function. Instead, you can call the function directly from an expression, such as &quot;2*Fibo(10)&quot; or &quot;Print(Fibo(10))&quot;. Then its value will be substituted into the expression at the place of the call. Here, the auxiliary variable </span><span class="f_Text" style="font-style: italic;">f</span><span class="f_Text"> is introduced to implement the call and return of a value in a separate statement.</span></p>
<p class="p_Text"><span class="f_Text">The call process includes the following steps:</span></p>
<ul>
<li class="p_li"><span class="f_li">Execution of the statement sequence of the calling function (</span><span class="f_li" style="font-style: italic;">OnStart</span><span class="f_li">) is suspended;</span></li>
<li class="p_li"><span class="f_li">The value of the argument gets into the input parameter </span><span class="f_li" style="font-style: italic;">n</span><span class="f_li"> of the called function (</span><span class="f_li" style="font-style: italic;">Fibo</span><span class="f_li">);</span></li>
<li class="p_li"><span class="f_li">The execution of its statements starts;</span></li>
<li class="p_li"><span class="f_li">When it is completely finished, it sends the result back (remember the </span><span class="f_li" style="font-style: italic;">return</span><span class="f_li"> statement inside);</span></li>
<li class="p_li"><span class="f_li">The result is written to the variable </span><span class="f_li" style="font-style: italic;">f</span><span class="f_li">; and</span></li>
<li class="p_li"><span class="f_li">After that, the execution of the </span><span class="f_li" style="font-style: italic;">OnStart </span><span class="f_li">function continues, that is, the number is printed to the log (</span><span class="f_li" style="font-style: italic;">Print</span><span class="f_li">).</span></li>
</ul>
<p class="p_Text"><span class="f_Text">For each function call, the compiler generates auxiliary binary code (the programmer does not need to worry about it). The idea of this code is that before calling the function, it pushes the current position in the program onto the stack, and after the call is completed, it retrieves it and uses it to return to the statements following the function call. When one function calls another, that one calls one more function, the second calls a third, and so on, the return addresses of transitions throughout the hierarchy of called functions are accumulated on the stack (hence the name stack). As nested function calls are processed, the stack will be cleared in reverse order. Note that the stack also allocates memory for the local variables of each function.</span></p>

</div>

</body>
</html>
