<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>6.4.2 Basic principles and concepts: order, deal, and position</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part6.htm"> Part 6. Trading automation </a> / <a class="h_m" href="6_4_experts.htm"> 6.4 Creating Expert Advisors </a>/ 6.4.2 Basic principles and concepts: order, deal, and position
          </td>
          <td width="70" align="right">
          <a href="6_4_1_experts_ontick.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="6_4_3_experts_request_types.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">6.4.2 Basic principles and concepts: order, deal, and position</span></p>
<p class="p_Text"><span class="f_Text">Before starting to study the development of Expert Advisors in MQL5, let's recall the general architecture of the platform and the basic concepts that formalize trading activity.</span></p>
<p class="p_Text"><span class="f_Text">MetaTrader 5 is a client terminal connected to a multi-level server part distributed between the computers of a broker, dealer or exchange. Once a user fills out an order to execute a trade, it goes through several stages of forwarding and verification, after which it is registered or rejected by the dealer or exchange. Then an order registered in the market may or may not be executed depending on circumstances such as liquidity, rate of price change, pause in symbol trading, or technical issues.</span></p>
<p class="p_ImageCaption"><img class="help" alt="General scheme for processing a trade request" title="General scheme for processing a trade request" width="600" height="147" style="margin:0 auto 0 auto;width:600px;height:147px;border:none" src="mt5_architecture.png"/><br>
<span class="f_ImageCaption">General scheme for processing a trade request</span></p>
<p class="p_Text"><span class="f_Text">Here, green arrows indicate the successful execution of a trade operation as it moves from the terminal to the market, and red arrows indicate a potential rejection.</span></p>
<p class="p_Text"><span class="f_Text">Orders generated by MQL programs also go through similar instances. In case of an unfavorable outcome, the MQL5 API will allow us to learn the reason for the failure through the error code.</span></p>
<p class="p_Text"><span class="f_Text">This whole process is expressed (and documented in reports) in three fundamental terms: order, deal, and position.</span></p>
<p class="p_Text"><span class="f_Text">An order is a trader's instruction to a brokerage company to buy or sell a financial instrument. MetaTrader 5 supports several types of orders, but in a simplified form they can be conditionally divided into market, pending, and special protective levels </span><span class="f_Text" style="font-style: italic;">Take Profit</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">Stop Loss</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">As a result of the successful execution of an order, a deal occurs in the trading system. Specifically, a deal can be concluded at the current price in the case of a market order, or when a pending order is triggered when the price reaches the value specified in the order. In other words, a deal is a fact of buying or selling a particular financial instrument.</span></p>
<p class="p_Text"><span class="f_Text">It should be taken into account that in some conditions, an order execution may result in several deals. For example, if the order book does not contain a sufficient amount of symbol liquidity, then a buy order can be executed through various counter orders, including those at a slightly different price.</span></p>
<p class="p_Text"><span class="f_Text">A financial instrument bought or sold according to a deal forms a long or short position, respectively, which is reflected in the assets/liabilities of the trading account. As a result of the subsequent change in the price of the position instrument, a floating profit or loss is formed on the account, which can be fixed by closing the position through reverse trading operations (orders and deals). Depending on the type of trading account (netting or hedging), deals for the same instrument modify a single net position or create/delete independent positions.</span></p>
<p class="p_Text"><span class="f_Text">More information can be found in the <a href="https://www.metatrader5.com/en/terminal/help/trading/general_concept" target="_blank" class="weblink" title="Terminal documentation">terminal user manual</a>.</span></p>
<p class="p_Text"><span class="f_Text">All orders, deals, and positions are included in the trading history of the account.</span></p>
<p class="p_Text"><span class="f_Text">Next, we will look at the software API, which includes functions for sending trade orders, getting the current state of the portfolio in the account, checking the margin load and potential profit/loss, as well as analyzing the trading history.</span></p>

</div>

</body>
</html>
