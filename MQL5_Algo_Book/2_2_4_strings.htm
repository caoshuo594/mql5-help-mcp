<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>2.2.4 String type</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part2.htm"> Part 2. Programming fundamentals </a> / <a class="h_m" href="2_2_builtin_types.htm"> 2.2 Built-in data types </a>/ 2.2.4 String type
          </td>
          <td width="70" align="right">
          <a href="2_2_3_characters.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="2_2_5_booleans.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">2.2.4 String type</span></p>
<p class="p_Text"><span class="f_Text">String type is intended for storing text-based information and is marked by keyword </span><span class="f_Text" style="font-style: italic;">string</span><span class="f_Text">. String is a sequence of the </span><span class="f_Text" style="font-style: italic;">ushort</span><span class="f_Text"> characters and supports the complete Unicode range, including multiple national scripts. For instance, names of financial instruments and comments in trading orders are strings.</span></p>
<p class="p_Text"><span class="f_Text">By reason of the specific nature of strings, their size is a variable value that is equal to the doubled length of the text (quantity of characters multiplied by the &quot;width&quot; of a character, i.e., 2 bytes) plus one more character. This additional character is intended for the 'terminating zero' (a char coded as 0) that denotes the end of the line. Moreover, MQL5 uses some space to store service information, i.e., a reference to the place in memory where the string starts.</span></p>
<p class="p_Quote"><span class="f_Quote">Unlike C++, no address of a string or any other variable can be obtained in MQL5. Direct memory access is prohibited in MQL5.</span></p>
<p class="p_Text"><span class="f_Text">A string literal is recorded in the source code as a sequence of characters embedded in double-quotes. For example: &quot;EURUSD&quot; or &quot;$&quot;. We should distinguish between strings consisting of one character, like &quot;$&quot;, and the same single characters, like '$'. These are different data types.</span></p>
<p class="p_Text"><span class="f_Text">An empty string appears as &quot;&quot;. Considering the implicit terminating zero, it consumes 2 bytes, apart from service information.</span></p>
<p class="p_Text"><span class="f_Text">Should it be necessary to use the double quote character inside the string, it must be preceded by the backslash character, transforming into a control sequence, such as &quot;Press \&quot;OK\&quot;&quot;.</span></p>
<p class="p_Text"><span class="f_Text">String initialization examples are given in script </span><span class="f_Text" style="font-style: italic;">MQL5/Scripts/MQL5Book/p2/TypeString.mq5</span><span class="f_Text">.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">h</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;Hello&quot;</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Hello</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">b</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;Press&nbsp;\&quot;OK\&quot;&quot;</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Press&nbsp;&quot;OK&quot;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">z</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;&quot;</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">t</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;New\nLine&quot;</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;New</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Line</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">n</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;123&quot;</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;123,&nbsp;text&nbsp;(not&nbsp;an&nbsp;integer&nbsp;value)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;very&nbsp;long&nbsp;message&nbsp;&quot;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;can&nbsp;be&nbsp;presented&nbsp;&quot;</span><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;by&nbsp;parts&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;equivalent:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;string&nbsp;m&nbsp;=&nbsp;&quot;very&nbsp;long&nbsp;message&nbsp;can&nbsp;be&nbsp;presented&nbsp;by&nbsp;parts&quot;;&nbsp;</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The string &quot;Hello&quot; is placed in variable </span><span class="f_Text" style="font-style: italic;">h</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">Text containing double quotes is written in variable </span><span class="f_Text" style="font-style: italic;">b</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">Variable </span><span class="f_Text" style="font-style: italic;">z</span><span class="f_Text"> is initialized by an empty string. This is basically equivalent to describing </span><span class="f_Text" style="font-style: italic;">z</span><span class="f_Text"> without initialization, but there are some finer points here. Further, as the text goes, in the section of <a href="2_3_3_initialization.htm" class="topiclink">Initialization of variables</a>, we will get to know that uninitialized strings get a special value, NULL, unlike &quot;&quot;, for which, as previously stated, the memory is allocated for the terminating zero. This difference affects the execution of string <a href="2_5_5_operators_relational.htm" class="topiclink">comparison operators</a> and some others. As the story unfolds, we will touch upon all such aspects.</span></p>
<p class="p_Text"><span class="f_Text">Variable </span><span class="f_Text" style="font-style: italic;">t</span><span class="f_Text"> will get a text that, when printed in the log using the </span><span class="f_Text" style="font-style: italic;">Print</span><span class="f_Text"> function or displayed by other methods, will be divided into 2 strings.</span></p>
<p class="p_Text"><span class="f_Text">String &quot;123&quot; recorded in variable </span><span class="f_Text" style="font-style: italic;">n</span><span class="f_Text"> is not a number, although it looks like that. There are some functions in MQL5 to convert text into numbers and back (see section <a href="4_1_1_conversions_numbers.htm" class="topiclink">Data transformation</a>). Moreover, there is a separate set of functions for <a href="4_2_strings.htm" class="topiclink">working with strings</a>.</span></p>
<p class="p_Text"><span class="f_Text">For convenience, long literals can be written in several strings, as for variable </span><span class="f_Text" style="font-style: italic;">m</span><span class="f_Text">. The general rule is as follows: All literals up to the semicolon that marks the end of the variable description are merged by the compiler. In such formatting, the key is not to forget to add an intervening space inside each fragment of the string, if necessary (for instance, to separate the words in the message as in the example above).</span></p>
<p class="p_Text"><span class="f_Text">For strings, the summation (concatenation) operation is defined, denoted with the character '+'. We will discuss it in the chapter dealing with expressions (see <a href="2_5_3_operators_arithmetic.htm" class="topiclink">Arithmetic operations</a>).</span></p>
<p class="p_Text"><span class="f_Text">String characters can be read separately, referring to them as array elements (see <a href="2_4_3_arrays_usage.htm" class="topiclink">Use of arrays</a>): If </span><span class="f_Text" style="font-style: italic;">s</span><span class="f_Text"> is a string, then </span><span class="f_Text" style="font-style: italic;">s[i]</span><span class="f_Text"> is the code of the ith character in it, type </span><span class="f_Text" style="font-style: italic;">ushort</span><span class="f_Text">.</span></p>

</div>

</body>
</html>
