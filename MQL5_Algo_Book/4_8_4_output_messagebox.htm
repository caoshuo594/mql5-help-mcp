<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>4.8.4 Message Dialog Box</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part4.htm"> Part 4. Common APIs </a> / <a class="h_m" href="4_8_output.htm"> 4.8 User interaction </a>/ 4.8.4 Message dialog box
          </td>
          <td width="70" align="right">
          <a href="4_8_3_output_comment.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="4_8_5_output_sound.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">4.8.4 Message dialog box</span></p>
<p class="p_Text"><span class="f_Text">The MQL5 API provides the </span><span class="f_Text" style="font-style: italic;">MessageBox</span><span class="f_Text"> function to interactively prompt the user to confirm actions or select an option for handling a particular situation.</span></p>
<p class="p_H4"><span class="f_H4">int MessageBox(const string message, const string caption = NULL, int flags = 0)</span></p>
<p class="p_Text"><span class="f_Text">The function opens a modeless dialog box with the given message (</span><span class="f_Text" style="font-style: italic;">message</span><span class="f_Text">), header (</span><span class="f_Text" style="font-style: italic;">caption</span><span class="f_Text">), and settings (</span><span class="f_Text" style="font-style: italic;">flags</span><span class="f_Text">). The window remains visible on top of the main terminal window until the user closes it by clicking on one of the available buttons (see further along).</span></p>
<p class="p_Text"><span class="f_Text">The message is also displayed in the expert log with the &quot;Message&quot; mark.</span></p>
<p class="p_Text"><span class="f_Text">If the </span><span class="f_Text" style="font-style: italic;">caption </span><span class="f_Text">parameter is NULL, the name of the MQL program is used as the title.</span></p>
<p class="p_Text"><span class="f_Text">The </span><span class="f_Text" style="font-style: italic;">flags</span><span class="f_Text"> parameter must contain a combination of bit flags combined with an OR ('|') operation. The general set of supported flags is divided into 3 groups that define:</span></p>
<ul style="list-style-type:disc">
<li class="p_li"><span class="f_li">a set of buttons in the dialog</span></li>
<li class="p_li"><span class="f_li">icon image in the dialog</span></li>
<li class="p_li"><span class="f_li">selection of the active button by default</span></li>
</ul>
<p class="p_Text"><span class="f_Text">The following table lists the constants and flag values for defining dialog buttons.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Constant</span></p>
</th>
<th class="table" style="width:15%;"><p class="p_BoldTitlesInTables" style="text-align: center;"><span class="f_BoldTitlesInTables">Value</span></p>
</th>
<th class="table" style="width:60%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_OK</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0000</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">1 OK button (default)</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_OKCANCEL</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0001</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">2 buttons: OK and Cancel</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_ABORTRETRYIGNORE</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0002</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">3 buttons: Abort, Retry, Ignore</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_YESNOCANCEL</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0003</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">3 buttons: Yes, No, Cancel</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_YESNO</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0004</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">2 buttons: Yes and No</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_RETRYCANCEL</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0005</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">2 buttons: Retry and Cancel</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_CANCELTRYCONTINUE</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0006</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">3 buttons: Cancel, Try Again, Continue</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">The following table lists the available images (displayed to the left of the message).</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Constant</span></p>
</th>
<th class="table" style="width:15%;"><p class="p_BoldTitlesInTables" style="text-align: center;"><span class="f_BoldTitlesInTables">Value</span></p>
</th>
<th class="table" style="width:60%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_ICONSTOP</span><br>
<span class="f_fortable">MB_ICONERROR</span><br>
<span class="f_fortable">MB_ICONHAND</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0010</span></p>
</td>
<td class="table" style="vertical-align:middle; width:60%;"><div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 1px 10px 1px 10px;"><table cellspacing="0" cellpadding="0" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Text"><span class="f_Text">STOP sign</span></p>
</td>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Normal" style="text-align: right;"><img class="help" alt="icon error" title="icon error" width="32" height="32" style="margin:0 0 0 auto;width:32px;height:32px;border:none" src="mb_iconerror.png"/></p>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_ICONQUESTION</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0020</span></p>
</td>
<td class="table" style="width:60%;"><div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 1px 10px 1px 10px;"><table cellspacing="0" cellpadding="0" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Text"><span class="f_Text">Question mark</span></p>
</td>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Normal" style="text-align: right;"><img class="help" alt="icon question" title="icon question" width="32" height="32" style="margin:0 0 0 auto;width:32px;height:32px;border:none" src="mb_iconquestion.png"/></p>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_ICONEXCLAMATION</span><br>
<span class="f_fortable">MB_ICONWARNING</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0030</span></p>
</td>
<td class="table" style="width:60%;"><div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 1px 10px 1px 10px;"><table cellspacing="0" cellpadding="0" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Text"><span class="f_Text">Exclamation point</span></p>
</td>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Normal" style="text-align: right;"><img class="help" alt="icon warning" title="icon warning" width="32" height="32" style="margin:0 0 0 auto;width:32px;height:32px;border:none" src="mb_iconwarning.png"/></p>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable" style="line-height: 1.0; white-space: nowrap;"><span class="f_fortable">MB_ICONINFORMATION</span><br>
<span class="f_fortable">MB_ICONASTERISK</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0040</span></p>
</td>
<td class="table" style="width:60%;"><div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 1px 10px 1px 10px;"><table cellspacing="0" cellpadding="0" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Text"><span class="f_Text">Information sign</span></p>
</td>
<td style="vertical-align:top; padding:0; border:none"><p class="p_Normal" style="text-align: right;"><img class="help" alt="icon information" title="icon information" width="32" height="32" style="margin:0 0 0 auto;width:32px;height:32px;border:none" src="mb_iconinformation.png"/></p>
</td>
</tr>
</table>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">All icons depend on the operating system version. The examples shown may differ on your computer.</span></p>
<p class="p_Text"><span class="f_Text">The following values are reserved for selecting the active button.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Constant</span></p>
</th>
<th class="table" style="width:15%;"><p class="p_BoldTitlesInTables" style="text-align: center;"><span class="f_BoldTitlesInTables">Value</span></p>
</th>
<th class="table" style="width:60%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">MB_DEFBUTTON1</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0000</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">The first button (default) if none of the other constants are selected</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">MB_DEFBUTTON2</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0100</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">The second button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">MB_DEFBUTTON3</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0200</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">The third button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">MB_DEFBUTTON4</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">0x0300</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">The fourth button</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Quote"><span class="f_Quote">The question may arise about what this fourth button is if the above constants allow you to set no more than three. The fact is that among the flags there is also MB_HELP (0x00004000). It instructs to show the Help button in the dialog. Then it can become the fourth in a row if there are three main buttons. However, clicking on the Help button does not close the dialog, unlike other buttons. According to the Windows standard, a help file can be associated with the program, which should open with the necessary help when the Help button is pressed. However, MQL programs do not currently support this technology.</span></p>
<p class="p_Text"><span class="f_Text">The function returns one of the predefined values depending on how the dialog was closed (which button was pressed).</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Constant</span></p>
</th>
<th class="table" style="width:15%;"><p class="p_BoldTitlesInTables" style="text-align: center;"><span class="f_BoldTitlesInTables">Value</span></p>
</th>
<th class="table" style="width:60%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDOK</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">1</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">OK button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDCANCEL</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">2</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">Cancel button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDABORT</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">3</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">Abort button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDRETRY</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">4</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">Retry button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDIGNORE</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">5</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">Ignore button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDYES</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">6</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">Yes button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDNO</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">7</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">No button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDTRYAGAIN</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">10</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">Try Again button</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">IDCONTINUE</span></p>
</td>
<td class="table" style="width:15%;"><p class="p_fortable" style="text-align: center;"><span class="f_fortable">11</span></p>
</td>
<td class="table" style="width:60%;"><p class="p_fortable"><span class="f_fortable">Continue button</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">If the message box has a Cancel button, then the function returns IDCANCEL when the ESC key is pressed (in addition to the Cancel button). If the message box does not have a Cancel button, pressing ESC has no effect.</span></p>
<p class="p_Text"><span class="f_Text">Calling </span><span class="f_Text" style="font-style: italic;">MessageBox</span><span class="f_Text"> suspends the execution of the current MQL program until the user closes the dialog. For this reason, using </span><span class="f_Text" style="font-style: italic;">MessageBox</span><span class="f_Text"> is prohibited in <a href="5_4_indicators_make.htm" class="topiclink">indicators</a>, since the indicators are executed in the interface thread of the terminal, and waiting for the user's response would slow down the update of the charts.</span></p>
<p class="p_Text"><span class="f_Text">Also, the function cannot be used in <a href="5_2_2_services.htm" class="topiclink">services</a>, because they have no connection with the user interface, while other types of MQL programs are executed in the context of the chart.</span></p>
<p class="p_Text"><span class="f_Text">When working in the strategy tester, the </span><span class="f_Text" style="font-style: italic;">MessageBox</span><span class="f_Text"> function has no effect and returns 0.</span></p>
<p class="p_Text"><span class="f_Text">After getting the result from the function call, you can process it in the way you want, for example:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">MessageBox</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;Continue?&quot;</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_YESNOCANCEL</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;use&nbsp;'switch'&nbsp;or&nbsp;'if'&nbsp;as&nbsp;needed</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">switch</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">case</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">IDYES</span><span class="f_CodeExample">:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;...</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">break</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">case</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">IDNO</span><span class="f_CodeExample">:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;...</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">break</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">case</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">IDCANCEL</span><span class="f_CodeExample">:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;...</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">break</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The </span><span class="f_Text" style="font-style: italic;">MessageBox</span><span class="f_Text"> function can be tested using the </span><span class="f_Text" style="font-style: italic;">OutputMessage.mq5</span><span class="f_Text"> script, in which the user can select the parameters of the dialog using input variables and see it in action.</span></p>
<p class="p_Text"><span class="f_Text">Groups of settings for buttons, icons, and the default selected button, as well as return codes, are described in special enumerations: ENUM_MB_BUTTONS, ENUM_MB_ICONS, ENUM_MB_DEFAULT, ENUM_MB_RESULT. This provides visual input through drop-down lists and simplifies their conversion to strings using </span><span class="f_Text" style="font-style: italic;">EnumToString</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">For example, here is how the first two enumerations are defined.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">enum</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">ENUM_MB_BUTTONS</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_OK</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_OK</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Ok</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_OK_CANCEL</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_OKCANCEL</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Ok&nbsp;|&nbsp;Cancel</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_ABORT_RETRY_IGNORE</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_ABORTRETRYIGNORE</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Abort&nbsp;|&nbsp;Retry&nbsp;|&nbsp;Ignore</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_YES_NO_CANCEL</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_YESNOCANCEL</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Yes&nbsp;|&nbsp;No&nbsp;|&nbsp;Cancel</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_YES_NO</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_YESNO</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Yes&nbsp;|&nbsp;No</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_RETRY_CANCEL</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_RETRYCANCEL</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Retry&nbsp;|&nbsp;Cancel</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_CANCEL_TRYAGAIN_CONTINUE</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_CANCELTRYCONTINUE</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Cancel&nbsp;|&nbsp;Try&nbsp;Again&nbsp;|&nbsp;Continue</span>
<br><span class="f_CodeExample">};</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">enum</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">ENUM_MB_ICONS</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_ICON_NONE</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;None</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_ICON_QUESTION</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_ICONQUESTION</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Question</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_ICON_INFORMATION_ASTERISK</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_ICONINFORMATION</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Information&nbsp;(Asterisk)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_ICON_WARNING_EXCLAMATION</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_ICONWARNING</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Warning&nbsp;(Exclamation)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_ICON_ERROR_STOP_HAND</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">MB_ICONERROR</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Error&nbsp;(Stop,&nbsp;Hand)</span>
<br><span class="f_CodeExample">};</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The rest can be found in the source code.</span></p>
<p class="p_Text"><span class="f_Text">They are then used as input variable types (with element comments providing a more user-friendly presentation in the user interface).</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Message</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;Message&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Caption</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_MB_BUTTONS</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Buttons</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_OK</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_MB_ICONS</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Icon</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_ICON_NONE</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_MB_DEFAULT</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Default</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">_DEF_BUTTON1</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">text</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Message</span><span class="f_CodeExample">&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;\n&quot;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">Buttons</span><span class="f_CodeExample">)&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;,&nbsp;&quot;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">Icon</span><span class="f_CodeExample">)&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;,&quot;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">Default</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_MB_RESULT</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">&nbsp;=&nbsp;(</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_MB_RESULT</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">MessageBox</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">text</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">StringLen</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">Caption</span><span class="f_CodeExample">)&nbsp;?&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Caption</span><span class="f_CodeExample">&nbsp;:&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Buttons</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Icon</span><span class="f_CodeExample">&nbsp;|&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Default</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The script displays the specified message in the window, along with the specified dialog settings. The result of the dialogue is displayed in the log.</span></p>
<p class="p_Text"><span class="f_Text">A screenshot of the selection of options and the resulting dialog are shown in the following images.</span></p>
<p class="p_Text" style="text-align: center;"><img class="help" alt="Window properties dialog" title="Window properties dialog" width="615" height="312" style="margin:0 auto 0 auto;width:615px;height:312px;border:none" src="message-settings-en.png"/></p>
<p class="p_ImageCaption"><span class="f_ImageCaption">Window properties dialog</span></p>
<p class="p_Text" style="text-align: center;"><img class="help" alt="Received message dialog box" title="Received message dialog box" width="354" height="147" style="margin:0 auto 0 auto;width:354px;height:147px;border:none" src="message-output-ru.png"/></p>
<p class="p_ImageCaption"><span class="f_ImageCaption">Received message dialog box</span></p>

</div>

</body>
</html>
