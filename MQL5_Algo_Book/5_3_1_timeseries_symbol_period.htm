<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>5.3.1 Symbols and timeframes</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part5.htm"> Part 5. Creating application programs </a> / <a class="h_m" href="5_3_timeseries.htm"> 5.3 Timeseries </a>/ 5.3.1 Symbols and timeframes
          </td>
          <td width="70" align="right">
          <a href="5_3_timeseries.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="5_3_2_timeseries_storage_tech.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">5.3.1 Symbols and timeframes</span></p>
<p class="p_Text"><span class="f_Text">Timeseries with quotes are identified by two parameters: symbol name (financial instrument) and timeframe (period).</span></p>
<p class="p_Text"><span class="f_Text">The user can see the list of symbols in the </span><span class="f_Text" style="font-style: italic;">Market Watch</span><span class="f_Text"> window and edit it based on the general list provided by the broker (dialog </span><span class="f_Text" style="font-style: italic;">Symbols</span><span class="f_Text">). For MQL programs, there is a set of functions that can be used to do the same: search in all symbols, find out their properties and add or remove symbols to/from </span><span class="f_Text" style="font-style: italic;">Market Watch</span><span class="f_Text">. These features will be the subject of a separate <a href="6_1_symbols.htm" class="topiclink">chapter</a>.</span></p>
<p class="p_Text"><span class="f_Text">However, to request timeseries, it is enough to know the name of the symbol – this is a string containing the designation of an existing financial instrument. It, for example, can be set by the user in the input variable. In addition, the symbol of the current chart can be found from the built-in variable </span><span class="f_Text" style="font-style: italic;">_Symbol</span><span class="f_Text"> (or the </span><span class="f_Text" style="font-style: italic;"><a href="5_7_1_charts_main_properties.htm" class="topiclink">Symbol</a></span><span class="f_Text"> function) but for our convenience, all timeseries functions support the convention that the NULL value also corresponds to the symbol of the current chart.</span></p>
<p class="p_Text"><span class="f_Text">Now let's turn to timeframes. There are 21 standard timeframes defined in the system: each is specified by an element in the special enumeration ENUM_TIMEFRAMES.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Value&nbsp;(Hex)</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_CURRENT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">0</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable" style="letter-spacing: -1px;">Current chart period</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M1</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">1 (0x1)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">1 minute</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M2</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">2 (0x2)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">2 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M3</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">3 (0x3)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">3 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M4</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">4 (0x4)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">4 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M5</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">5 (0x5)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">5 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M6</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">6 (0x6)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">6 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M10</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">10 (0xA)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">10 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M12</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">12 (0xC)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">12 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M15</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">15 (0xF)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">15 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M20</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">20 (0x14)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">20 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_M30</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">30 (0x1E)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">30 minutes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_H1</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16385 (0x4001)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">1 hour</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_H2</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16386 (0x4002)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">2 hours</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_H3</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16387 (0x4003)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">3 hours</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_H4</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16388 (0x4004)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">4 hours</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_H6</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16390 (0x4006)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">6 hours</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_H8</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16392 (0x4008)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">8 hours</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_H12</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16396 (0x400C)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">12 hours</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_D1</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">16408 (0x4018)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">1 day</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_W1</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">32769 (0x8001)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">1 Week</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">PERIOD_MN1</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">49153 (0xC001)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">1 month</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">As we saw in the section on <a href="4_9_18_env_variables.htm" class="topiclink">Predefined variables</a>, the program can learn the period of the current chart from the built-in variable </span><span class="f_Text" style="font-style: italic;">_Period</span><span class="f_Text"> (or the </span><span class="f_Text" style="font-style: italic;"><a href="5_7_1_charts_main_properties.htm" class="topiclink">Period</a></span><span class="f_Text"> function). It is easy to see from the column of values that passing zero to the built-in functions that accept a timeframe will mean the period of the current chart.</span></p>
<p class="p_Text"><span class="f_Text">The value for minute timeframes is the same as the number of minutes in them (for example, 30 means M30). For hourly timeframes, bit 0x4000 is set, and the lower byte contains the number of hours (for example, 0x4003 for H3). Day period D1 is encoded as 24 hours, that is 0x4018 (0x18 is equal to 24). Finally, the weekly and monthly timeframes have their own distinguishing bits 0x8000 and 0xC000, respectively, as unit indicators, and the count (in the low byte) is 1 in both cases.</span></p>
<p class="p_Text"><span class="f_Text">For convenient conversion of enumeration elements into strings and back, a header file </span><span class="f_Text" style="font-style: italic;">Periods.mqh</span><span class="f_Text"> is attached to the book (we have already used it in the example of working with files, and will use it in future examples). One of its functions, </span><span class="f_Text" style="font-style: italic;">StringToPeriod</span><span class="f_Text">, uses in its algorithm the above-described features of the internal bit representation of enumeration elements.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">#define</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PERIOD_PREFIX_LENGTH</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">7</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;StringLen(&quot;PERIOD_&quot;)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample" style="color: #808080;">//&nbsp;getting&nbsp;the&nbsp;abbreviated&nbsp;name&nbsp;of&nbsp;the&nbsp;period&nbsp;without&nbsp;the&nbsp;&quot;PERIOD_&quot;&nbsp;prefix</span>
<br><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">PeriodToString</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_TIMEFRAMES</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">tf</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PERIOD_CURRENT</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">static</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prefix</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">StringLen</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;PERIOD_&quot;</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">StringSubstr</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">tf</span><span class="f_CodeExample">&nbsp;==&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PERIOD_CURRENT</span><span class="f_CodeExample">&nbsp;?&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">_Period</span><span class="f_CodeExample">&nbsp;:&nbsp;</span><span class="f_CodeExample" style="color: #333333;">tf</span><span class="f_CodeExample">),</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PERIOD_PREFIX_LENGTH</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample" style="color: #808080;">//&nbsp;get&nbsp;the&nbsp;period&nbsp;value&nbsp;by&nbsp;full&nbsp;(PERIOD_H4)&nbsp;or&nbsp;short&nbsp;(H4)&nbsp;name&nbsp;&nbsp;</span>
<br><span class="f_CodeExample" style="color: #ff0000;">ENUM_TIMEFRAMES</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">StringToPeriod</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">StringLen</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">)&nbsp;&lt;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;converting&nbsp;full&nbsp;name&nbsp;&quot;PERIOD_TN&quot;&nbsp;to&nbsp;short&nbsp;&quot;TN&quot;&nbsp;if&nbsp;needed</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">StringLen</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">)&nbsp;&gt;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PERIOD_PREFIX_LENGTH</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">StringSubstr</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PERIOD_PREFIX_LENGTH</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;convert&nbsp;the&nbsp;digital&nbsp;ending&nbsp;&quot;N&quot;&nbsp;to&nbsp;a&nbsp;number,&nbsp;skip&nbsp;&quot;T&quot;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">&nbsp;=&nbsp;(</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #0000ff;">StringToInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">StringSubstr</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;clear&nbsp;possible&nbsp;error&nbsp;WRONG_STRING_PARAMETER(5040)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;for&nbsp;example,&nbsp;if&nbsp;the&nbsp;input&nbsp;string&nbsp;is&nbsp;&quot;MN1&quot;,&nbsp;then&nbsp;N1&nbsp;is&nbsp;not&nbsp;a&nbsp;number&nbsp;for&nbsp;StringToInteger</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ResetLastError</span><span class="f_CodeExample">();</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">switch</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">[</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">])</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">case</span><span class="f_CodeExample">&nbsp;'</span><span class="f_CodeExample" style="color: #333333;">M</span><span class="f_CodeExample">':</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PERIOD_MN1</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;(</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_TIMEFRAMES</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">case</span><span class="f_CodeExample">&nbsp;'</span><span class="f_CodeExample" style="color: #333333;">H</span><span class="f_CodeExample">':</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;(</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_TIMEFRAMES</span><span class="f_CodeExample">)(</span><span class="f_CodeExample" style="color: #333333;">0x4000</span><span class="f_CodeExample">&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #333333;">count</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">case</span><span class="f_CodeExample">&nbsp;'</span><span class="f_CodeExample" style="color: #333333;">D</span><span class="f_CodeExample">':</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PERIOD_D1</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">case</span><span class="f_CodeExample">&nbsp;'</span><span class="f_CodeExample" style="color: #333333;">W</span><span class="f_CodeExample">':</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">PERIOD_W1</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Quote"><span class="f_Quote">Note that the </span><span class="f_Quote" style="font-style: italic;">_Symbol</span><span class="f_Quote"> and </span><span class="f_Quote" style="font-style: italic;">_Period</span><span class="f_Quote"> variables contain actual data only in the MQL programs that run on charts, including scripts, Expert Advisors, and indicators. In services, these variables are empty, and therefore, to access timeseries, you must explicitly set the symbol name and period or get them somehow from outside.</span></p>
<p class="p_Text"><span class="f_Text">The defining property of a timeframe is its duration (bar duration). MQL5 allows you to get the number of seconds that form one bar of a specific timeframe using the </span><span class="f_Text" style="font-style: italic;">PeriodSeconds</span><span class="f_Text"> function.</span></p>
<p class="p_H4"><span class="f_H4">int PeriodSeconds(ENUM_TIMEFRAMES period = PERIOD_CURRENT)</span></p>
<p class="p_Text"><span class="f_Text">The </span><span class="f_Text" style="font-style: italic;">period</span><span class="f_Text"> parameter specifies the period as an element of the ENUM_TIMEFRAMES enumeration. If the parameter is not specified, then the number of seconds of the current chart period on which the program is running is returned.</span></p>
<p class="p_Text"><span class="f_Text">We will consider examples of using the function in the indicator </span><span class="f_Text" style="font-style: italic;">IndDeltaVolume.mq5</span><span class="f_Text"> in the section <a href="5_4_15_indicators_wait_none.htm" class="topiclink">Waiting for data and managing visibility</a>, as well as in the indicator </span><span class="f_Text" style="font-style: italic;">UseM1MA.mq5</span><span class="f_Text"> in the section <a href="5_5_7_indicators_standard_use.htm" class="topiclink">Using built-in indicators</a>.</span></p>
<p class="p_Text"><span class="f_Text">To generate timeframes of non-standard duration that are not included in the specified list, the MQL5 API provides <a href="7_2_custom_symbols.htm" class="topiclink">custom symbols</a>, however, they do not allow you to trade like on standard charts without modifying Expert Advisors.</span></p>
<p class="p_Text"><span class="f_Text">In addition, it is important to note that in MetaTrader 5 the duration of bars within a particular timeseries or on a chart is always the same. Therefore, to build charts in which bars are formed not according to time, but as other parameters accumulate, in particular, volumes (equivolume charts) or price movement in one direction in fixed steps (Renko), you can develop your own solutions based on indicators (for example, with the <a href="5_4_16_indicators_multisymbol.htm" class="topiclink">DRAW_CANDLES or DRAW_BARS</a> render type) or using <a href="7_2_custom_symbols.htm" class="topiclink">custom symbols</a>.</span></p>

</div>

</body>
</html>
