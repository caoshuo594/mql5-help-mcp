<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>5.3.3 Getting characteristics of price arrays</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part5.htm"> Part 5. Creating application programs </a> / <a class="h_m" href="5_3_timeseries.htm"> 5.3 Timeseries </a>/ 5.3.3 Getting characteristics of price arrays
          </td>
          <td width="70" align="right">
          <a href="5_3_2_timeseries_storage_tech.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="5_3_4_timeseries_bars.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">5.3.3 Getting characteristics of price arrays</span></p>
<p class="p_Text"><span class="f_Text">Before reading arrays of timeseries, we should make sure that they are available and that they possess the required characteristics. The </span><span class="f_Text" style="font-style: italic;">SeriesInfoInteger</span><span class="f_Text"> function retrieves the basic properties, such as the depth of available history in the terminal and on the server, the number of constructed bars for a specific symbol/period combination, and the absence of discrepancies in quotes between the terminal and the server.</span></p>
<p class="p_Text"><span class="f_Text">The function has two forms: the first directly returns the requested value (of type </span><span class="f_Text" style="font-style: italic;">long</span><span class="f_Text">) and the second uses the fourth parameter </span><span class="f_Text" style="font-style: italic;">result</span><span class="f_Text"> passed by reference. In this case, the second form returns a sign of success (</span><span class="f_Text" style="font-style: italic;">true</span><span class="f_Text">) or errors (</span><span class="f_Text" style="font-style: italic;">false</span><span class="f_Text">). In any case, the error code can be found using the </span><span class="f_Text" style="font-style: italic;"><a href="4_9_15_env_last_error.htm" class="topiclink">GetLastError</a></span><span class="f_Text"> function.</span></p>
<p class="p_H4"><span class="f_H4">long SeriesInfoInteger(const string symbol, ENUM_TIMEFRAMES timeframe, ENUM_SERIES_INFO_INTEGER property)</span></p>
<p class="p_H4" style="margin: 0 23px 1px 17px;"><span class="f_H4">bool SeriesInfoInteger(const string symbol, ENUM_TIMEFRAMES timeframe, ENUM_SERIES_INFO_INTEGER property, long &amp;result)</span></p>
<p class="p_Text"><span class="f_Text">The function allows you to find out one of the timeseries properties for the specified symbol and timeframe or for the entire symbol history. The requested property is identified by the third argument of type ENUM_SERIES_INFO_INTEGER. This enumeration includes all available properties:</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table" style="width:45%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
<th class="table" style="width:20%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Property&nbsp;type</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable" style="letter-spacing: -1px;">SERIES_BARS_COUNT</span></p>
</td>
<td class="table" style="width:45%;"><p class="p_fortable"><span class="f_fortable">Number of bars by symbol/period, see </span><span class="f_fortable" style="font-style: italic;"><a href="5_3_4_timeseries_bars.htm" class="topiclink">Bars</a></span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">long</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable" style="letter-spacing: -1px;">SERIES_FIRSTDATE</span></p>
</td>
<td class="table" style="width:45%;"><p class="p_fortable"><span class="f_fortable">Very first date by symbol/period</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">datetime</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable" style="letter-spacing: -1px;">SERIES_LASTBAR_DATE</span></p>
</td>
<td class="table" style="width:45%;"><p class="p_fortable"><span class="f_fortable">Opening time of the last bar by symbol/period</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">datetime</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable" style="letter-spacing: -1px;">SERIES_SYNCHRONIZED</span></p>
</td>
<td class="table" style="width:45%;"><p class="p_fortable"><span class="f_fortable">Sign of data synchronization by symbol/period on the terminal and on the server</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">bool</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable" style="letter-spacing: -1px;">SERIES_SERVER_FIRSTDATE</span></p>
</td>
<td class="table" style="width:45%;"><p class="p_fortable"><span class="f_fortable">Very first date in history by symbol on the server regardless of the period</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">datetime</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable" style="letter-spacing: -1px;">SERIES_TERMINAL_FIRSTDATE</span></p>
</td>
<td class="table" style="width:45%;"><p class="p_fortable"><span class="f_fortable">Very first date in the history by symbol in the client terminal regardless of the period</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">datetime</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Depending on the essence of the property, the resulting value should be converted to a value of a specific type (see column </span><span class="f_Text" style="font-style: italic;">Property type</span><span class="f_Text">).</span></p>
<p class="p_Text"><span class="f_Text">All properties are returned as of the current moment.</span></p>
<p class="p_Text"><span class="f_Text">The script </span><span class="f_Text" style="font-style: italic;">SeriesInfo.mq5</span><span class="f_Text"> provides an example of querying all properties.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRTF</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">SeriesInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SERIES_BARS_COUNT</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRTF</span><span class="f_CodeExample">((</span><span class="f_CodeExample" style="color: #0000ff;">datetime</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #0000ff;">SeriesInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SERIES_FIRSTDATE</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRTF</span><span class="f_CodeExample">((</span><span class="f_CodeExample" style="color: #0000ff;">datetime</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #0000ff;">SeriesInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SERIES_LASTBAR_DATE</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRTF</span><span class="f_CodeExample">((</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #0000ff;">SeriesInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SERIES_SYNCHRONIZED</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRTF</span><span class="f_CodeExample">((</span><span class="f_CodeExample" style="color: #0000ff;">datetime</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #0000ff;">SeriesInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SERIES_SERVER_FIRSTDATE</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRTF</span><span class="f_CodeExample">((</span><span class="f_CodeExample" style="color: #0000ff;">datetime</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #0000ff;">SeriesInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">NULL</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SERIES_TERMINAL_FIRSTDATE</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">PRTF</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">SeriesInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;ABRACADABRA&quot;</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">SERIES_BARS_COUNT</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Here is an example of the result obtained on EURUSD, H1, on the MQ Demo server:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">SeriesInfoInteger(NULL,0,SERIES_BARS_COUNT)=10001&nbsp;/&nbsp;ok</span>
<br><span class="f_CodeExample">(datetime)SeriesInfoInteger(NULL,0,SERIES_FIRSTDATE)=2020.03.02&nbsp;10:00:00&nbsp;/&nbsp;ok</span>
<br><span class="f_CodeExample">(datetime)SeriesInfoInteger(NULL,0,SERIES_LASTBAR_DATE)=2021.10.08&nbsp;14:00:00&nbsp;/&nbsp;ok</span>
<br><span class="f_CodeExample">(bool)SeriesInfoInteger(NULL,0,SERIES_SYNCHRONIZED)=false&nbsp;/&nbsp;ok</span>
<br><span class="f_CodeExample">(datetime)SeriesInfoInteger(NULL,0,SERIES_SERVER_FIRSTDATE)=1971.01.04&nbsp;00:00:00&nbsp;/&nbsp;ok</span>
<br><span class="f_CodeExample">(datetime)SeriesInfoInteger(NULL,0,SERIES_TERMINAL_FIRSTDATE)=2016.06.01&nbsp;00:00:00&nbsp;/&nbsp;ok</span>
<br><span class="f_CodeExample">SeriesInfoInteger(ABRACADABRA,0,SERIES_BARS_COUNT)=0&nbsp;/&nbsp;MARKET_UNKNOWN_SYMBOL(4301)</span></p>
</td>
</tr>
</table>
</div>

</div>

</body>
</html>
