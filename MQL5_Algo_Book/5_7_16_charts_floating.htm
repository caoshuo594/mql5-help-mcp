<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>5.7.16 Undocking chart window</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part5.htm"> Part 5. Creating application programs </a> / <a class="h_m" href="5_7_charts.htm"> 5.7 Working with charts </a>/ 5.7.16 Undocking chart window
          </td>
          <td width="70" align="right">
          <a href="5_7_15_charts_keyboard_mouse.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="5_7_17_charts_on_drop.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">5.7.16 Undocking chart window</span></p>
<p class="p_Text"><span class="f_Text">Chart windows in the terminal can be undocked from the main window, after which they can be moved to any place on the desktop, including other monitors. MQL5 allows you to find out and change this setting: the corresponding properties are included in the ENUM_CHART_PROPERTY_INTEGER enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:35%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
<th class="table" style="width:20%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Value&nbsp;type</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:35%;"><p class="p_fortable"><span class="f_fortable">CHART_IS_DOCKED</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The chart window is docked (true by default). If set to false, then the chart can be dragged outside the terminal</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">bool</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:35%;"><p class="p_fortable"><span class="f_fortable">CHART_FLOAT_LEFT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The left coordinate of the undocked chart relative to the virtual screen</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:35%;"><p class="p_fortable"><span class="f_fortable">CHART_FLOAT_TOP</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The top coordinate of the undocked chart relative to the virtual screen</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:35%;"><p class="p_fortable"><span class="f_fortable">CHART_FLOAT_RIGHT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The right coordinate of the undocked chart relative to the virtual screen</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:35%;"><p class="p_fortable"><span class="f_fortable">CHART_FLOAT_BOTTOM</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The bottom coordinate of the undocked chart relative to the virtual screen</span></p>
</td>
<td class="table" style="width:20%;"><p class="p_fortable"><span class="f_fortable">int</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Let's set the tracking of these properties in the </span><span class="f_Text" style="font-style: italic;">ChartDock.mq5</span><span class="f_Text"> script.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">flags</span><span class="f_CodeExample">[]&nbsp;=</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">CHART_IS_DOCKED</span><span class="f_CodeExample">,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">CHART_FLOAT_LEFT</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">CHART_FLOAT_TOP</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">CHART_FLOAT_RIGHT</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">CHART_FLOAT_BOTTOM</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;};</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">ChartModeMonitor</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">m</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #333333;">flags</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;...</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">If you now run the script, then undock the chart using the context menu (unpress the </span><span class="f_Text" style="font-style: italic;">Docked</span><span class="f_Text"> switch command) and move or resize the chart, the corresponding logs will be added to the journal.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">Initial&nbsp;state:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;[key]&nbsp;[value]</span>
<br><span class="f_CodeExample">[0]&nbsp;&nbsp;&nbsp;&nbsp;51&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1</span>
<br><span class="f_CodeExample">[1]&nbsp;&nbsp;&nbsp;&nbsp;52&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0</span>
<br><span class="f_CodeExample">[2]&nbsp;&nbsp;&nbsp;&nbsp;53&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0</span>
<br><span class="f_CodeExample">[3]&nbsp;&nbsp;&nbsp;&nbsp;54&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0</span>
<br><span class="f_CodeExample">[4]&nbsp;&nbsp;&nbsp;&nbsp;55&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;undocked</span>
<br><span class="f_CodeExample">CHART_IS_DOCKED&nbsp;1&nbsp;-&gt;&nbsp;0</span>
<br><span class="f_CodeExample">CHART_FLOAT_LEFT&nbsp;0&nbsp;-&gt;&nbsp;299</span>
<br><span class="f_CodeExample">CHART_FLOAT_TOP&nbsp;0&nbsp;-&gt;&nbsp;75</span>
<br><span class="f_CodeExample">CHART_FLOAT_RIGHT&nbsp;0&nbsp;-&gt;&nbsp;1263</span>
<br><span class="f_CodeExample">CHART_FLOAT_BOTTOM&nbsp;0&nbsp;-&gt;&nbsp;472</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;changed&nbsp;the&nbsp;vertical&nbsp;size</span>
<br><span class="f_CodeExample">CHART_FLOAT_BOTTOM&nbsp;472&nbsp;-&gt;&nbsp;500</span>
<br><span class="f_CodeExample">CHART_FLOAT_BOTTOM&nbsp;500&nbsp;-&gt;&nbsp;539</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;changed&nbsp;the&nbsp;horizontal&nbsp;size</span>
<br><span class="f_CodeExample">CHART_FLOAT_RIGHT&nbsp;1263&nbsp;-&gt;&nbsp;1024</span>
<br><span class="f_CodeExample">CHART_FLOAT_RIGHT&nbsp;1024&nbsp;-&gt;&nbsp;1023</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;docked&nbsp;back</span>
<br><span class="f_CodeExample">CHART_IS_DOCKED&nbsp;0&nbsp;-&gt;&nbsp;1</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">This section completes the description of properties managed through the </span><span class="f_Text" style="font-style: italic;">ChartGet</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">ChartSet</span><span class="f_Text"> functions, so let's summarize the material using a common script </span><span class="f_Text" style="font-style: italic;">ChartFullSet.mq5</span><span class="f_Text">. It keeps track of the state of all properties of all types. The initialization of the flags array is done by simply filling in successive indexes in a loop. The maximum value is taken with a margin in case of new properties, and extra non-existent numbers will be automatically discarded by the check built into the </span><span class="f_Text" style="font-style: italic;">ChartModeMonitorBase</span><span class="f_Text"> class (remember the </span><span class="f_Text" style="font-style: italic;">detect</span><span class="f_Text"> method).</span></p>
<p class="p_Text"><span class="f_Text">After activating the script, try changing any settings while watching the program messages in the log.</span></p>

</div>

</body>
</html>
