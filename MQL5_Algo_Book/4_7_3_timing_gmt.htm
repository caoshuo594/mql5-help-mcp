<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>4.7.3 Universal Time</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part4.htm"> Part 4. Common APIs </a> / <a class="h_m" href="4_7_timing.htm"> 4.7 Functions for working with time </a>/ 4.7.3 Universal Time
          </td>
          <td width="70" align="right">
          <a href="4_7_2_timing_daylight_saving.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="4_7_4_timing_sleep.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">4.7.3 Universal Time</span></p>
<p class="p_Text"><span class="f_Text">In MQL5, you can find out the global GMT (UTC) based on the computer's local time and its time zone.</span></p>
<p class="p_H4"><span class="f_H4">datetime TimeGMT()</span></p>
<p class="p_H4" style="margin: 0 23px 1px 17px;"><span class="f_H4">datetime TimeGMT(MqlDateTime &amp;dt)</span></p>
<p class="p_Text"><span class="f_Text">The function returns GMT in the </span><span class="f_Text" style="font-style: italic;">datetime</span><span class="f_Text"> format, counting it from the local time of the computer, taking into account the transition to winter or summer time.</span></p>
<p class="p_Text"><span class="f_Text">Generalized calculation formula:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">TimeGMT</span><span class="f_CodeExample">()&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">TimeLocal</span><span class="f_CodeExample">()&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">TimeGMTOffset</span><span class="f_CodeExample">()</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Thus, the accuracy of the representation of universal time depends on the correct setting of the clock on the local computer. Ideally, the value retrieved should match the value known to the server.</span></p>
<p class="p_Text"><span class="f_Text">For trading strategies based on external economic news, it is easiest to use calendars in the GMT time zone: then upcoming events can be tracked by </span><span class="f_Text" style="font-style: italic;">TimeGMT</span><span class="f_Text">. To bind an event to the server time on the chart, you should correct the event for the difference between the server time zone and GMT (</span><span class="f_Text" style="font-style: italic;">TimeTradeServer() - TimeGMT()</span><span class="f_Text">). But remember that MQL5 has its own built-in <a href="7_3_calendar.htm" class="topiclink">calendar</a>.</span></p>
<p class="p_H4"><span class="f_H4">int TimeGMTOffset()</span></p>
<p class="p_Text"><span class="f_Text">The function returns the current difference between GMT and the computer's local time in seconds, based on the time zone setting in Windows, taking into account the current daylight savings time. In most cases, the time zone is given as an integer number of hours relative to GMT, so </span><span class="f_Text" style="font-style: italic;">TimeGMTOffset</span><span class="f_Text"> is equal to the time zone multiplied by -3600 (converted to seconds). For example, in winter the time zone can be equal to UTC + 2, which gives an offset of -7200, and in summer it can be UTC + 3, which gives -10800. The minus is needed, because positive time zones when converting their time to GMT require subtraction of the above number of seconds, and negative ones require additions.</span></p>
<p class="p_Text"><span class="f_Text">A script using </span><span class="f_Text" style="font-style: italic;">TimeGMT</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">TimeGMTOffset</span><span class="f_Text"> was shown in the <a href="4_7_2_timing_daylight_saving.htm" class="topiclink">previous section</a>.</span></p>

</div>

</body>
</html>
