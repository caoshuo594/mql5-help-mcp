<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>2.8.1 Function definition</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part2.htm"> Part 2. Programming fundamentals </a> / <a class="h_m" href="2_8_functions.htm"> 2.8 Functions </a>/ 2.8.1 Function definition
          </td>
          <td width="70" align="right">
          <a href="2_8_functions.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="2_8_2_functions_call.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">2.8.1 Function definition</span></p>
<p class="p_Text"><span class="f_Text">A function definition consists of the value type it returns, an identifier, a list of parameters in parentheses, and a body – a block of code with statements. Parameters in the list are separated by commas. Each parameter is given a type, a name, and optionally a default value.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #333333;">result_type</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">function_identifier</span><span class="f_CodeExample">&nbsp;(&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">parameter_type</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">parameter_identifier</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">value_by_default]</span><span class="f_CodeExample">&nbsp;,...&nbsp;)</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span><span class="f_CodeExample" style="color: #333333;">statement]</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;...</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">It is allowed to create functions without parameters: then there is no list, and empty brackets are placed after the function name (they cannot be omitted). Optionally, you can write the </span><span class="f_Text" style="font-style: italic;">void</span><span class="f_Text"> keyword between the brackets to emphasize that there are no parameters. For example, like this:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnStart</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The combination of return type, number and types of parameters in the list is called a function prototype or signature. Different functions can have the same prototype.</span></p>
<p class="p_Text"><span class="f_Text">In previous sections, we have already seen function definitions such as </span><span class="f_Text" style="font-style: italic;">OnStart</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">Greeting</span><span class="f_Text">. Now let's try to implement the calculation of Fibonacci numbers as a test function. These numbers are calculated by the following formula:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">f[0]&nbsp;=&nbsp;1</span>
<br><span class="f_CodeExample">f[1]&nbsp;=&nbsp;1</span>
<br><span class="f_CodeExample">f[i]&nbsp;=&nbsp;f[i&nbsp;-&nbsp;1]&nbsp;+&nbsp;f[i&nbsp;-&nbsp;2],&nbsp;i&nbsp;&gt;&nbsp;1</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">The first two numbers are 1, and all subsequent numbers are the sum of the previous two. We give the beginning of the series: 1, 1, 2, 3, 5, 8, 13, 21, 34, 55...</span></p>
<p class="p_Text"><span class="f_Text">You can calculate the number at a given index using the following function (</span><span class="f_Text" style="font-style: italic;">FuncFibo.mq5</span><span class="f_Text">).</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">Fibo</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">n</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prev</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">for</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">i</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">i</span><span class="f_CodeExample">&nbsp;&lt;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">n</span><span class="f_CodeExample">;&nbsp;++</span><span class="f_CodeExample" style="color: #333333;">i</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prev</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prev</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">temp</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">result</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">It takes one parameter </span><span class="f_Text" style="font-style: italic;">n</span><span class="f_Text"> of type </span><span class="f_Text" style="font-style: italic;">int</span><span class="f_Text"> and returns a result of type </span><span class="f_Text" style="font-style: italic;">int</span><span class="f_Text">. The </span><span class="f_Text" style="font-style: italic;">n</span><span class="f_Text"> parameter has the </span><span class="f_Text" style="font-style: italic;">const</span><span class="f_Text"> modifier because we are not going to change </span><span class="f_Text" style="font-style: italic;">n</span><span class="f_Text"> inside the function (such an explicit declaration of restrictions on the &quot;rights&quot; of variables is welcome because it helps avoid random errors).</span></p>
<p class="p_Text"><span class="f_Text">Local variables </span><span class="f_Text" style="font-style: italic;">prev</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">result</span><span class="f_Text"> will store the current values of the last two numbers in the series. In the loop over </span><span class="f_Text" style="font-style: italic;">i</span><span class="f_Text"> we calculate their sum, getting the next number of the sequence. Previously, the old value </span><span class="f_Text" style="font-style: italic;">result</span><span class="f_Text"> is written to the variable </span><span class="f_Text" style="font-style: italic;">temp</span><span class="f_Text">, so that after summation, it is transferred to </span><span class="f_Text" style="font-style: italic;">prev</span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">After executing the loop a given number of times, the </span><span class="f_Text" style="font-style: italic;">result</span><span class="f_Text"> variable contains the desired number. We return it from the function using the </span><span class="f_Text" style="font-style: italic;">result</span><span class="f_Text"> statement.</span></p>
<p class="p_Text"><span class="f_Text">The input parameter of a function is also a local variable that will be initialized to the actual value during the function call. This value is passed &quot;outside&quot; from the statement with the function call.</span></p>
<p class="p_Text"><span class="f_Text">Parameter names must be unique and must not match local variable names.</span></p>
<p class="p_Text"><span class="f_Text">The body of a function is a block of code that defines the <a href="2_3_2_scope_and_lifetime.htm" class="topiclink">scope and lifetime of local variables</a>. Their definition and operation principles were discussed in the sections <a href="2_7_2_statements_declaration.htm" class="topiclink">Declaration/definition statements</a> and <a href="2_3_3_initialization.htm" class="topiclink">Initialization</a>.</span></p>

</div>

</body>
</html>
