<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>7.3.1 Basic concepts of the calendar</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part7.htm"> Part 7. Advanced language tools </a> / <a class="h_m" href="7_3_calendar.htm"> 7.3 Economic calendar </a>/ 7.3.1 Basic concepts of the calendar
          </td>
          <td width="70" align="right">
          <a href="7_3_calendar.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="7_3_2_calendar_countries.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">7.3.1 Basic concepts of the calendar</span></p>
<p class="p_Text"><span class="f_Text">When working with the calendar, we will operate with several concepts, for the formal description of which MQL5 defines special types of structures.</span></p>
<p class="p_Text"><span class="f_Text">First of all, the events are related to specific countries, and each country is described using the </span><span class="f_Text" style="font-style: italic;">MqlCalendarCountry</span><span class="f_Text"> structure.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">struct</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">MqlCalendarCountry</span>
<br><span class="f_CodeExample">{&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">id</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//country&nbsp;identifier&nbsp;according&nbsp;to&nbsp;ISO&nbsp;3166-1&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;text&nbsp;name&nbsp;of&nbsp;the&nbsp;country&nbsp;(in&nbsp;the&nbsp;current&nbsp;terminal&nbsp;encoding)&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">code</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;two-letter&nbsp;country&nbsp;designation&nbsp;according&nbsp;to&nbsp;ISO&nbsp;3166-1&nbsp;alpha-2&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">currency</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;international&nbsp;country&nbsp;currency&nbsp;code&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">currency_symbol</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;symbol/sign&nbsp;of&nbsp;the&nbsp;country's&nbsp;currency&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">url_name</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;country&nbsp;name&nbsp;used&nbsp;in&nbsp;the&nbsp;URL&nbsp;on&nbsp;the&nbsp;mql5.com&nbsp;website&nbsp;</span>
<br><span class="f_CodeExample">};</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">How to get a list of countries available in the calendar and their attributes as an array of </span><span class="f_Text" style="font-style: italic;">MqlCalendarCountry</span><span class="f_Text"> structures, we will find out in the next section.</span></p>
<p class="p_Text"><span class="f_Text">For now, we just pay attention to the </span><span class="f_Text" style="font-style: italic;">id</span><span class="f_Text"> field. It is important because it is the key to determining whether calendar events belong to a particular country. In each country (or a registered association of countries, such as the European Union) there is a specific, internationally known list of types of economic indicators and informational events that affect the market and are therefore included in the calendar.</span></p>
<p class="p_Text"><span class="f_Text">Each event type is defined by the </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> structure, in which the field </span><span class="f_Text" style="font-style: italic;">country_id</span><span class="f_Text"> uniquely links the event to the country. We will consider the types of enumerations used below.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">struct</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">MqlCalendarEvent</span>
<br><span class="f_CodeExample">{&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">id</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;event&nbsp;ID&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_TYPE</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">type</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;event&nbsp;type&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_SECTOR</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">sector</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;sector&nbsp;to&nbsp;which&nbsp;the&nbsp;event&nbsp;belongs&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_FREQUENCY</span><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">frequency</span><span class="f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;frequency&nbsp;(periodicity)&nbsp;of&nbsp;the&nbsp;event&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_TIMEMODE</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">time_mode</span><span class="f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;event&nbsp;time&nbsp;mode&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">country_id</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;country&nbsp;identifier&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_UNIT</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">unit</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;indicator&nbsp;unit&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_IMPORTANCE</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">importance</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;importance&nbsp;of&nbsp;the&nbsp;event&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_MULTIPLIER</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">multiplier</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;indicator&nbsp;multiplier&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">digits</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;number&nbsp;of&nbsp;decimal&nbsp;places</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">source_url</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;URL&nbsp;of&nbsp;the&nbsp;event&nbsp;publication&nbsp;source&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">event_code</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;event&nbsp;code</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">name</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;text&nbsp;name&nbsp;of&nbsp;the&nbsp;event&nbsp;in&nbsp;the&nbsp;terminal&nbsp;language&nbsp;</span>
<br><span class="f_CodeExample">};</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">It is important to understand that the </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> structure describes exactly the type of event (for example, the publication of the Consumer Price Index, CPI) but not a specific event that may occur once a quarter, once a month, or according to another schedule. It contains the general characteristics of the event, including importance, frequency, relation to the sector of the economy, units of measurement, name, and source of information. As for the actual and forecast indicators, these will be provided in the calendar entries for each specific event of this type: these entries are stored as </span><span class="f_Text" style="font-style: italic;">MqlCalendarValue</span><span class="f_Text"> structures, which will be discussed later. Functions for querying the supported types of events will be introduced in later sections.</span></p>
<p class="p_Text"><span class="f_Text">The event type in the </span><span class="f_Text" style="font-style: italic;">type</span><span class="f_Text"> field is specified as one of the ENUM_CALENDAR_EVENT_TYPE enumeration values.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_TYPE_EVENT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Event (meeting, speech, etc.)</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_TYPE_INDICATOR</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Economic indicator</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_TYPE_HOLIDAY</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Holiday (weekend)</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">The sector of the economy to which the event belongs is selected from the ENUM_CALENDAR_EVENT_SECTOR enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_NONE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Sector is not set</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_MARKET</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Market, exchange</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_GDP</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Gross Domestic Product (GDP)</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_JOBS</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Labor market</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_PRICES</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Prices</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_MONEY</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Money</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_TRADE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Trade</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_GOVERNMENT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Government</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_BUSINESS</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Business</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_CONSUMER</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Consumption</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_HOUSING</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Housing</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_TAXES</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Taxes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_SECTOR_HOLIDAYS</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Holidays</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">The frequency of the event is indicated in the </span><span class="f_Text" style="font-style: italic;">frequency</span><span class="f_Text"> field using the ENUM_CALENDAR_EVENT_FREQUENCY enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_FREQUENCY_NONE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Publication frequency is not set</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_FREQUENCY_WEEK</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Weekly</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_FREQUENCY_MONTH</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Monthly</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_FREQUENCY_QUARTER</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Quarterly</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_FREQUENCY_YEAR</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Yearly</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_FREQUENCY_DAY</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Daily</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Event duration (</span><span class="f_Text" style="font-style: italic;">time_mode</span><span class="f_Text">) can be described by one of the elements of the ENUM_CALENDAR_EVENT_TIMEMODE enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_TIMEMODE_DATETIME</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The exact time of the event is known</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_TIMEMODE_DATE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The event takes all day</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_TIMEMODE_NOTIME</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Time is not published</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_TIMEMODE_TENTATIVE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Only the day is known in advance, but not the exact time of the event (the time is specified after the fact)</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">The importance of the event is specified in the </span><span class="f_Text" style="font-style: italic;">importance</span><span class="f_Text"> field using the ENUM_CALENDAR_EVENT_IMPORTANCE enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_IMPORTANCE_NONE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Not set</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_IMPORTANCE_LOW</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Low</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_IMPORTANCE_MODERATE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Moderate</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_IMPORTANCE_HIGH</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">High</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">The units of measurement in which event values are given are defined in the </span><span class="f_Text" style="font-style: italic;">unit</span><span class="f_Text"> field as a member of the ENUM_CALENDAR_EVENT_UNIT enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_NONE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Unit is not set</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_PERCENT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Interest (%)</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_CURRENCY</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">National currency</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_HOUR</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Number of hours</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_JOB</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Number of workplaces</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_RIG</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Drilling rigs</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_USD</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">U.S. dollars</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_PEOPLE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Number of people</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_MORTGAGE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Number of mortgage loans</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_VOTE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Number of votes</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_BARREL</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Amount in barrels</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_CUBICFEET</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Volume in cubic feet</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_POSITION</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Net volume of speculative positions in contracts</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_UNIT_BUILDING</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Number of buildings</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">In some cases, the values of an economic indicator require a </span><span class="f_Text" style="font-style: italic;">multiplier</span><span class="f_Text"> according to one of the elements of the ENUM_CALENDAR_EVENT_MULTIPLIER enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_MULTIPLIER_NONE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Multiplier is not set</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_MULTIPLIER_THOUSANDS</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Thousands</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_MULTIPLIER_MILLIONS</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Millions</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_MULTIPLIER_BILLIONS</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Billions</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_MULTIPLIER_TRILLIONS</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Trillions</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">So, we have considered all the special data types used to describe the types of events in the </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> structure.</span></p>
<p class="p_Text"><span class="f_Text">A separate calendar entry is formed as a </span><span class="f_Text" style="font-style: italic;">MqlCalendarValue</span><span class="f_Text"> structure. Its detailed description is given below, but for now, it is important to pay attention to the following nuance. </span><span class="f_Text" style="font-style: italic;">MqlCalendarValue</span><span class="f_Text"> has the </span><span class="f_Text" style="font-style: italic;">event_id</span><span class="f_Text"> field which points to the identifier of the event type, i.e., contains one of the existing </span><span class="f_Text" style="font-style: italic;">id</span><span class="f_Text"> in </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> structures.</span></p>
<p class="p_Text"><span class="f_Text">As we saw above, the </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> structure in turn is related to </span><span class="f_Text" style="font-style: italic;">MqlCalendarCountry</span><span class="f_Text"> via the </span><span class="f_Text" style="font-style: italic;">country_id</span><span class="f_Text"> field. Thus, having once entered information about a specific country or type of event into the calendar database, it is possible to register an arbitrary number of similar events for them. Of course, the information provider is responsible for filling the database, not the developers.</span></p>
<p class="p_Text"><span class="f_Text">Let's summarize the subtotal: the system stores three internal tables separately:</span></p>
<ul style="list-style-type:disc">
<li class="p_li"><span class="f_li">The </span><span class="f_li" style="font-style: italic;">MqlCalendarCountry</span><span class="f_li"> structure table to describe countries</span></li>
<li class="p_li"><span class="f_li">The </span><span class="f_li" style="font-style: italic;">MqlCalendarEvent</span><span class="f_li"> structure table with descriptions of types of events</span></li>
<li class="p_li"><span class="f_li">The </span><span class="f_li" style="font-style: italic;">MqlCalendarValue</span><span class="f_li"> structure table with indicators of specific events of various types</span></li>
</ul>
<p class="p_Text"><span class="f_Text">By referencing event type identifiers, duplication of information is eliminated from records of specific events. For example, monthly publications of CPI values only refer to the same </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> structure with the general characteristics of this event type. If it were not for the different tables, it would be necessary to repeat the same properties in each CPI calendar entry. This approach to establishing relationships between tables with data using identifier fields is called </span><span class="f_Text" style="font-style: italic;">relational</span><span class="f_Text">, and we will return to it in the chapter on <a href="7_6_sqlite.htm" class="topiclink">SQLite</a>. All this is illustrated in the following diagram.</span></p>
<p class="p_ImageCaption"><img class="help" alt="Scheme of links between structures by fields with identifiers" title="Scheme of links between structures by fields with identifiers" width="600" height="455" style="margin:0 auto 0 auto;width:600px;height:455px;border:none" src="calendar2.png"/></p>
<p class="p_ImageCaption"><span class="f_ImageCaption">Diagram of links between structures by fields with identifiers</span></p>
<p class="p_Text"><span class="f_Text">All tables are stored in the internal calendar database, which is constantly kept up to date while the terminal is connected to the server.</span></p>
<p class="p_Text"><span class="f_Text">Calendar entries (specific events) are </span><span class="f_Text" style="font-style: italic;">MqlCalendarValue</span><span class="f_Text"> structures. They are also identified by their own unique number in the </span><span class="f_Text" style="font-style: italic;">id</span><span class="f_Text"> field (each of the three tables has its own </span><span class="f_Text" style="font-style: italic;">id</span><span class="f_Text"> field).</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">struct</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">MqlCalendarValue</span><span class="f_CodeExample">&nbsp;</span>
<br><span class="f_CodeExample">{&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">id</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;entry&nbsp;ID&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">event_id</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;event&nbsp;type&nbsp;ID&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">datetime</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">time</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;time&nbsp;and&nbsp;date&nbsp;of&nbsp;the&nbsp;event&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">datetime</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">period</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;reporting&nbsp;period&nbsp;of&nbsp;the&nbsp;event&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">revision</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;revision&nbsp;of&nbsp;the&nbsp;published&nbsp;indicator&nbsp;in&nbsp;relation&nbsp;to&nbsp;the&nbsp;reporting&nbsp;period&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">long</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">actual_value</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;actual&nbsp;value&nbsp;in&nbsp;ppm&nbsp;or&nbsp;LONG_MIN&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">long</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">prev_value</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;previous&nbsp;value&nbsp;in&nbsp;ppm&nbsp;or&nbsp;LONG_MIN&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">long</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">revised_prev_value</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;revised&nbsp;previous&nbsp;value&nbsp;in&nbsp;ppm&nbsp;or&nbsp;LONG_MIN&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">long</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #333333;">forecast_value</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;forecast&nbsp;value&nbsp;in&nbsp;ppm&nbsp;or&nbsp;LONG_MIN&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">ENUM_CALENDAR_EVENT_IMPACT</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">impact_type</span><span class="f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;potential&nbsp;impact&nbsp;on&nbsp;the&nbsp;exchange&nbsp;rate</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;functions&nbsp;for&nbsp;checking&nbsp;values</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">HasActualValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;true&nbsp;if&nbsp;the&nbsp;actual_value&nbsp;field&nbsp;is&nbsp;filled&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">HasPreviousValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;true&nbsp;if&nbsp;the&nbsp;prev_value&nbsp;field&nbsp;is&nbsp;filled&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">HasRevisedValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;true&nbsp;if&nbsp;the&nbsp;revised_prev_value&nbsp;field&nbsp;is&nbsp;filled&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">HasForecastValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;true&nbsp;if&nbsp;the&nbsp;forecast_value&nbsp;field&nbsp;is&nbsp;filled</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;functions&nbsp;for&nbsp;getting&nbsp;values&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">GetActualValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;actual_value&nbsp;or&nbsp;nan&nbsp;if&nbsp;value&nbsp;is&nbsp;not&nbsp;set&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">GetPreviousValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;prev_value&nbsp;or&nbsp;nan&nbsp;if&nbsp;value&nbsp;is&nbsp;not&nbsp;set&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">GetRevisedValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;revised_prev_value&nbsp;or&nbsp;nan&nbsp;if&nbsp;value&nbsp;is&nbsp;not&nbsp;set&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">GetForecastValue</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;forecast_value&nbsp;or&nbsp;nan&nbsp;if&nbsp;value&nbsp;is&nbsp;not&nbsp;set&nbsp;</span>
<br><span class="f_CodeExample">};</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">For each event, in addition to the time of its publication (</span><span class="f_Text" style="font-style: italic;">time</span><span class="f_Text">), the following four values are also stored:</span></p>
<ul style="list-style-type:disc">
<li class="p_li"><span class="f_li">Actual value (</span><span class="f_li" style="font-style: italic;">actual_value</span><span class="f_li">), which becomes known immediately after the publication of the news</span></li>
<li class="p_li"><span class="f_li">Previous value (</span><span class="f_li" style="font-style: italic;">prev_value</span><span class="f_li">), which became known in the last release of the same news</span></li>
<li class="p_li"><span class="f_li">Revised value of the previous indicator, </span><span class="f_li" style="font-style: italic;">revised_prev_value</span><span class="f_li"> (if it has been modified since the last publication)</span></li>
<li class="p_li"><span class="f_li">Forecast value (</span><span class="f_li" style="font-style: italic;">forecast_value</span><span class="f_li">)</span></li>
</ul>
<p class="p_Text"><span class="f_Text">Obviously, not all the fields must be necessarily filled. So, the current value is absent (not yet known) for future events, and the revision of past values also does not always occur. In addition, all four fields make sense only for quantitative indicators, while the calendar also reflects regulators' speeches, meetings and holidays.</span></p>
<p class="p_Text"><span class="f_Text">An empty field (no value) is indicated by the constant LONG_MIN (-9223372036854775808). If the value in the field is specified (not equal to LONG_MIN), then it corresponds to the real value of the indicator increased by a million times, that is, to obtain the indicator in the usual (real) form, it is necessary to divide the field value by 1,000,000.</span></p>
<p class="p_Text"><span class="f_Text">For the convenience of the programmer, the structure defines 4 </span><span class="f_Text" style="font-style: italic;">Has</span><span class="f_Text"> methods for checking the field is filled, as well as 4 </span><span class="f_Text" style="font-style: italic;">Get</span><span class="f_Text"> methods that return the value of the corresponding field already converted to a real number, and in the case when it is not filled, the method will return <a href="4_4_9_maths_nan.htm" class="topiclink">NaN</a> (Not A Number).</span></p>
<p class="p_Text"><span class="f_Text">Sometimes, in order to obtain absolute values (if they are required for the algorithm), it is important to additionally analyze the </span><span class="f_Text" style="font-style: italic;">multiplier</span><span class="f_Text"> property in the </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> structure since some values are specified in multiple units according to the ENUM_CALENDAR_EVENT_MULTIPLIER enumeration. Besides, </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text"> has the </span><span class="f_Text" style="font-style: italic;">digits</span><span class="f_Text"> field, which specifies the number of significant digits in the received values for subsequent correct formatting (for example, in a call to </span><span class="f_Text" style="font-style: italic;">NormalizeDouble</span><span class="f_Text">).</span></p>
<p class="p_Text"><span class="f_Text">The reporting period (for which the published indicator is calculated) is set in the </span><span class="f_Text" style="font-style: italic;">period</span><span class="f_Text"> field as its first day. For example, if the indicator is calculated monthly, then the date '2022.05.01 00:00:00' means the month of May. The duration of the period (for example, month, quarter, year) is defined in the </span><span class="f_Text" style="font-style: italic;">frequency</span><span class="f_Text"> field of the related structure </span><span class="f_Text" style="font-style: italic;">MqlCalendarEvent</span><span class="f_Text">: the type of this field is the special ENUM_CALENDAR_EVENT_FREQUENCY enumeration described above, along with other enumerations.</span></p>
<p class="p_Text"><span class="f_Text">Of particular interest is the </span><span class="f_Text" style="font-style: italic;">impact_type</span><span class="f_Text"> field, in which, after the release of the news, the direction of influence of the corresponding currency on the exchange rate is automatically set by comparing the current and forecast values. This influence can be positive (the currency is expected to appreciate) or negative (the currency is expected to depreciate). For example, a larger drop in sales than expected would be labeled as having a negative impact, and a larger drop in unemployment as positive. But this characteristic is interpreted unambiguously not for all events (some economic indicators are considered contradictory), and besides, one should pay attention to the relative numbers of changes.</span></p>
<p class="p_Text"><span class="f_Text">The potential impact of an event on the national currency rate is indicated using the ENUM_CALENDAR_EVENT_IMPACT enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_IMPACT_NA</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Influence is not stated</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_IMPACT_POSITIVE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Positive influence</span></p>
</td>
</tr>
<tr class="table">
<td class="table"><p class="p_fortable"><span class="f_fortable">CALENDAR_IMPACT_NEGATIVE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Negative influence</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Another important concept of the calendar is the fact of its change. Unfortunately, there is no special structure for change. The only property a change has is its unique ID, which is an integer assigned by the system each time the internal calendar base is changed.</span></p>
<p class="p_Text"><span class="f_Text">As you know, the calendar is constantly modified by information providers: new upcoming events are added to it, and already published indicators and forecasts are corrected. Therefore, it is very important to keep track of any edits, the occurrence of which makes it possible to detect periodically increasing change numbers.</span></p>
<p class="p_Text"><span class="f_Text">The edit time with a specific identifier and its essence are not available in MQL5. If necessary, MQL programs should implement periodic calendar state queries and record analysis themselves.</span></p>
<p class="p_Text"><span class="f_Text">A set of MQL5 functions allows getting information about countries, types of events and specific calendar entries, as well as their changes. We will consider this in the following sections.</span></p>
<p class="p_Quote"><span class="f_Quote">Attention! When accessing the calendar for the first time (if the Calendar tab in the terminal toolbar has not been opened before), it may take several seconds to synchronize the internal calendar database with the server.</span></p>

</div>

</body>
</html>
