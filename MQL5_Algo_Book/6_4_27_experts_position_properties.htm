<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>6.4.27 Position properties</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part6.htm"> Part 6. Trading automation </a> / <a class="h_m" href="6_4_experts.htm"> 6.4 Creating Expert Advisors </a>/ 6.4.27 Position properties
          </td>
          <td width="70" align="right">
          <a href="6_4_26_experts_position_list.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="6_4_28_experts_positionget_funcs.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">6.4.27 Position properties</span></p>
<p class="p_Text"><span class="f_Text">All position properties are divided into three groups according to the type of values: integer and compatible with them, real numbers, and strings. They are used to read </span><span class="f_Text" style="font-style: italic;">PositionGet</span><span class="f_Text"> functions similar to </span><span class="f_Text" style="font-style: italic;"><a href="6_4_24_experts_orderget_funcs.htm" class="topiclink">OrderGet</a></span><span class="f_Text"><a href="6_4_24_experts_orderget_funcs.htm" class="topiclink"> functions</a>. We will describe the functions themselves in the next section, and here we will give the identifiers of all properties that are available for specifying in the first parameter of these functions.</span></p>
<p class="p_Text"><span class="f_Text">Integer properties are provided in the ENUM_POSITION_PROPERTY_INTEGER enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:33%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Type</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_TICKET</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position ticket</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">ulong</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_TIME</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position opening time</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">datetime</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_TIME_MSC</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position opening time in milliseconds</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">ulong</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_TIME_UPDATE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position change (volume) time </span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">datetime</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_TIME_UPDATE_MSC</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position change (volume) time in milliseconds</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">ulong</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_TYPE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position type</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">ENUM_POSITION_TYPE</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_MAGIC</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position Magic number (based on <a href="6_4_23_experts_order_properties.htm" class="topiclink">ORDER_MAGIC</a>)</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">ulong</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_IDENTIFIER</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position identifier; a unique number that is assigned to each newly opened position and does not change during its entire life.</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">ulong</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:33%;"><p class="p_fortableCondensed"><span class="f_fortableCondensed">POSITION_REASON</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Reason for opening a position</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">ENUM_POSITION_REASON</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">As a rule, POSITION_IDENTIFIER corresponds to the ticket of the order that opened the position. The position identifier is indicated in each order (ORDER_POSITION_ID) and deal (DEAL_POSITION_ID) that opened, changed, or closed it. Therefore, it is convenient to use it to search for orders and deals related to a position.</span></p>
<p class="p_Text"><span class="f_Text">If the order is filled partially, then both the position and the active pending order for the remaining volume with matching tickets can exist simultaneously. Moreover, such a position can be closed in time, and at the next filling of the rest of the pending order, a position with the same ticket will appear again.</span></p>
<p class="p_Text"><span class="f_Text">In netting mode, reversing a position with one trade is considered a position change, not a new one, so the POSITION_IDENTIFIER is preserved. A new position on a symbol is possible only after closing the previous one in zero volume.</span></p>
<p class="p_Text"><span class="f_Text">The POSITION_TIME_UPDATE property only responds to volume changes (for example, as a result of partial closing or position increase), but not other parameters like </span><span class="f_Text" style="font-style: italic;">Stop Loss/Take Profit</span><span class="f_Text"> levels or swap charges.</span></p>
<p class="p_Text"><span class="f_Text">There are only two types of positions (ENUM_POSITION_TYPE).</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:40%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_TYPE_BUY</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Buy</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_TYPE_SELL</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Sell</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Options for the origin of a position, that is, how the position was opened, are provided in the ENUM_POSITION_REASON enumeration.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:40%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_REASON_CLIENT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Triggering of an order placed from the desktop terminal</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_REASON_MOBILE</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Triggering of an order placed from a mobile application</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_REASON_WEB</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Triggering of an order placed from the web platform (browser)</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_REASON_EXPERT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Triggering of an order placed by an Expert Advisor or a script</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">Real properties are collected in ENUM_POSITION_PROPERTY_DOUBLE.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:40%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_VOLUME</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position volume</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_PRICE_OPEN</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position price</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_SL</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Stop Loss Price</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_TP</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Take profit price</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_PRICE_CURRENT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Current symbol price</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_SWAP</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Accumulated swap</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_PROFIT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Current profit</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">The current price type corresponds to the position closing operation. For example, a long position must be closed by selling, and therefore the </span><span class="f_Text" style="font-style: italic;">Bid</span><span class="f_Text"> price for it is tracked in POSITION_PRICE_CURRENT.</span></p>
<p class="p_Text"><span class="f_Text">Finally, the following string properties (ENUM_POSITION_PROPERTY_STRING) are supported for positions.</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 7px 17px 6px 17px;"><table class="table" cellspacing="0" cellpadding="5" border="1">
<thead>
<tr class="table">
<th class="table" style="width:40%;"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Identifier</span></p>
</th>
<th class="table"><p class="p_BoldTitlesInTables"><span class="f_BoldTitlesInTables">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_SYMBOL</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">The symbol on which the position is opened</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_COMMENT</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position comment</span></p>
</td>
</tr>
<tr class="table">
<td class="table" style="width:40%;"><p class="p_fortable"><span class="f_fortable">POSITION_EXTERNAL_ID</span></p>
</td>
<td class="table"><p class="p_fortable"><span class="f_fortable">Position ID in the external system (on the exchange)</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">After reviewing the list of position properties, we are ready to look at the functions for reading these properties.</span></p>

</div>

</body>
</html>
