<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>2.5.1 Basic concepts</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part2.htm"> Part 2. Programming fundamentals </a> / <a class="h_m" href="2_5_expressions.htm"> 2.5 Expressions </a>/ 2.5.1 Basic concepts
          </td>
          <td width="70" align="right">
          <a href="2_5_expressions.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="2_5_2_operator_assignment.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">2.5.1 Basic concepts</span></p>
<p class="p_Text"><span class="f_Text">Before proceeding to the specific groups of operators, we should introduce some basic concepts that are inherent in all operators and affect their applicability and behavior in a particular context.</span></p>
<p class="p_Text"><span class="f_Text">First of all, by the quantity of operands required, operators can be unary and binary. As is clear from the names, unary ones process one operand, while binary operators process two. In the case of binary, the operator is always placed between operands. Among unary ones, there are operators that must be put before the operand and those to be placed after it. For example, the unary minus ('-') operator allows reversing the sign of the value:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">x</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">10</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">y</span><span class="f_CodeExample">&nbsp;=&nbsp;-</span><span class="f_CodeExample" style="color: #333333;">x</span><span class="f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;-10</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">At the same time, there is a binary operator for subtraction using the same character, '-'.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">z</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">x</span><span class="f_CodeExample">&nbsp;-&nbsp;</span><span class="f_CodeExample" style="color: #333333;">y</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;10&nbsp;-&nbsp;-10&nbsp;-&gt;&nbsp;20</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Choosing a correct operator (action) by the compiler in a specific context is determined by the context of using it in the expression.</span></p>
<p class="p_Text"><span class="f_Text">Each operator is assigned priority. It determines the order, in which operators will be computed in complex expressions where there are multiple operators. Higher-priority operators are computed as the first, while the lowest-priority ones as the last. For instance, in the expression </span><span class="f_Text" style="font-style: italic;">1 + 2 * 3</span><span class="f_Text"> there are two operations (addition and multiplication) and three operands. Since multiplication has a priority higher than that of addition, the product of </span><span class="f_Text" style="font-style: italic;">2 * 3</span><span class="f_Text"> will be found first, and then it will be added to one.</span></p>
<p class="p_Text"><span class="f_Text">Later we will provide the full table of operations with priorities.</span></p>
<p class="p_Text"><span class="f_Text">Additionally, each operator is characterized by the associativity. It can be left or right and determines the order, in which the successive operators having the same priority are executed. For example, expression </span><span class="f_Text" style="font-style: italic;">10 - 7 - 1</span><span class="f_Text"> can purely theoretically be computed in two ways:</span></p>
<ul>
<li class="p_li"><span class="f_li">Subtract 7 from 10 and then subtract 1 from the resulting 3, which gives 2; or</span></li>
<li class="p_li"><span class="f_li">Subtract 1 from 7, which gives 6, and then subtract 6 from 10, resulting in 4.</span></li>
</ul>
<p class="p_Text"><span class="f_Text">In the first case, computations were performed from left to right, which corresponds with the left associativity; since the subtraction operation is left-associative, indeed, the first answer is correct.</span></p>
<p class="p_Text"><span class="f_Text">The second option of computations corresponds with the right associativity and won't be used.</span></p>
<p class="p_Text"><span class="f_Text">Let's consider another example where there are priority and associativity involved simultaneously: </span><span class="f_Text" style="font-style: italic;">11 + 5 * 4 / 2 + 3</span><span class="f_Text">. Both types of operations, i.e., addition and multiplication, are executed from left to right. If the priorities were not different, we would get 35, although 24 is the correct answer. Changing associativity for the right would give us 14.</span></p>
<p class="p_Text"><span class="f_Text">To explicitly redefine priorities in expressions, parentheses can be used, for instance: </span><span class="f_Text" style="font-style: italic;">(11 + 5) * 4 / (2 + 3)</span><span class="f_Text">. What is enclosed in parentheses is computed earlier, and the intermediate result is substituted in the expression to be used in other operations. Groups in parentheses can be nested. For more details, please see section <a href="2_5_12_operators_parentheses.htm" class="topiclink">Grouping with Parentheses</a>.</span></p>
<p class="p_Text"><span class="f_Text">A right-associative operator can be exemplified by the unary operator of logic negation, '!'. Essentially, its task is to make </span><span class="f_Text" style="font-style: italic;">true</span><span class="f_Text"> from </span><span class="f_Text" style="font-style: italic;">false</span><span class="f_Text">, and vice versa. Like with other unary operators, associativity means in this context, what side of the operator the operand must be placed. Symbol '!' is placed before the operand, i.e., the operand is to the right.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">x</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">10</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">on_off</span><span class="f_CodeExample">&nbsp;=&nbsp;!!</span><span class="f_CodeExample" style="color: #333333;">x</span><span class="f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;1</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">In this case, logic negation is performed twice: first time regarding variable </span><span class="f_Text" style="font-style: italic;">x</span><span class="f_Text"> (right '!') and the second time regarding the result of the preceding negation (left '!'). Such double negation allows transforming any nonzero value into 1 due to converting into </span><span class="f_Text" style="font-style: italic;">bool</span><span class="f_Text"> and back.</span></p>
<p class="p_Text"><span class="f_Text">The final table of operations will also show associativity.</span></p>
<p class="p_Text"><span class="f_Text">Finally, the last but not the least fine point in processing expressions is the order of computing the operands. It should be distinguished from the priority that belongs to the operation, not operands. The order of computing the operands of binary operations is not defined explicitly, which gives the compiler space to optimize the code and enhance its efficiency. The compiler only guarantees that operands will be computed before executing the operation.</span></p>
<p class="p_Text"><span class="f_Text">There is a limited set of operations, for which the operand evaluation order is defined. Particularly, for logic AND ('&amp;&amp;') and OR ('||') it is from left to right, and the right part may be omitted if it does not affect anything due to the value of the left part. But as far as the <a href="2_5_9_operator_conditional.htm" class="topiclink">ternary conditional operator</a> '?:' goes, the order is even more intricate, since either one or another branch will be calculated upon computing the first conditions, depending on its trueness. See further sections for more details.</span></p>
<p class="p_Text"><span class="f_Text">Operand evaluation order is illustrated by the situation where there are several <a href="2_8_functions.htm" class="topiclink">function</a> calls in the expression. For instance, let 4 functions be used in the expression:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">a()&nbsp;+&nbsp;b()&nbsp;*&nbsp;c()&nbsp;-&nbsp;d()</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Priority and associativity rules will only be used for the intermediate results of calling these functions, while the calls themselves can be generated by the compiler in any order it &quot;considers to be necessary&quot; based on the source code features and compiler settings. For example, functions </span><span class="f_Text" style="font-style: italic;">b</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">c</span><span class="f_Text"> involved in multiplication may be called in the order of [</span><span class="f_Text" style="font-style: italic;">b(), c()</span><span class="f_Text">] or, vice versa, [</span><span class="f_Text" style="font-style: italic;">c(), b()</span><span class="f_Text">]. If the functions during being executed may affect the same data, their state will be ambiguous upon the expression computation.</span></p>
<p class="p_Text"><span class="f_Text">A similar problem can be seen when working with arrays and increment operators (see <a href="2_5_4_increment_decrement.htm" class="topiclink">Increment and Decrement</a>).</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">i</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">a</span><span class="f_CodeExample">[</span><span class="f_CodeExample" style="color: #333333;">5</span><span class="f_CodeExample">]&nbsp;=&nbsp;{</span><span class="f_CodeExample" style="color: #333333;">0</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">1</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">2</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">3</span><span class="f_CodeExample">,&nbsp;</span><span class="f_CodeExample" style="color: #333333;">4</span><span class="f_CodeExample">};</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #333333;">w</span><span class="f_CodeExample">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #333333;">a</span><span class="f_CodeExample">[++</span><span class="f_CodeExample" style="color: #333333;">i</span><span class="f_CodeExample">]&nbsp;-&nbsp;</span><span class="f_CodeExample" style="color: #333333;">a</span><span class="f_CodeExample">[++</span><span class="f_CodeExample" style="color: #333333;">i</span><span class="f_CodeExample">];</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">Depending on whether the left or the right difference operand will be computed as the first, we can get -1 (</span><span class="f_Text" style="font-style: italic;">a[1] - a[2]</span><span class="f_Text">) or +1 (</span><span class="f_Text" style="font-style: italic;">a[2] - a[1]</span><span class="f_Text">). Since the MQL5 compiler is ever-improving, there is no guarantee that the current result (-1) will be retained in the future.</span></p>
<p class="p_Text"><span class="f_Text">To avoid potential issues, it is recommended not to use an operand repeatedly, if it has already been modified in the same expression.</span></p>
<p class="p_Text"><span class="f_Text">In all expressions, there can usually be operands of different types. This leads to the need to cast them to a certain common type, before performing any actions with them. If there are no explicit typecasts, MQL5 performs the implicit conversion where necessary. Besides, conversion rules are different for different type combinations. Explicit and implicit typecasting is discussed in the <a href="2_6_conversion.htm" class="topiclink">relevant section</a>.</span></p>

</div>

</body>
</html>
