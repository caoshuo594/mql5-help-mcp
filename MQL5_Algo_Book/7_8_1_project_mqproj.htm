<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>7.8.1 General rules for working with local projects</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part7.htm"> Part 7. Advanced language tools </a> / <a class="h_m" href="7_8_project.htm"> 7.8 Projects </a>/ 7.8.1 General rules for working with local projects
          </td>
          <td width="70" align="right">
          <a href="7_8_project.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="7_8_2_project_web_service_plan.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">7.8.1 General rules for working with local projects</span></p>
<p class="p_Text"><span class="f_Text">A local project (mqproj file) can be created from the MetaEditor main menu or from the </span><span class="f_Text" style="font-style: italic;">Navigator</span><span class="f_Text"> context menu using commands </span><span class="f_Text" style="font-style: italic;">New project</span><span class="f_Text"> or </span><span class="f_Text" style="font-style: italic;">New project from source file</span><span class="f_Text">. In the latter case, the file must first be selected in </span><span class="f_Text" style="font-style: italic;">Navigator</span><span class="f_Text"> or chosen in the </span><span class="f_Text" style="font-style: italic;">Open</span><span class="f_Text"> dialog. As a result, the specified mq5 file will be included in the project immediately. The first of the mentioned commands launches the MQL Wizard, in which you should select the program type or an empty project option (source files can be added to it later). The type of an MQL program for a project is chosen following the usual steps of the Wizard.</span></p>
<p class="p_Text"><span class="f_Text">The project contains several logical sections which resemble a tree (hierarchy) with all the components. They are displayed in the left panel of </span><span class="f_Text" style="font-style: italic;">Navigator</span><span class="f_Text">, in a separate tab </span><span class="f_Text" style="font-style: italic;">Project</span><span class="f_Text">.</span></p>
<p class="p_ImageCaption"><img class="help" alt="Navigator and indicator project properties" title="Navigator and indicator project properties" width="600" height="400" style="margin:0 auto 0 auto;width:600px;height:400px;border:none" src="mqproj.png"/></p>
<p class="p_ImageCaption"><span class="f_ImageCaption">Navigator and indicator project properties</span></p>
<p class="p_Text"><span class="f_Text">Immediately after creating the project or later by double-clicking on the root of the tree, a panel for setting the MQL program properties opens in the right part of the window. The set of properties varies depending on the type of program.</span></p>
<p class="p_Text"><span class="f_Text">Most of the properties correspond to </span><span class="f_Text" style="font-style: italic;">#property</span><span class="f_Text"> directives in the source code. These properties take precedence: if you specify them in both the project and the source code, the values from the project will be used.</span></p>
<p class="p_Text"><span class="f_Text">Some developers may like to set properties interactively in a dialog rather than hardcoded in source code. Also, you can use the same mq5 file in different projects and build versions of an MQL program with different settings (without changing the source code).</span></p>
<p class="p_Text"><span class="f_Text">Some properties are only available in a project. These include, for example, enabling/disabling compilation optimizations and built-in divide-by-zero checks.</span></p>
<p class="p_Text"><span class="f_Text">During project compilation, the system automatically analyzes dependencies, that is, the included header files, resources, and so on. Dependencies appear in different branches of the project hierarchy. In particular, header files from the standard MQL5/Include folders included in the </span><span class="f_Text" style="font-style: italic;">#include</span><span class="f_Text"> directives using angle brackets (</span><span class="f_Text" style="font-style: italic;">&lt;filename&gt;</span><span class="f_Text">), fall into </span><span class="f_Text" style="font-style: italic;">Dependencies</span><span class="f_Text">, and custom header files included with double quotes (</span><span class="f_Text" style="font-style: italic;">#include &quot;filename&quot;</span><span class="f_Text">) fall into the </span><span class="f_Text" style="font-style: italic;">Headers</span><span class="f_Text"> section.</span></p>
<p class="p_Text"><span class="f_Text">Additionally, the user can add files to the project that are related to the finished software product and may be required for its normal operation or demonstration (for example, files with trained neural network models) but are not directly embedded in the source code. For these purposes, you can use the </span><span class="f_Text" style="font-style: italic;">Settings and Files</span><span class="f_Text"> branch. Its context menu contains commands for adding a single file or an entire directory to the project.</span></p>
<p class="p_Text"><span class="f_Text">In particular, we will further consider examples of projects that will include not only client MQL programs but also the server part.</span></p>
<p class="p_Text"><span class="f_Text">Commands </span><span class="f_Text" style="font-style: italic;">New file</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">New folder</span><span class="f_Text"> add a new element to the folder with the project file: such elements are always searched relative to the project itself (in the mqproj file they are marked with the </span><span class="f_Text" style="font-style: italic;">relative_to_project</span><span class="f_Text"> property equal to </span><span class="f_Text" style="font-style: italic;">true</span><span class="f_Text">, see further).</span></p>
<p class="p_Text"><span class="f_Text">Commands </span><span class="f_Text" style="font-style: italic;">Add an existing file</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">Add an existing folder</span><span class="f_Text"> select one or more elements from the existing directory structure inside the MQL5 folder, and these elements inside the mqproj file are referenced relative to the root MQL5 (the </span><span class="f_Text" style="font-style: italic;">relative_to_project</span><span class="f_Text"> property equals </span><span class="f_Text" style="font-style: italic;">false</span><span class="f_Text">).</span></p>
<p class="p_Text"><span class="f_Text">The </span><span class="f_Text" style="font-style: italic;">relative_to_project</span><span class="f_Text"> property is just one of the few defined by the MetaTrader 5 developers to represent a project in JSON format. Recall that as a result of editing the project (hierarchy and properties), an mqproj-file of the JSON format is formed.</span></p>
<p class="p_Text"><span class="f_Text">Here is what that file looks like for the project in the image above.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; page-break-after: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table cellspacing="0" cellpadding="3" border="0" style="text-align: justify;border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_CodeExample">{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;platform&quot;&nbsp;&nbsp;&nbsp;&nbsp;:&quot;mt5&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;program_type&quot;:&quot;indicator&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;copyright&quot;&nbsp;&nbsp;&nbsp;:&quot;Copyright&nbsp;(c)&nbsp;2015-2022,&nbsp;Marketeer&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;link&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&quot;https:\/\/www.mql5.com\/en\/users\/marketeer&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;version&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&quot;1.0&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;description&quot;&nbsp;:&quot;Create&nbsp;2&nbsp;trend&nbsp;lines&nbsp;on&nbsp;highs&nbsp;and&nbsp;lows&nbsp;using&nbsp;Hough&nbsp;transform.&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;optimize&quot;&nbsp;&nbsp;&nbsp;&nbsp;:&quot;1&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;fpzerocheck&quot;&nbsp;:&quot;1&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;tester_no_cache&quot;:&quot;0&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;tester_everytick_calculate&quot;:&quot;0&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;unicode_character_set&quot;:&quot;0&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;static_libraries&quot;:&quot;0&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;indicator&quot;:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&quot;window&quot;:&quot;0&quot;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;},</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&quot;files&quot;:</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;[</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;path&quot;:&quot;HoughChannel.mq5&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;compile&quot;:true,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;relative_to_project&quot;:true</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;},</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;path&quot;:&quot;MQL5\\Include\\MQL5Book\\HoughTransform.mqh&quot;,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;compile&quot;:false,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;relative_to_project&quot;:false</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;]</span>
<br><span class="f_CodeExample">}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">We will talk about the technical features of the JSON format in more detail in the following sections as we will apply it in our demo projects.</span></p>
<p class="p_Quote"><span class="f_Quote">It is important to note that all files referenced by the project are not stored inside the mqproj file, and therefore copying to a new location or moving only the project file to another computer will not restore it. To be able to migrate a project, set up a shared project for it and upload all the contents of the project to the cloud. However, this may require a reorganization of the local file system structure, as all components must be inside the shared project folder, while the mqproj format does not require this.</span></p>

</div>

</body>
</html>
