<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>7.9.11 Calculation of margin requirements and profit estimation</title>
  <meta name="keywords" content="" />
  <link type="text/css" href="default.css" rel="stylesheet" />

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>


</head>

<body style="background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;">



<table width="100%" height="49"  border="0" cellpadding="0" cellspacing="0" style="margin-top:0px; background-color:#1660af;">
  <tr>
    <td></td>
    <td valign="middle">
      <table style="margin-top:4px; margin-bottom:5px;" width="100%"  border="0" cellspacing="0" cellpadding="5">
        <tr valign="middle">
          <td class="nav">
<a class="h_m" href="index.htm">          MQL5 Programming for Traders </a> / <a class="h_m" href="part7.htm"> Part 7. Advanced language tools </a> / <a class="h_m" href="7_9_python.htm"> 7.9 Native python support </a>/ 7.9.11 Calculating margin requirements and evaluating profits
          </td>
          <td width="70" align="right">
          <a href="7_9_10_python_copyticks.htm"><img style="vertical-align:middle;" src="previous.png" alt="?????" width="27" height="27" border=0></a>&nbsp;
          <a href="7_9_12_python_ordercheck_ordersend.htm"><img style="vertical-align:middle;" src="next.png" alt="??????" width="27" height="27" border="0"></a>
          </td>
        </tr>
      </table>
    </td>
    <td width="5"></td>
  </tr>
</table>



<div id="help">
<p class="p_H3"><span class="f_H3">7.9.11 Calculating margin requirements and evaluating profits</span></p>
<p class="p_Text"><span class="f_Text">A Python developer can directly calculate the margin and potential profit or loss of the proposed trading operation in the script using the </span><span class="f_Text" style="font-style: italic;">order_calc_margin</span><span class="f_Text"> and </span><span class="f_Text" style="font-style: italic;">order_calc_profit</span><span class="f_Text"> functions. In the case of successful execution, the result of any function is a real number; otherwise, it's </span><span class="f_Text" style="font-style: italic;">None</span><span class="f_Text">.</span></p>
<p class="p_H4"><span class="f_H4">float order_calc_margin(action, symbol, volume, price)</span></p>
<p class="p_Text"><span class="f_Text">The </span><span class="f_Text" style="font-style: italic;">order_calc_margin</span><span class="f_Text"> function returns the margin amount (in the account currency) required to complete the specified trade operation </span><span class="f_Text" style="font-style: italic;">action</span><span class="f_Text"> which can be one of the two elements of the <a href="6_4_4_experts_order_type.htm" class="topiclink">ENUM_ORDER_TYPE</a> enumeration: ORDER_TYPE_BUY or ORDER_TYPE_SELL. The following parameters specify the name of the financial instrument, the volume of the trade operation, and the opening price.</span></p>
<p class="p_Text"><span class="f_Text">The function is an analog of </span><span class="f_Text" style="font-style: italic;"><a href="6_4_7_experts_ordercalcmargin.htm" class="topiclink">OrderCalcMargin</a></span><span class="f_Text">.</span></p>
<p class="p_H4"><span class="f_H4">float order_calc_profit(action, symbol, volume, price_open, price_close)</span></p>
<p class="p_Text"><span class="f_Text">The </span><span class="f_Text" style="font-style: italic;">order_calc_profit</span><span class="f_Text"> function returns the amount of profit or loss (in the account currency) for the specified type of trade, symbol, and volume, as well as the difference between market entry and exit prices.</span></p>
<p class="p_Text"><span class="f_Text">The function is an analog of </span><span class="f_Text" style="font-style: italic;"><a href="6_4_8_experts_ordercalcprofit.htm" class="topiclink">OrderCalcProfit</a></span><span class="f_Text">.</span></p>
<p class="p_Text"><span class="f_Text">It is recommended to check the margin and the expected result of the trading operation before <a href="7_9_12_python_ordercheck_ordersend.htm" class="topiclink">sending an order</a>.</span></p>

</div>

</body>
</html>
